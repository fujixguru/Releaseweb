var pas={},rtl={version:10501,quiet:!1,debug_load_units:!1,debug_rtti:!1,debug:function(){!rtl.quiet&&console&&console.log&&console.log(arguments)},error:function(t){throw rtl.debug("Error: ",t),t},warn:function(t){rtl.debug("Warn: ",t)},checkVersion:function(t){if(rtl.version!=t)throw"expected rtl version "+t+", but found "+rtl.version},hiInt:Math.pow(2,53),hasString:function(t){return rtl.isString(t)&&t.length>0},isArray:function(t){return Array.isArray(t)},isFunction:function(t){return"function"==typeof t},isModule:function(t){return rtl.isObject(t)&&rtl.hasString(t.$name)&&pas[t.$name]===t},isImplementation:function(t){return rtl.isObject(t)&&rtl.isModule(t.$module)&&t.$module.$impl===t},isNumber:function(t){return"number"==typeof t},isObject:function(t){return"object"==typeof t&&null!=t},isString:function(t){return"string"==typeof t},getNumber:function(t){return"number"==typeof t?t:NaN},getChar:function(t){return"string"==typeof t&&1===t.length?t:""},getObject:function(t){return"object"==typeof t||"function"==typeof t?t:null},isTRecord:function(t){return rtl.isObject(t)&&t.hasOwnProperty("$new")&&"function"==typeof t.$new},isPasClass:function(t){return rtl.isObject(t)&&t.hasOwnProperty("$classname")&&rtl.isObject(t.$module)},isPasClassInstance:function(t){return rtl.isObject(t)&&rtl.isPasClass(t.$class)},hexStr:function(t,e){return("000000000000000"+t.toString(16).toUpperCase()).slice(-e)},m_loading:0,m_loading_intf:1,m_intf_loaded:2,m_loading_impl:3,m_initializing:4,m_initialized:5,module:function(t,e,n,i,s){rtl.debug_load_units&&rtl.debug('rtl.module name="'+t+'" intfuses='+e+" impluses="+i+" hasimplcode="+rtl.isFunction(s)),rtl.hasString(t)||rtl.error('invalid module name "'+t+'"'),rtl.isArray(e)||rtl.error('invalid interface useslist of "'+t+'"'),rtl.isFunction(n)||rtl.error('invalid interface code of "'+t+'"'),void 0==i||rtl.isArray(i)||rtl.error('invalid implementation useslist of "'+t+'"'),void 0==s||rtl.isFunction(s)||rtl.error('invalid implementation code of "'+t+'"'),pas[t]&&rtl.error('module "'+t+'" is already registered');var r=pas[t]={$name:t,$intfuseslist:e,$impluseslist:i,$state:rtl.m_loading,$intfcode:n,$implcode:s,$impl:null,$rtti:Object.create(rtl.tSectionRTTI)};r.$rtti.$module=r,s&&(r.$impl={$module:r,$rtti:r.$rtti})},exitcode:0,run:function(t){function e(){rtl.hasString(t)||(t="program"),rtl.debug_load_units&&rtl.debug('rtl.run module="'+t+'"'),rtl.initRTTI();var e=pas[t];if(e||rtl.error('rtl.run module "'+t+'" missing'),rtl.loadintf(e),rtl.loadimpl(e),"program"==t){rtl.debug_load_units&&rtl.debug("running $main");var n=pas.program.$main();rtl.isNumber(n)&&(rtl.exitcode=n)}}if(rtl.showUncaughtExceptions)try{e()}catch(t){var n=rtl.hasString(t.$classname)?t.$classname:"";n+=(n?": ":"")+(t.hasOwnProperty("fMessage")?t.fMessage:t),alert("Uncaught Exception : "+n),rtl.exitCode=216}else e();return rtl.exitcode},loadintf:function(t){t.$state>rtl.m_loading_intf||(rtl.debug_load_units&&rtl.debug('loadintf: "'+t.$name+'"'),t.$state===rtl.m_loading_intf&&rtl.error('unit cycle detected "'+t.$name+'"'),t.$state=rtl.m_loading_intf,rtl.loaduseslist(t,t.$intfuseslist,rtl.loadintf),rtl.debug_load_units&&rtl.debug('loadintf: run intf of "'+t.$name+'"'),t.$intfcode(t.$intfuseslist),t.$state=rtl.m_intf_loaded)},loaduseslist:function(t,e,n){if(void 0!=e)for(var i in e){var s=e[i];rtl.debug_load_units&&rtl.debug('loaduseslist of "'+t.$name+'" uses="'+s+'"'),void 0==pas[s]&&rtl.error('module "'+t.$name+'" misses "'+s+'"'),n(pas[s])}},loadimpl:function(t){t.$state>=rtl.m_loading_impl||(t.$state<rtl.m_intf_loaded&&rtl.error('loadimpl: interface not loaded of "'+t.$name+'"'),rtl.debug_load_units&&rtl.debug('loadimpl: load uses of "'+t.$name+'"'),t.$state=rtl.m_loading_impl,rtl.loaduseslist(t,t.$impluseslist,rtl.loadintf),rtl.loaduseslist(t,t.$intfuseslist,rtl.loadimpl),rtl.loaduseslist(t,t.$impluseslist,rtl.loadimpl),rtl.debug_load_units&&rtl.debug('loadimpl: run impl of "'+t.$name+'"'),rtl.isFunction(t.$implcode)&&t.$implcode(t.$impluseslist),rtl.debug_load_units&&rtl.debug('loadimpl: run init of "'+t.$name+'"'),t.$state=rtl.m_initializing,rtl.isFunction(t.$init)&&t.$init(),t.$state=rtl.m_initialized)},createCallback:function(t,e){var n;return(n="string"==typeof e?function(){return t[e].apply(t,arguments)}:function(){return e.apply(t,arguments)}).scope=t,n.fn=e,n},cloneCallback:function(t){return rtl.createCallback(t.scope,t.fn)},eqCallback:function(t,e){return t==e||null!=t&&null!=e&&t.fn&&t.scope===e.scope&&t.fn==e.fn},initStruct:function(t,e,n){return e.$module&&e.$module.$impl===e&&(e=e.$module),t.$parent=e,rtl.isModule(e)?(t.$module=e,t.$name=n):(t.$module=e.$module,t.$name=e.$name+"."+n),e},initClass:function(t,e,n,i){e[n]=t,t.$class=t,t.$classname=n,e=rtl.initStruct(t,e,n),t.$fullname=e.$name+"."+n,rtl.debug_rtti&&rtl.debug("initClass "+t.$fullname);var s=t.$module.$rtti.$Class(t.$name,{class:t});t.$rtti=s,rtl.isObject(t.$ancestor)&&(s.ancestor=t.$ancestor.$rtti),s.ancestor||(s.ancestor=null),i.call(t)},createClass:function(t,e,n,i){var s=null;null!=n?(s=Object.create(n)).$ancestor=n:((s={$ancestor:null}).$create=function(t,e){void 0==e&&(e=[]);var n=Object.create(this);n.$init();try{"string"==typeof t?n[t].apply(n,e):t.apply(n,e),n.AfterConstruction()}catch(t){throw n.Destroy&&n.Destroy(),n.$final(),t}return n},s.$destroy=function(t){this.BeforeDestruction(),this[t]&&this[t](),this.$final()}),rtl.initClass(s,t,e,i)},createClassExt:function(t,e,n,i,s){var r=Object.create(n);r.$create=function(t,e){void 0==e&&(e=[]);var n=null;(n=i.length>0?this[i](t,e):Object.create(this)).$init&&n.$init();try{"string"==typeof t?n[t].apply(n,e):t.apply(n,e),n.AfterConstruction&&n.AfterConstruction()}catch(t){throw console.log(t),n.Destroy&&n.Destroy(),n.$final&&this.$final(),t}return n},r.$destroy=function(t){this.BeforeDestruction&&this.BeforeDestruction(),this[t]&&this[t](),this.$final&&this.$final()},rtl.initClass(r,t,e,s)},createHelper:function(t,e,n,i){var s=null;null!=n?(s=Object.create(n)).$ancestor=n:s={$ancestor:null},t[e]=s,s.$class=s,s.$classname=e,t=rtl.initStruct(s,t,e),s.$fullname=t.$name+"."+e;var r=s.$module.$rtti.$Helper(s.$name,{helper:s});s.$rtti=r,rtl.isObject(n)&&(r.ancestor=n.$rtti),r.ancestor||(r.ancestor=null),i.call(s)},tObjectDestroy:"Destroy",free:function(t,e){if(null==t[e])return null;t[e].$destroy(rtl.tObjectDestroy),t[e]=null},freeLoc:function(t){return null==t?null:(t.$destroy(rtl.tObjectDestroy),null)},recNewT:function(t,e,n,i){var s={};function r(t){Object.defineProperty(s,t,{enumerable:!1})}return t&&(t[e]=s),i&&(rtl.initStruct(s,t,e),s.$record=s,r("$record"),r("$name"),r("$parent"),r("$module")),n.call(s),s.$new||(s.$new=function(){return Object.create(this)}),s.$clone=function(t){return this.$new().$assign(t)},r("$new"),r("$clone"),r("$eq"),r("$assign"),s},is:function(t,e){return e.isPrototypeOf(t)||t===e},isExt:function(t,e,n){return null!=t&&(("object"==typeof e||"function"==typeof e)&&(t===e?1!==n&&(2!==n||rtl.isPasClass(t)):e.isPrototypeOf&&e.isPrototypeOf(t)?1===n?rtl.isPasClassInstance(t):2!==n||rtl.isPasClass(t):"function"==typeof e&&t instanceof e))},Exception:null,EInvalidCast:null,EAbstractError:null,ERangeError:null,EIntOverflow:null,EPropWriteOnly:null,raiseE:function(t){var e=rtl[t];if(null==e){var n=pas.SysUtils;n||(n=pas.sysutils),n&&((e=n[t])||(e=n[t.toLowerCase()]),e||(e=n.Exception),e||(e=n.exception))}if(e){if(e.Create)throw e.$create("Create");if(e.create)throw e.$create("create")}if("EInvalidCast"===t)throw"invalid type cast";if("EAbstractError"===t)throw"Abstract method called";if("ERangeError"===t)throw"range error";throw t},as:function(t,e){if(null===t||rtl.is(t,e))return t;rtl.raiseE("EInvalidCast")},asExt:function(t,e,n){if(null===t||rtl.isExt(t,e,n))return t;rtl.raiseE("EInvalidCast")},createInterface:function(t,e,n,i,s,r){var o=s?Object.create(s):{};if(t[e]=o,o.$module=t,o.$name=e,o.$fullname=t.$name+"."+e,o.$guid=n,o.$guidr=null,o.$names=i||[],rtl.isFunction(r)){rtl.debug_rtti&&rtl.debug("createInterface "+o.$fullname);var a=o.$module.$rtti.$Interface(e,{interface:o,module:t});o.$rtti=a,s&&(a.ancestor=s.$rtti),a.ancestor||(a.ancestor=null),r.call(o)}return o},strToGUIDR:function(t,e){var n=0;function i(e){var i=t.substr(n,e);return n+=e,parseInt(i,16)}n+=1,e.D1=i(8),n+=1,e.D2=i(4),n+=1,e.D3=i(4),n+=1,e.D4||(e.D4=[]),e.D4[0]=i(2),e.D4[1]=i(2),n+=1;for(var s=2;s<8;s++)e.D4[s]=i(2);return e},guidrToStr:function(t){if(t.$intf)return t.$intf.$guid;for(var e=rtl.hexStr,n="{"+e(t.D1,8)+"-"+e(t.D2,4)+"-"+e(t.D3,4)+"-"+e(t.D4[0],2)+e(t.D4[1],2)+"-",i=2;i<8;i++)n+=e(t.D4[i],2);return n+="}"},createTGUID:function(t){var e=pas.System?pas.System.TGuid:pas.system.tguid;return rtl.strToGUIDR(t,e.$new())},getIntfGUIDR:function(t){if(!t)return null;if(!t.$guidr){var e=rtl.createTGUID(t.$guid);t.hasOwnProperty("$guid")||(t=Object.getPrototypeOf(t)),e.$intf=t,t.$guidr=e}return t.$guidr},addIntf:function(t,e,n){function i(t){return"function"==typeof t?function(){return t.apply(this.$o,arguments)}:function(){rtl.raiseE("EAbstractError")}}n||(n={});var s=e,r=Object.create(s);t.hasOwnProperty("$intfmaps")||(t.$intfmaps={}),t.$intfmaps[e.$guid]=r;do{var o=s.$names;if(!o)break;for(var a=0;a<o.length;a++){var l=o[a],h=n[l];h||(h=l),r[l]=i(t[h])}s=Object.getPrototypeOf(s)}while(null!=s)},getIntfG:function(t,e,n){if(!t)return null;var i=t.$intfmaps;if(!i)return null;var s=i[e];if(!s)return null;if("function"==typeof s)return s.call(t);var r=null;if(t.$interfaces&&(r=t.$interfaces[e]),r||((r=Object.create(s)).$o=t,t.$interfaces||(t.$interfaces={}),t.$interfaces[e]=r),"object"==typeof n){var o=null;return 0===r.QueryInterface(rtl.getIntfGUIDR(n),{get:function(){return o},set:function(t){o=t}})?o:null}return 2===n&&"com"===r.$kind&&r._AddRef(),r},getIntfT:function(t,e){return rtl.getIntfG(t,e.$guid)},queryIntfT:function(t,e){return rtl.getIntfG(t,e.$guid,e)},queryIntfIsT:function(t,e){var n=rtl.queryIntfG(t,e.$guid);return!!n&&("com"===n.$kind&&n._Release(),!0)},asIntfT:function(t,e){var n=rtl.getIntfG(t,e.$guid);if(null!==n)return n;rtl.raiseEInvalidCast()},intfIsIntfT:function(t,e){return null!==t&&rtl.queryIntfIsT(t.$o,e)},intfAsIntfT:function(t,e){if(t){var n=rtl.getIntfG(t.$o,e.$guid);if(null!==n)return n}rtl.raiseEInvalidCast()},intfIsClass:function(t,e){return null!=t&&rtl.is(t.$o,e)},intfAsClass:function(t,e){return null==t?null:rtl.as(t.$o,e)},intfToClass:function(t,e){return null!==t&&rtl.is(t.$o,e)?t.$o:null},intfRefs:{ref:function(t,e){var n=this[t];return n&&(delete this[t],n._Release()),this[t]=e,e},free:function(){for(var t in this)this.hasOwnProperty(t)&&this[t]._Release()}},createIntfRefs:function(){return Object.create(rtl.intfRefs)},setIntfP:function(t,e,n,i){var s=t[e];s!==n&&(null!==s&&(t[e]=null,s._Release()),null!==n&&(i||n._AddRef(),t[e]=n))},setIntfL:function(t,e,n){return t!==e?(null!==e&&(n||e._AddRef()),null!==t&&t._Release()):n&&null!==t&&t._Release(),e},_AddRef:function(t){return t&&t._AddRef(),t},_Release:function(t){return t&&t._Release(),t},checkMethodCall:function(t,e){rtl.isObject(t)&&rtl.is(t,e)||rtl.raiseE("EInvalidCast")},oc:function(t){if(Math.floor(t)===t&&t>=-9007199254740991&&t<=9007199254740991)return t;rtl.raiseE("EIntOverflow")},rc:function(t,e,n){if(Math.floor(t)===t&&t>=e&&t<=n)return t;rtl.raiseE("ERangeError")},rcc:function(t,e,n){if("string"==typeof t&&1===t.length){var i=t.charCodeAt(0);if(i>=e&&i<=n)return t}rtl.raiseE("ERangeError")},rcSetCharAt:function(t,e,n){return("string"!=typeof t||e<0||e>=t.length)&&rtl.raiseE("ERangeError"),rtl.setCharAt(t,e,n)},rcCharAt:function(t,e){return("string"!=typeof t||e<0||e>=t.length)&&rtl.raiseE("ERangeError"),t.charAt(e)},rcArrR:function(t,e){if(Array.isArray(t)&&"number"==typeof e&&e>=0&&e<t.length){if(arguments.length>2){t=t[e];for(var n=2;n<arguments.length;n++)t=rtl.rcArrR(t,arguments[n]);return t}return t[e]}rtl.raiseE("ERangeError")},rcArrW:function(t,e,n){for(var i=3;i<arguments.length;i++)t=rtl.rcArrR(t,e),e=arguments[i-1],n=arguments[i];if(Array.isArray(t)&&"number"==typeof e&&e>=0&&e<t.length)return t[e]=n;rtl.raiseE("ERangeError")},length:function(t){return null==t?0:t.length},arraySetLength:function(t,e,n){for(var i=[],s=2;s<arguments.length;s++)i.push({dim:arguments[s]+0,a:null,i:0,src:null});for(var r=i.length-1,o=0,a=i[r].dim,l=null,h=null,u=t,c=0;;)if(h=[],o>0&&((l=i[o-1]).a[l.i]=h,u=l.src&&l.src.length>l.i?l.src[l.i]:null,l.i++),o<r)(l=i[o]).a=h,l.i=0,l.src=u,o++;else{if(c=u?u.length:0,rtl.isArray(e))for(s=0;s<a;s++)h[s]=s<c?u[s]:[];else if(rtl.isObject(e))if(rtl.isTRecord(e))for(s=0;s<a;s++)h[s]=s<c?e.$clone(u[s]):e.$new();else for(s=0;s<a;s++)h[s]=s<c?rtl.refSet(u[s]):{};else for(s=0;s<a;s++)h[s]=s<c?u[s]:e;for(;o>0&&i[o-1].i>=i[o-1].dim;)o--;if(0===o)return 0===r?h:i[0].a}},arrayEq:function(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},arrayClone:function(t,e,n,i,s,r){if("refSet"===t)for(;n<i;n++)s[r++]=rtl.refSet(e[n]);else if(rtl.isTRecord(t))for(;n<i;n++)s[r++]=t.$clone(e[n]);else for(;n<i;n++)s[r++]=e[n]},arrayConcat:function(t){for(var e=[],n=0,i=1;i<arguments.length;i++){null!==(s=arguments[i])&&(n+=s.length)}e.length=n,n=0;for(i=1;i<arguments.length;i++){var s;null!==(s=arguments[i])&&(rtl.arrayClone(t,s,0,s.length,e,n),n+=s.length)}return e},arrayConcatN:function(){for(var t=null,e=1;e<arguments.length;e++){var n=arguments[e];null!==n&&(t=null===t?n:t.concat(n))}return t},arrayCopy:function(t,e,n,i){if(null===e)return[];n<0&&(n=0),void 0===i&&(i=e.length);var s=n+i;if(s>e.length&&(s=e.length),n>=s)return[];if(0===t)return e.slice(n,s);var r=[];return r.length=s-n,rtl.arrayClone(t,e,n,s,r,0),r},setCharAt:function(t,e,n){return t.substr(0,e)+n+t.substr(e+1)},getResStr:function(t,e){var n=t.$resourcestrings[e];return n.current?n.current:n.org},createSet:function(){for(var t={},e=0;e<arguments.length;e++)if(null!=arguments[e])t[arguments[e]]=!0;else for(var n=arguments[e+=1],i=arguments[e+=1],s=n;s<=i;s++)t[s]=!0;return t},cloneSet:function(t){var e={};for(var n in t)e[n]=!0;return e},refSet:function(t){return Object.defineProperty(t,"$shared",{enumerable:!1,configurable:!0,writable:!0,value:!0}),t},includeSet:function(t,e){return t.$shared&&(t=rtl.cloneSet(t)),t[e]=!0,t},excludeSet:function(t,e){return t.$shared&&(t=rtl.cloneSet(t)),delete t[e],t},diffSet:function(t,e){var n={};for(var i in t)e[i]||(n[i]=!0);return n},unionSet:function(t,e){var n={};for(var i in t)n[i]=!0;for(var i in e)n[i]=!0;return n},intersectSet:function(t,e){var n={};for(var i in t)e[i]&&(n[i]=!0);return n},symDiffSet:function(t,e){var n={};for(var i in t)e[i]||(n[i]=!0);for(var i in e)t[i]||(n[i]=!0);return n},eqSet:function(t,e){for(var n in t)if(!e[n])return!1;for(var n in e)if(!t[n])return!1;return!0},neSet:function(t,e){return!rtl.eqSet(t,e)},leSet:function(t,e){for(var n in t)if(!e[n])return!1;return!0},geSet:function(t,e){for(var n in e)if(!t[n])return!1;return!0},strSetLength:function(t,e){var n=t.length;if(n>e)return t.substring(0,e);if(t.repeat)return t+" ".repeat(e-n);for(;n<e;)t+=" ",n++;return t},spaceLeft:function(t,e){var n=t.length;if(n>=e)return t;if(t.repeat)return" ".repeat(e-n)+t;for(;n<e;)t=" "+t,n++;return t},floatToStr:function(t,e,n){if(arguments.length>2)return rtl.spaceLeft(t.toFixed(n),e);var i="",s=Math.abs(t);s<1e10?i="00":s<1e100&&(i="0"),arguments.length<2?e=9:e<9&&(e=9);n=e-8;var r=(t>0?" ":"")+t.toExponential(n);return r=r.replace(/e(.)/,"E$1"+i),rtl.spaceLeft(r,e)},valEnum:function(t,e,n){for(var i in t=t.toLowerCase(),e)if("string"==typeof i&&i.toLowerCase()===t)return n(0),e[i];return n(1),0},lw:function(t){return t<0?t+4294967296:t},and:function(t,e){var n=2147483648;return(t/n&e/n)*n+(2147483647&t&e)},or:function(t,e){var n=2147483648;return(t/n|e/n)*n+(2147483647&t|2147483647&e)},xor:function(t,e){var n=2147483648;return(t/n^e/n)*n+(2147483647&t^2147483647&e)},shr:function(t,e){return t<0&&(t+=rtl.hiInt),t<2147483648?t>>e:e<=0?t:e>54?0:Math.floor(t/Math.pow(2,e))},shl:function(t,e){if(t<0&&(t+=rtl.hiInt),e<=0)return t;if(e>54)return 0;var n=t*Math.pow(2,e);return n<=rtl.hiInt?n:n%rtl.hiInt},initRTTI:function(){function t(t,e,n){n||(n=rtl.tTypeInfo),rtl.debug_rtti&&rtl.debug('initRTTI.newBaseTI "'+t+'" '+e+' ("'+n.name+'")');var i=Object.create(n);return i.name=t,i.kind=e,rtl[t]=i,i}function e(e,n,i,s){var r=t(e,1,rtl.tTypeInfoInteger);return r.minvalue=n,r.maxvalue=i,r.ordtype=s,r}function n(t,e){var n=Object.create(rtl.tTypeMember);n.name=t,n.kind=e,rtl[t]=n}rtl.debug_rtti&&rtl.debug("initRTTI"),rtl.tTypeInfo={name:"tTypeInfo"},t("tTypeInfoInteger",1),e("shortint",-128,127,0),e("byte",0,255,1),e("smallint",-32768,32767,2),e("word",0,65535,3),e("longint",-2147483648,2147483647,4),e("longword",0,4294967295,5),e("nativeint",-4503599627370496,0xfffffffffffff,6),e("nativeuint",0,0xfffffffffffff,7),t("char",2),t("string",3),t("tTypeInfoEnum",4,rtl.tTypeInfoInteger),t("tTypeInfoSet",5),t("double",6),t("boolean",7),t("tTypeInfoProcVar",8),t("tTypeInfoMethodVar",9,rtl.tTypeInfoProcVar),t("tTypeInfoArray",10),t("tTypeInfoDynArray",11),t("tTypeInfoPointer",15),t("pointer",15,rtl.tTypeInfoPointer).reftype=null,t("jsvalue",16),t("tTypeInfoRefToProcVar",17,rtl.tTypeInfoProcVar),rtl.tTypeMember={},n("tTypeMemberField",1),n("tTypeMemberMethod",2),n("tTypeMemberProperty",3),rtl.tTypeMembers={};var i=t("tTypeInfoStruct",0);i.$addMember=function(t,e,n){if(rtl.debug_rtti){if(!rtl.hasString(t)||"$"===t.charAt())throw'invalid member "'+t+'", this="'+this.name+'"';if(!rtl.is(e,rtl.tTypeMember))throw'invalid ancestor "'+e+":"+e.name+'", "'+this.name+"."+t+'"';if(void 0!=n&&"object"!=typeof n)throw'invalid options "'+n+'", "'+this.name+"."+t+'"'}var i=Object.create(e);if(i.name=t,this.members[t]=i,this.names.push(t),rtl.isObject(n))for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i},i.addField=function(t,e,n){var i=this.$addMember(t,rtl.tTypeMemberField,n);if(rtl.debug_rtti&&!rtl.is(e,rtl.tTypeInfo))throw'invalid type "'+e+'", "'+this.name+"."+t+'"';return i.typeinfo=e,this.fields.push(t),i},i.addFields=function(){for(var t=0;t<arguments.length;){var e=arguments[t++],n=arguments[t++];t<arguments.length&&"object"==typeof arguments[t]?this.addField(e,n,arguments[t++]):this.addField(e,n)}},i.addMethod=function(t,e,n,i,s){var r=this.$addMember(t,rtl.tTypeMemberMethod,s);return r.methodkind=e,r.procsig=rtl.newTIProcSig(n),r.procsig.resulttype=i||null,this.methods.push(t),r},i.addProperty=function(t,e,n,i,s,r){var o=this.$addMember(t,rtl.tTypeMemberProperty,r);return o.flags=e,o.typeinfo=n,o.getter=i,o.setter=s,rtl.isArray(o.params)&&(o.params=rtl.newTIParams(o.params)),this.properties.push(t),rtl.isString(o.stored)||(o.stored=""),o},i.getField=function(t){return this.members[this.fields[t]]},i.getMethod=function(t){return this.members[this.methods[t]]},i.getProperty=function(t){return this.members[this.properties[t]]},t("tTypeInfoRecord",12,rtl.tTypeInfoStruct),t("tTypeInfoClass",13,rtl.tTypeInfoStruct),t("tTypeInfoClassRef",14),t("tTypeInfoInterface",18,rtl.tTypeInfoStruct),t("tTypeInfoHelper",19,rtl.tTypeInfoStruct)},tSectionRTTI:{$module:null,$inherited:function(t,e,n){rtl.debug_rtti&&rtl.debug('tSectionRTTI.newTI "'+(this.$module?this.$module.$name:"(no module)")+'"."'+t+'" ('+e.name+") "+(n?"init":"forward"));var i=this[t];if(i){if(!i.$forward)throw'duplicate type "'+t+'"';if(!e.isPrototypeOf(i))throw'typeinfo ancestor mismatch "'+t+'" ancestor="'+e.name+'" t.name="'+i.name+'"'}else(i=Object.create(e)).name=t,i.$module=this.$module,this[t]=i;if(n)for(var s in delete i.$forward,n)n.hasOwnProperty(s)&&(i[s]=n[s]);else i.$forward=!0;return i},$Scope:function(t,e,n){var i=this.$inherited(t,e,n);return i.members={},i.names=[],i.fields=[],i.methods=[],i.properties=[],i},$TI:function(t,e,n){var i=this.$inherited(t,rtl.tTypeInfo,n);return i.kind=e,i},$Int:function(t,e){return this.$inherited(t,rtl.tTypeInfoInteger,e)},$Enum:function(t,e){return this.$inherited(t,rtl.tTypeInfoEnum,e)},$Set:function(t,e){return this.$inherited(t,rtl.tTypeInfoSet,e)},$StaticArray:function(t,e){return this.$inherited(t,rtl.tTypeInfoArray,e)},$DynArray:function(t,e){return this.$inherited(t,rtl.tTypeInfoDynArray,e)},$ProcVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoProcVar,e)},$RefToProcVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoRefToProcVar,e)},$MethodVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoMethodVar,e)},$Record:function(t,e){return this.$Scope(t,rtl.tTypeInfoRecord,e)},$Class:function(t,e){return this.$Scope(t,rtl.tTypeInfoClass,e)},$ClassRef:function(t,e){return this.$inherited(t,rtl.tTypeInfoClassRef,e)},$Pointer:function(t,e){return this.$inherited(t,rtl.tTypeInfoPointer,e)},$Interface:function(t,e){return this.$Scope(t,rtl.tTypeInfoInterface,e)},$Helper:function(t,e){return this.$Scope(t,rtl.tTypeInfoHelper,e)}},newTIParam:function(t){return{name:t[0],typeinfo:t[1],flags:rtl.isNumber(t[2])?t[2]:0}},newTIParams:function(t){var e=[];if(rtl.isArray(t))for(var n=0;n<t.length;n++)e.push(rtl.newTIParam(t[n]));return e},newTIProcSig:function(t,e,n){return{params:rtl.newTIParams(t),resulttype:e,flags:n}}};rtl.module("System",[],function(){"use strict";var t=this,e=t.$impl;this.LineEnding="\n",this.sLineBreak=t.LineEnding,this.MaxLongint=2147483647,this.Maxint=2147483647,this.TTextLineBreakStyle={0:"tlbsLF",tlbsLF:0,1:"tlbsCRLF",tlbsCRLF:1,2:"tlbsCR",tlbsCR:2},rtl.recNewT(t,"TGuid",function(){this.D1=0,this.D2=0,this.D3=0,this.$new=function(){var t=Object.create(this);return t.D4=rtl.arraySetLength(null,0,8),t},this.$eq=function(t){return this.D1===t.D1&&this.D2===t.D2&&this.D3===t.D3&&rtl.arrayEq(this.D4,t.D4)},this.$assign=function(t){return this.D1=t.D1,this.D2=t.D2,this.D3=t.D3,this.D4=t.D4.slice(0),this}}),rtl.createClass(t,"TObject",null,function(){this.$init=function(){},this.$final=function(){},this.Create=function(){return this},this.Destroy=function(){},this.Free=function(){this.$destroy("Destroy")},this.AfterConstruction=function(){},this.BeforeDestruction=function(){},this.GetInterface=function(t,e){var n=t.$intf;return n&&(n=rtl.getIntfG(this,n.$guid,2))?(e.set(n),!0):this.GetInterfaceByStr(rtl.guidrToStr(t),e)},this.GetInterfaceByStr=function(e,n){if(t.IObjectInstance.$str||(t.IObjectInstance.$str=rtl.guidrToStr(t.IObjectInstance)),e==t.IObjectInstance.$str)return n.set(this),!0;var i=rtl.getIntfG(this,e,2);return n.set(i),null!==i}}),this.E_NOINTERFACE=-2147467262,rtl.createInterface(t,"IUnknown","{00000000-0000-0000-C000-000000000046}",["QueryInterface","_AddRef","_Release"],null,function(){this.$kind="com";var e=this.$rtti;e.addMethod("QueryInterface",1,[["iid",t.$rtti.TGuid,2],["obj",null,4]],rtl.longint),e.addMethod("_AddRef",1,null,rtl.longint),e.addMethod("_Release",1,null,rtl.longint)}),this.IObjectInstance=t.TGuid.$clone({D1:3642530548,D2:15507,D3:16911,D4:[163,3,191,91,168,43,253,35]}),this.Trunc=function(e){return Math.trunc||(Math.trunc=function(t){return t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t}),t.Trunc=Math.trunc,Math.trunc(e)},this.DefaultTextLineBreakStyle=0,this.Int=function(e){return t.Trunc(e)},this.Copy=function(t,e,n){return e<1&&(e=1),n>0?t.substring(e-1,e+n-1):""},this.Copy$1=function(t,e){return e<1&&(e=1),t.substr(e-1)},this.Delete=function(e,n,i){var s;n<1||n>e.get().length||i<=0||(s=e.get(),e.set(t.Copy(s,1,n-1)+t.Copy$1(s,n+i)))},this.Pos=function(t,e){return e.indexOf(t)+1},this.Insert=function(e,n,i){var s;""!==e&&(s=n.get(),i<1?n.set(e+s):i>s.length?n.set(s+e):n.set(t.Copy(s,1,i-1)+e+t.Copy(s,i,s.length)))},this.upcase=function(t){return t.toUpperCase()},this.val=function(t,n,i){n.set(e.valint(t,-4503599627370496,0xfffffffffffff,i))},this.StringOfChar=function(t,e){var n="";n="";for(var i=1,s=e;i<=s;i++)i,n+=t;return n},this.Assigned=function(t){return void 0!=t&&null!=t&&(!rtl.isArray(t)||t.length>0)},t.$init=function(){rtl.exitcode=0}},null,function(){"use strict";var t=this;t.$impl.valint=function(e,n,i,s){var r=0,o=0;if(o=Number(e),isNaN(o)){var a=t.Copy(e,1,1);if("$"===a)o=Number("0x"+t.Copy$1(e,2));else if("&"===a)o=Number("0o"+t.Copy$1(e,2));else{if("%"!==a)return s.set(1),r;o=Number("0b"+t.Copy$1(e,2))}}return isNaN(o)||o!==t.Int(o)?s.set(1):o<n||o>i?s.set(2):(r=t.Trunc(o),s.set(0)),r}}),rtl.module("RTLConsts",["System"],function(){"use strict";this.SArgumentMissing='Missing argument in format "%s"',this.SInvalidFormat='Invalid format specifier : "%s"',this.SInvalidArgIndex='Invalid argument index in format: "%s"',this.SListCapacityError="List capacity (%s) exceeded.",this.SListCountError="List count (%s) out of bounds.",this.SListIndexError="List index (%s) out of bounds",this.SSortedListError="Operation not allowed on sorted list",this.SDuplicateString="String list does not allow duplicates",this.SErrFindNeedsSortedList="Cannot use find on unsorted list",this.SInvalidName='Invalid component name: "%s"',this.SDuplicateName='Duplicate component name: "%s"',this.SErrInvalidInteger='Invalid integer value: "%s"'}),rtl.module("Types",["System"],function(){"use strict";var t=this;this.TDirection={0:"FromBeginning",FromBeginning:0,1:"FromEnd",FromEnd:1},this.TDuplicates={0:"dupIgnore",dupIgnore:0,1:"dupAccept",dupAccept:1,2:"dupError",dupError:2},rtl.recNewT(t,"TPoint",function(){this.x=0,this.y=0,this.$eq=function(t){return this.x===t.x&&this.y===t.y},this.$assign=function(t){return this.x=t.x,this.y=t.y,this};var e=t.$rtti.$Record("TPoint",{});e.addField("x",rtl.longint),e.addField("y",rtl.longint)}),rtl.recNewT(t,"TRect",function(){this.Left=0,this.Top=0,this.Right=0,this.Bottom=0,this.$eq=function(t){return this.Left===t.Left&&this.Top===t.Top&&this.Right===t.Right&&this.Bottom===t.Bottom},this.$assign=function(t){return this.Left=t.Left,this.Top=t.Top,this.Right=t.Right,this.Bottom=t.Bottom,this};var e=t.$rtti.$Record("TRect",{});e.addField("Left",rtl.longint),e.addField("Top",rtl.longint),e.addField("Right",rtl.longint),e.addField("Bottom",rtl.longint)}),this.Rect=function(e,n,i,s){var r=t.TRect.$new();return r.Left=e,r.Top=n,r.Right=i,r.Bottom=s,r},this.Point=function(e,n){var i=t.TPoint.$new();return i.x=e,i.y=n,i}}),rtl.module("JS",["System","Types"],function(){"use strict";var t=this;this.isInteger=function(t){return Math.floor(t)===t},this.isNull=function(t){return null===t},this.TJSValueType={0:"jvtNull",jvtNull:0,1:"jvtBoolean",jvtBoolean:1,2:"jvtInteger",jvtInteger:2,3:"jvtFloat",jvtFloat:3,4:"jvtString",jvtString:4,5:"jvtObject",jvtObject:5,6:"jvtArray",jvtArray:6},this.GetValueType=function(e){var n=0,i="";return t.isNull(e)?n=t.TJSValueType.jvtNull:"string"===(i=typeof e)?n=t.TJSValueType.jvtString:"boolean"===i?n=t.TJSValueType.jvtBoolean:"object"===i?n=rtl.isArray(e)?t.TJSValueType.jvtArray:t.TJSValueType.jvtObject:"number"===i&&(n=t.isInteger(e)?t.TJSValueType.jvtInteger:t.TJSValueType.jvtFloat),n}}),rtl.module("SysUtils",["System","RTLConsts","JS"],function(){"use strict";var t=this,e=t.$impl;this.FreeAndNil=function(t){var e=null;null!==(e=t.get())&&(t.set(null),e.$destroy("Destroy"))},rtl.createClass(t,"Exception",pas.System.TObject,function(){this.$init=function(){pas.System.TObject.$init.call(this),this.fMessage=""},this.Create$1=function(t){return this.fMessage=t,this},this.CreateFmt=function(e,n){return this.Create$1(t.Format(e,n)),this}}),rtl.createClass(t,"EConvertError",t.Exception,function(){}),this.TrimLeft=function(t){return t.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"")},this.CompareStr=function(t,e){var n,i=t.length,s=e.length;return i<=s?t<(n=e.substr(0,i))?-1:t>n?1:i<s?-1:0:(n=t.substr(0,s))<e?-1:1},this.CompareText=function(t,e){var n=t.toLowerCase(),i=e.toLowerCase();return n>i?1:n<i?-1:0},this.Format=function(n,i){var s="",r=0,o=0,a=0,l=0,h=0,u="",c="",d=0,p=0,m=0,F=!1,y=0;function g(){var t=0;function s(){var s=0,l=0;if(-1===t){for(o=r;r<=h&&n.charAt(r-1)<="9"&&n.charAt(r-1)>="0";)r+=1;r>h&&e.DoFormatError(1,n),"*"===n.charAt(r-1)?(-1===d?l=a:(l=d,d+=1),(r>o||l>rtl.length(i)-1)&&e.DoFormatError(1,n),a=l+1,rtl.isNumber(i[l])&&pas.JS.isInteger(i[l])?t=Math.floor(i[l]):e.DoFormatError(1,n),r+=1):o<r?(pas.System.val(pas.System.Copy(n,o,r-o),{get:function(){return t},set:function(e){t=e}},{get:function(){return s},set:function(t){s=t}}),s>0&&e.DoFormatError(1,n)):t=-1}}return d=-1,p=-1,m=-1,t=-1,r+=1,"%"===n.charAt(r-1)?"%":(":"!==n.charAt(r-1)?s():t=0,":"===n.charAt(r-1)&&(-1===t&&e.DoFormatError(2,n),d=t,t=-1,r+=1),"-"===n.charAt(r-1)?(F=!0,r+=1):F=!1,s(),-1!==t&&(p=t,t=-1),"."===n.charAt(r-1)&&(r+=1,s(),-1===t&&(t=0),m=t),pas.System.upcase(n.charAt(r-1)))}function C(t,s){var r=!1;return r=!1,a=(l=-1===d?a:d)+1,l>rtl.length(i)-1||pas.JS.GetValueType(i[l])!==t?(s&&e.DoFormatError(3,n),a-=1,r):r=!0}for(s="",h=n.length,r=1,o=1,a=0;r<=h;){for(;r<=h&&"%"!==n.charAt(r-1);)r+=1;if(r>o&&(s+=pas.System.Copy(n,o,r-o)),r<h){var f=g();if("D"===f)C(pas.JS.TJSValueType.jvtInteger,!0),c=t.IntToStr(Math.floor(i[l])),p=Math.abs(p),d=m-c.length,"-"!==c.charAt(0)?c=pas.System.StringOfChar("0",d)+c:pas.System.Insert(pas.System.StringOfChar("0",d+1),{get:function(){return c},set:function(t){c=t}},2);else if("U"===f)C(pas.JS.TJSValueType.jvtInteger,!0),Math.floor(i[l])<0&&e.DoFormatError(3,n),c=t.IntToStr(Math.floor(i[l])),p=Math.abs(p),d=m-c.length,c=pas.System.StringOfChar("0",d)+c;else if("E"===f)(C(pas.JS.TJSValueType.jvtFloat,!1)||C(pas.JS.TJSValueType.jvtInteger,!0))&&(c=t.FloatToStrF(rtl.getNumber(i[l]),t.TFloatFormat.ffFixed,9999,m));else if("F"===f)(C(pas.JS.TJSValueType.jvtFloat,!1)||C(pas.JS.TJSValueType.jvtInteger,!0))&&(c=t.FloatToStrF(rtl.getNumber(i[l]),t.TFloatFormat.ffFixed,9999,m));else if("G"===f)(C(pas.JS.TJSValueType.jvtFloat,!1)||C(pas.JS.TJSValueType.jvtInteger,!0))&&(c=t.FloatToStrF(rtl.getNumber(i[l]),t.TFloatFormat.ffGeneral,m,3));else if("N"===f)(C(pas.JS.TJSValueType.jvtFloat,!1)||C(pas.JS.TJSValueType.jvtInteger,!0))&&(c=t.FloatToStrF(rtl.getNumber(i[l]),t.TFloatFormat.ffNumber,9999,m));else if("M"===f)(C(pas.JS.TJSValueType.jvtFloat,!1)||C(pas.JS.TJSValueType.jvtInteger,!0))&&(c=t.FloatToStrF(rtl.getNumber(i[l]),t.TFloatFormat.ffCurrency,9999,m));else if("S"===f)C(pas.JS.TJSValueType.jvtString,!0),u=""+i[l],d=u.length,-1!==m&&d>m&&(d=m),c=pas.System.Copy(u,1,d);else if("P"===f)C(pas.JS.TJSValueType.jvtInteger,!0),c=t.IntToHex(Math.floor(i[l]),31);else if("X"===f)if(C(pas.JS.TJSValueType.jvtInteger,!0),y=Math.floor(i[l]),m>(d=31))c=t.IntToHex(y,d);else{for(d=1;rtl.shl(1,4*d)<=y&&d<16;)d+=1;d>m&&(m=d),c=t.IntToHex(y,m)}else"%"===f&&(c="%");-1!==p&&c.length<p&&(F?c+=pas.System.StringOfChar(" ",p-c.length):c=pas.System.StringOfChar(" ",p-c.length)+c),s+=c}o=r+=1}return s};var n=rtl.createSet(null,65,90,null,97,122,95),i=rtl.unionSet(n,rtl.createSet(null,48,57));this.IsValidIdent=function(t,e,s){var r,o=!1,a=!1,l=0;if((r=t.length)<1)return!1;for(a=!0,o=!1,l=1;l<=r;){if(a){if(!(t.charCodeAt(l-1)in n))return o;a=!1}else if(e&&"."===t.charAt(l-1)){if(s){if(l>=r)return o;a=!0}}else if(!(t.charCodeAt(l-1)in i))return o;l+=1}return o=!0},this.TStringReplaceFlag={0:"rfReplaceAll",rfReplaceAll:0,1:"rfIgnoreCase",rfIgnoreCase:1},this.StringReplace=function(n,i,s,r){var o,a="";return a="",t.TStringReplaceFlag.rfReplaceAll in r&&(a="g"),t.TStringReplaceFlag.rfIgnoreCase in r&&(a+="i"),o=i.replace(new RegExp(e.RESpecials,"g"),"\\$1"),n.replace(new RegExp(o,a),s)},this.IntToStr=function(t){return""+t},this.TryStrToInt$1=function(t,e){var n,i,s=10,r="";r=t;var o=pas.System.Copy(r,1,1);return"$"===o?s=16:"&"===o?s=8:"%"===o&&(s=2),10!==s&&pas.System.Delete({get:function(){return r},set:function(t){r=t}},1,1),i=parseInt(r,s),(n=!isNaN(i))&&e.set(Math.floor(i)),n},this.StrToInt=function(e){var n=0;if(!t.TryStrToInt$1(e,{get:function(){return n},set:function(t){n=t}}))throw t.EConvertError.$create("CreateFmt",[pas.RTLConsts.SErrInvalidInteger,[e]]);return n};this.IntToHex=function(t,e){var n="";for(0===e&&(e=1),n="";t>0;)n="0123456789ABCDEF".charAt(1+(15&t)-1)+n,t=Math.floor(t/16);for(;n.length<e;)n="0"+n;return n},this.TFloatFormat={0:"ffFixed",ffFixed:0,1:"ffGeneral",ffGeneral:1,2:"ffExponent",ffExponent:2,3:"ffNumber",ffNumber:3,4:"ffCurrency",ffCurrency:4},this.FloatToStrF=function(n,i,s,r){var o,a="";o=t.DecimalSeparator;var l=i;return l===t.TFloatFormat.ffGeneral?a=e.FormatGeneralFloat(n,s,o):l===t.TFloatFormat.ffExponent?a=e.FormatExponentFloat(n,s,r,o):l===t.TFloatFormat.ffFixed?a=e.FormatFixedFloat(n,r,o):l===t.TFloatFormat.ffNumber?a=e.FormatNumberFloat(n,r,o,t.ThousandSeparator):l===t.TFloatFormat.ffCurrency&&(a=e.FormatNumberCurrency(n,r,o,t.ThousandSeparator)),i!==t.TFloatFormat.ffCurrency&&a.length>1&&"-"===a.charAt(0)&&e.RemoveLeadingNegativeSign({get:function(){return a},set:function(t){a=t}},o),a},this.TimeSeparator="",this.DateSeparator="",this.ShortDateFormat="",this.LongDateFormat="",this.ShortTimeFormat="",this.LongTimeFormat="",this.DecimalSeparator="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.MonthDays=rtl.arraySetLength(null,0,2,12),this.ShortMonthNames=rtl.arraySetLength(null,"",12),this.LongMonthNames=rtl.arraySetLength(null,"",12),this.ShortDayNames=rtl.arraySetLength(null,"",7),this.LongDayNames=rtl.arraySetLength(null,"",7),rtl.createClass(t,"TFormatSettings",pas.System.TObject,function(){this.GetDecimalSeparator=function(){return t.DecimalSeparator},this.GetShortDateFormat=function(){return t.ShortDateFormat},this.SetDateSeparator=function(e){t.DateSeparator=e},this.SetDecimalSeparator=function(e){t.DecimalSeparator=e},this.SetShortDateFormat=function(e){t.ShortDateFormat=e},this.SetThousandSeparator=function(e){t.ThousandSeparator=e},this.SetTimeSeparator=function(e){t.TimeSeparator=e},this.Init=function(){t.FormatSettings=t.TFormatSettings.$create("Create")}}),this.FormatSettings=null,this.TwoDigitYearCenturyWindow=0,this.CurrencyFormat=0,this.NegCurrFormat=0,this.CurrencyDecimals=2,this.CurrencyString="$",t.$init=function(){t.FormatSettings=t.TFormatSettings.$create("Create"),t.LongDayNames[0]="Sunday",t.LongDayNames[1]="Monday",t.LongDayNames[2]="Tuesday",t.LongDayNames[3]="Wednesday",t.LongDayNames[4]="Thursday",t.LongDayNames[5]="Friday",t.LongDayNames[6]="Saturday",t.ShortDayNames[0]="Sun",t.ShortDayNames[1]="Mon",t.ShortDayNames[2]="Tue",t.ShortDayNames[3]="Wed",t.ShortDayNames[4]="Thu",t.ShortDayNames[5]="Fri",t.ShortDayNames[6]="Sat",t.ShortMonthNames[0]="Jan",t.ShortMonthNames[1]="Feb",t.ShortMonthNames[2]="Mar",t.ShortMonthNames[3]="Apr",t.ShortMonthNames[4]="May",t.ShortMonthNames[5]="Jun",t.ShortMonthNames[6]="Jul",t.ShortMonthNames[7]="Aug",t.ShortMonthNames[8]="Sep",t.ShortMonthNames[9]="Oct",t.ShortMonthNames[10]="Nov",t.ShortMonthNames[11]="Dec",t.LongMonthNames[0]="January",t.LongMonthNames[1]="February",t.LongMonthNames[2]="March",t.LongMonthNames[3]="April",t.LongMonthNames[4]="May",t.LongMonthNames[5]="June",t.LongMonthNames[6]="July",t.LongMonthNames[7]="August",t.LongMonthNames[8]="September",t.LongMonthNames[9]="October",t.LongMonthNames[10]="November",t.LongMonthNames[11]="December",t.MonthDays[1][0]=31,t.MonthDays[1][1]=29,t.MonthDays[1][2]=31,t.MonthDays[1][3]=30,t.MonthDays[1][4]=31,t.MonthDays[1][5]=30,t.MonthDays[1][6]=31,t.MonthDays[1][7]=31,t.MonthDays[1][8]=30,t.MonthDays[1][9]=31,t.MonthDays[1][10]=30,t.MonthDays[1][11]=31,t.MonthDays[0][0]=31,t.MonthDays[0][1]=28,t.MonthDays[0][2]=31,t.MonthDays[0][3]=30,t.MonthDays[0][4]=31,t.MonthDays[0][5]=30,t.MonthDays[0][6]=31,t.MonthDays[0][7]=31,t.MonthDays[0][8]=30,t.MonthDays[0][9]=31,t.MonthDays[0][10]=30,t.MonthDays[0][11]=31,e.DateTimeToStrFormat[0]="c",e.DateTimeToStrFormat[1]="f",t.DateSeparator="-",t.TimeSeparator=":",t.ShortDateFormat="yyyy-mm-dd",t.LongDateFormat="ddd, yyyy-mm-dd",t.ShortTimeFormat="hh:nn",t.LongTimeFormat="hh:nn:ss",t.DecimalSeparator=".",t.ThousandSeparator=",",t.TimeAMString="AM",t.TimePMString="PM",t.TwoDigitYearCenturyWindow=50}},null,function(){"use strict";var t=this,e=t.$impl;e.feInvalidFormat=1,e.feMissingArgument=2,e.feInvalidArgIndex=3,e.DoFormatError=function(e,n){var i=e;if(1===i)throw t.EConvertError.$create("CreateFmt",[pas.RTLConsts.SInvalidFormat,[n]]);if(2===i)throw t.EConvertError.$create("CreateFmt",[pas.RTLConsts.SArgumentMissing,[n]]);if(3===i)throw t.EConvertError.$create("CreateFmt",[pas.RTLConsts.SInvalidArgIndex,[n]])},e.maxdigits=15,e.ReplaceDecimalSep=function(t,e){var n;return(n=pas.System.Pos(".",t))>0?pas.System.Copy(t,1,n-1)+e+pas.System.Copy(t,n+1,t.length-n):t},e.FormatGeneralFloat=function(n,i,s){var r="",o=0,a=0,l=0,h=0;if((-1===i||i>15)&&(i=15),r=rtl.floatToStr(n,i+7),r=t.TrimLeft(r),0===(o=pas.System.Pos(".",r)))return r;if(0===(a=pas.System.Pos("E",r)))return r=e.ReplaceDecimalSep(r,s);for(l=a+2,h=0;l<=r.length;)h=10*h+r.charCodeAt(l-1)-"0".charCodeAt(),l+=1;if("-"===r.charAt(a+1-1)&&(h=-h),o+h<a&&h>-6){if(r=rtl.strSetLength(r,a-1),h>=0){for(var u=0,c=h-1;u<=c;u++)l=u,r=rtl.setCharAt(r,o-1,r.charAt(o+1-1)),o+=1;for(r=rtl.setCharAt(r,o-1,"."),o=1,"-"===r.charAt(o-1)&&(o+=1);"0"===r.charAt(o-1)&&o<r.length&&pas.System.Copy(r,o+1,s.length)!==s;)pas.System.Delete({get:function(){return r},set:function(t){r=t}},o,1)}else pas.System.Insert(pas.System.Copy("00000",1,-h),{get:function(){return r},set:function(t){r=t}},o-1),r=rtl.setCharAt(r,o-h-1,r.charAt(o-h-1-1)),r=rtl.setCharAt(r,o-1,"."),-1!==h&&(r=rtl.setCharAt(r,o-h-1-1,"0"));for(l=r.length;l>0&&"0"===r.charAt(l-1);)l-=1;"."===r.charAt(l-1)&&(l-=1),r=0===l||1===l&&"-"===r.charAt(0)?"0":rtl.strSetLength(r,l)}else{for(;"0"===r.charAt(a-1-1);)pas.System.Delete({get:function(){return r},set:function(t){r=t}},a-1,1),a-=1;for(r.charAt(a-1-1)===s&&(pas.System.Delete({get:function(){return r},set:function(t){r=t}},a-1,1),a-=1),"+"===r.charAt(a+1-1)?pas.System.Delete({get:function(){return r},set:function(t){r=t}},a+1,1):a+=1;"0"===r.charAt(a+1-1);)pas.System.Delete({get:function(){return r},set:function(t){r=t}},a+1,1)}return r=e.ReplaceDecimalSep(r,s)},e.FormatExponentFloat=function(n,i,s,r){var o="",a=0;for(r=t.DecimalSeparator,(-1===i||i>15)&&(i=15),o=rtl.floatToStr(n,i+7);" "===o.charAt(0);)pas.System.Delete({get:function(){return o},set:function(t){o=t}},1,1);if(0===(a=pas.System.Pos("E",o)))return o=e.ReplaceDecimalSep(o,r);if(a+=2,s>4&&(s=4),(s=o.length-a-s+1)<0)pas.System.Insert(pas.System.Copy("0000",1,-s),{get:function(){return o},set:function(t){o=t}},a);else for(;s>0&&"0"===o.charAt(a-1);){if(pas.System.Delete({get:function(){return o},set:function(t){o=t}},a,1),a>o.length){pas.System.Delete({get:function(){return o},set:function(t){o=t}},a-2,2);break}s-=1}return o=e.ReplaceDecimalSep(o,r)},e.FormatFixedFloat=function(t,n,i){var s="";return-1===n?n=2:n>18&&(n=18),""!==(s=rtl.floatToStr(t,0,n))&&" "===s.charAt(0)&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,1),s=e.ReplaceDecimalSep(s,i)},e.FormatNumberFloat=function(t,n,i,s){var r="",o=0;if(-1===n?n=2:n>15&&(n=15),""!==(r=rtl.floatToStr(t,0,n))&&" "===r.charAt(0)&&pas.System.Delete({get:function(){return r},set:function(t){r=t}},1,1),(o=pas.System.Pos(".",r))<=0&&(o=r.length+1),r=e.ReplaceDecimalSep(r,i),o-=3,""!==s&&"\0"!==s)for(;o>1;)"-"!==r.charAt(o-1-1)&&pas.System.Insert(s,{get:function(){return r},set:function(t){r=t}},o),o-=3;return r},e.RemoveLeadingNegativeSign=function(e,n){var i,s=!1,r=0;s=!1,i=t.ThousandSeparator;for(var o=2,a=e.get().length;o<=a&&(r=o,s=e.get().charCodeAt(r-1)in rtl.createSet(48,n.charCodeAt(),69,43)||e.get().charAt(r-1)===i);o++);return s&&"-"===e.get().charAt(0)&&pas.System.Delete(e,1,1),s},e.FormatNumberCurrency=function(n,i,s,r){var o,a="",l=0;if(-1===i?i=t.CurrencyDecimals:i>18&&(i=18),(o="-"===(a=rtl.floatToStr(n,0,i)).charAt(0))&&pas.System.Delete({get:function(){return a},set:function(t){a=t}},1,1),l=pas.System.Pos(".",a),""!==r)for(0!==l?a=e.ReplaceDecimalSep(a,s):l=a.length+1,l-=3;l>1;)pas.System.Insert(r,{get:function(){return a},set:function(t){a=t}},l),l-=3;if(o&&e.RemoveLeadingNegativeSign({get:function(){return a},set:function(t){a=t}},s),o){var h=t.NegCurrFormat;0===h?a="("+t.CurrencyString+a+")":1===h?a="-"+t.CurrencyString+a:2===h?a=t.CurrencyString+"-"+a:3===h?a=t.CurrencyString+a+"-":4===h?a="("+a+t.CurrencyString+")":5===h?a="-"+a+t.CurrencyString:6===h?a=a+"-"+t.CurrencyString:7===h?a=a+t.CurrencyString+"-":8===h?a="-"+a+" "+t.CurrencyString:9===h?a="-"+t.CurrencyString+" "+a:10===h?a=a+" "+t.CurrencyString+"-":11===h?a=t.CurrencyString+" "+a+"-":12===h?a=t.CurrencyString+" -"+a:13===h?a=a+"- "+t.CurrencyString:14===h?a="("+t.CurrencyString+" "+a+")":15===h&&(a="("+a+" "+t.CurrencyString+")")}else{var u=t.CurrencyFormat;0===u?a=t.CurrencyString+a:1===u?a+=t.CurrencyString:2===u?a=t.CurrencyString+" "+a:3===u&&(a=a+" "+t.CurrencyString)}return a},e.RESpecials="([\\+\\[\\]\\(\\)\\\\\\.\\*])",e.DateTimeToStrFormat=["c","f"]}),rtl.module("Web",["System","Types","JS"],function(){"use strict";rtl.createClass(this,"TJSKeyNames",pas.System.TObject,function(){this.Alt="Alt",this.CapsLock="CapsLock",this.Control="Control",this.Shift="Shift",this.Enter="Enter",this.Tab="Tab",this.ArrowDown="ArrowDown",this.ArrowLeft="ArrowLeft",this.ArrowRight="ArrowRight",this.ArrowUp="ArrowUp",this._End="End",this.Home="Home",this.PageDown="PageDown",this.PageUp="PageUp",this.BackSpace="Backspace",this.Delete="Delete",this.Insert="Insert",this.Escape="Escape",this.Pause="Pause",this.F1="F1",this.F2="F2",this.F3="F3",this.F4="F4",this.F5="F5",this.F6="F6",this.F7="F7",this.F8="F8",this.F9="F9",this.F10="F10",this.F11="F11",this.F12="F12",this.F13="F13",this.F14="F14",this.F15="F15",this.F16="F16",this.F17="F17",this.F18="F18",this.F19="F19",this.F20="F20"})}),rtl.module("Classes",["System","RTLConsts","Types","SysUtils","JS","Web"],function(){"use strict";var t=this,e=t.$impl;rtl.createClass(t,"EListError",pas.SysUtils.Exception,function(){}),rtl.createClass(t,"EStringListError",t.EListError,function(){}),rtl.createClass(t,"EComponentError",pas.SysUtils.Exception,function(){}),this.TAlignment={0:"taLeftJustify",taLeftJustify:0,1:"taRightJustify",taRightJustify:1,2:"taCenter",taCenter:2},t.$rtti.$Enum("TAlignment",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TAlignment}),rtl.createClass(t,"TFPList",pas.System.TObject,function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FList=[],this.FCount=0,this.FCapacity=0},this.$final=function(){this.FList=void 0,pas.System.TObject.$final.call(this)},this.Get=function(t){return(t<0||t>=this.FCount)&&this.RaiseIndexError(t),this.FList[t]},this.SetCapacity=function(t){t<this.FCount&&this.$class.Error(pas.RTLConsts.SListCapacityError,""+t),t!==this.FCapacity&&(this.FList=rtl.arraySetLength(this.FList,void 0,t),this.FCapacity=t)},this.SetCount=function(t){t<0&&this.$class.Error(pas.RTLConsts.SListCountError,""+t),t>this.FCount&&t>this.FCapacity&&this.SetCapacity(t),this.FCount=t},this.RaiseIndexError=function(t){this.$class.Error(pas.RTLConsts.SListIndexError,""+t)},this.Destroy=function(){this.Clear(),pas.System.TObject.Destroy.call(this)},this.Add=function(t){var e;return this.FCount===this.FCapacity&&this.Expand(),this.FList[this.FCount]=t,e=this.FCount,this.FCount+=1,e},this.Clear=function(){rtl.length(this.FList)>0&&(this.SetCount(0),this.SetCapacity(0))},this.Delete=function(t){(t<0||t>=this.FCount)&&this.$class.Error(pas.RTLConsts.SListIndexError,""+t),this.FCount=this.FCount-1,this.FList.splice(t,1),this.FCapacity-=1},this.Error=function(e,n){throw t.EListError.$create("CreateFmt",[e,[n]])},this.Expand=function(){var t=0;return this.FCount<this.FCapacity?this:(t=4,this.FCapacity>3&&(t+=4),this.FCapacity>8&&(t+=8),this.FCapacity>127&&(t+=this.FCapacity>>>2),this.SetCapacity(this.FCapacity+t),this,this)},this.IndexOf=function(t){var e,n=0;for(n=0,e=this.FCount;n<e&&this.FList[n]!=t;)n+=1;return n>=e&&(n=-1),n},this.IndexOfItem=function(t,e){var n=0;if(e===pas.Types.TDirection.FromBeginning)n=this.IndexOf(t);else for(n=this.FCount-1;n>=0&&this.FList[n]!=t;)n-=1;return n},this.Insert=function(t,e){(t<0||t>this.FCount)&&this.$class.Error(pas.RTLConsts.SListIndexError,""+t),this.FList.splice(t,0,e),this.FCapacity+=1,this.FCount+=1},this.Last=function(){return 0===this.FCount?null:this.Get(this.FCount-1)},this.Remove=function(t){var e;return-1!==(e=this.IndexOf(t))&&this.Delete(e),e}}),this.TListNotification={0:"lnAdded",lnAdded:0,1:"lnExtracted",lnExtracted:1,2:"lnDeleted",lnDeleted:2},rtl.createClass(t,"TList",pas.System.TObject,function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FList=null},this.$final=function(){this.FList=void 0,pas.System.TObject.$final.call(this)},this.Get=function(t){return this.FList.Get(t)},this.Notify=function(e,n){pas.System.Assigned(e),t.TListNotification.lnExtracted},this.GetCount=function(){return this.FList.FCount},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FList=t.TFPList.$create("Create"),this},this.Destroy=function(){null!=this.FList&&this.Clear(),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FList},set:function(t){this.p.FList=t}})},this.Clear=function(){for(;this.FList.FCount>0;)this.Delete(this.GetCount()-1)},this.Delete=function(e){var n;n=this.FList.Get(e),this.FList.Delete(e),pas.System.Assigned(n)&&this.Notify(n,t.TListNotification.lnDeleted)},this.Insert=function(e,n){this.FList.Insert(e,n),pas.System.Assigned(n)&&this.Notify(n,t.TListNotification.lnAdded)}}),rtl.createClass(t,"TPersistent",pas.System.TObject,function(){this.AssignError=function(t){var e="";throw e=null!==t?t.$classname:"Nil",pas.SysUtils.EConvertError.$create("Create$1",["Cannot assign a "+e+" to a "+this.$classname+"."])},this.AssignTo=function(t){t.AssignError(this)},this.GetOwner=function(){return null,null},this.Assign=function(t){null!==t?t.AssignTo(this):this.AssignError(null)}}),rtl.createClass(t,"TInterfacedPersistent",t.TPersistent,function(){this.$init=function(){t.TPersistent.$init.call(this),this.FOwnerInterface=null},this.$final=function(){this.FOwnerInterface=void 0,t.TPersistent.$final.call(this)},this._AddRef=function(){var t=0;return t=-1,null!=this.FOwnerInterface&&(t=this.FOwnerInterface._AddRef()),t},this._Release=function(){var t=0;return t=-1,null!=this.FOwnerInterface&&(t=this.FOwnerInterface._Release()),t},this.QueryInterface=function(t,e){var n=0;return n=-2147467262,this.GetInterface(t,e)&&(n=0),n},this.AfterConstruction=function(){try{pas.System.TObject.AfterConstruction.call(this),null!==this.GetOwner()&&this.GetOwner().GetInterface(rtl.getIntfGUIDR(pas.System.IUnknown),{p:this,get:function(){return this.p.FOwnerInterface},set:function(t){this.p.FOwnerInterface=t}})}finally{rtl._Release(this.FOwnerInterface)}},rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TStrings",t.TPersistent,function(){this.$init=function(){t.TPersistent.$init.call(this),this.FSpecialCharsInited=!1,this.FAlwaysQuote=!1,this.FQuoteChar="",this.FDelimiter="",this.FNameValueSeparator="",this.FUpdateCount=0,this.FLBS=0,this.FStrictDelimiter=!1,this.FLineBreak=""},this.GetValue=function(t){var e,n="",i="";return n="",-1!==(e=this.IndexOfName(t))&&this.GetNameValue(e,{get:function(){return i},set:function(t){i=t}},{get:function(){return n},set:function(t){n=t}}),n},this.SetDelimiter=function(t){this.CheckSpecialChars(),this.FDelimiter=t},this.Error=function(e,n){throw t.EStringListError.$create("CreateFmt",[e,[pas.SysUtils.IntToStr(n)]])},this.GetCapacity=function(){return this.GetCount()},this.GetObject=function(t){return null,null},this.PutObject=function(t,e){},this.SetUpdateState=function(t){},this.DoCompareText=function(t,e){return pas.SysUtils.CompareText(t,e)},this.SetDelimitedText=function(t){var e=0,n=0,i=!1;this.CheckSpecialChars(),this.BeginUpdate(),e=1,n=1,i=!1;try{if(this.Clear(),this.FStrictDelimiter)for(;e<=t.length;){if(i&&e<=t.length&&t.charAt(e-1)===this.FDelimiter&&(e+=1),e<=t.length)if(t.charAt(e-1)===this.FQuoteChar){for(n=e+1;n<=t.length&&(t.charAt(n-1)!==this.FQuoteChar||n+1<=t.length&&t.charAt(n+1-1)===this.FQuoteChar);)n<=t.length&&t.charAt(n-1)===this.FQuoteChar?n+=2:n+=1;this.Add(pas.SysUtils.StringReplace(pas.System.Copy(t,e+1,n-e-1),this.FQuoteChar+this.FQuoteChar,this.FQuoteChar,rtl.createSet(pas.SysUtils.TStringReplaceFlag.rfReplaceAll))),e=n+1}else{for(n=e;n<=t.length&&t.charAt(n-1)!==this.FDelimiter;)n+=1;this.Add(pas.System.Copy(t,e,n-e)),e=n}else i&&this.Add("");i=!0}else for(;e<=t.length;){for(i&&e<=t.length&&t.charAt(e-1)===this.FDelimiter&&(e+=1);e<=t.length&&t.charCodeAt(e-1)<=" ".charCodeAt();)e+=1;if(e<=t.length)if(t.charAt(e-1)===this.FQuoteChar){for(n=e+1;n<=t.length&&(t.charAt(n-1)!==this.FQuoteChar||n+1<=t.length&&t.charAt(n+1-1)===this.FQuoteChar);)n<=t.length&&t.charAt(n-1)===this.FQuoteChar?n+=2:n+=1;this.Add(pas.SysUtils.StringReplace(pas.System.Copy(t,e+1,n-e-1),this.FQuoteChar+this.FQuoteChar,this.FQuoteChar,rtl.createSet(pas.SysUtils.TStringReplaceFlag.rfReplaceAll))),e=n+1}else{for(n=e;n<=t.length&&t.charCodeAt(n-1)>" ".charCodeAt()&&t.charAt(n-1)!==this.FDelimiter;)n+=1;this.Add(pas.System.Copy(t,e,n-e)),e=n}else i&&this.Add("");for(;e<=t.length&&t.charCodeAt(e-1)<=" ".charCodeAt();)e+=1;i=!0}}finally{this.EndUpdate()}},this.CheckSpecialChars=function(){this.FSpecialCharsInited||(this.FQuoteChar='"',this.FDelimiter=",",this.FNameValueSeparator="=",this.FLBS=pas.System.DefaultTextLineBreakStyle,this.FSpecialCharsInited=!0,this.FLineBreak=pas.System.sLineBreak)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FAlwaysQuote=!1,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.Add=function(t){var e;return e=this.GetCount(),this.Insert(this.GetCount(),t),e},this.AddObject=function(t,e){var n;return n=this.Add(t),this.PutObject(n,e),n},this.AddStrings=function(t){for(var e=0,n=0,i=t.GetCount()-1;n<=i;n++)e=n,this.AddObject(t.Get(e),t.GetObject(e))},this.Assign=function(e){var n=null;if(t.TStrings.isPrototypeOf(e)){n=e,this.BeginUpdate();try{this.Clear(),this.FSpecialCharsInited=n.FSpecialCharsInited,this.FQuoteChar=n.FQuoteChar,this.FDelimiter=n.FDelimiter,this.FNameValueSeparator=n.FNameValueSeparator,this.FLBS=n.FLBS,this.FLineBreak=n.FLineBreak,this.AddStrings(n)}finally{this.EndUpdate()}}else t.TPersistent.Assign.call(this,e)},this.BeginUpdate=function(){0===this.FUpdateCount&&this.SetUpdateState(!0),this.FUpdateCount+=1},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),0===this.FUpdateCount&&this.SetUpdateState(!1)},this.IndexOfName=function(t){var e=0,n=0,i="";for(this.CheckSpecialChars(),e=0;e<this.GetCount();){if(i=this.Get(e),(n=pas.System.Pos(this.FNameValueSeparator,i)-1)>=0&&0===this.DoCompareText(t,pas.System.Copy(i,1,n)))return e;e+=1}return e=-1},this.GetNameValue=function(t,e,n){var i;this.CheckSpecialChars(),n.set(this.Get(t)),0!==(i=pas.System.Pos(this.FNameValueSeparator,n.get()))?(e.set(pas.System.Copy(n.get(),1,i-1)),n.set(pas.System.Copy(n.get(),i+1,n.get().length-i))):e.set("")}}),rtl.recNewT(t,"TStringItem",function(){this.FString="",this.FObject=null,this.$eq=function(t){return this.FString===t.FString&&this.FObject===t.FObject},this.$assign=function(t){return this.FString=t.FString,this.FObject=t.FObject,this}}),this.TStringsSortStyle={0:"sslNone",sslNone:0,1:"sslUser",sslUser:1,2:"sslAuto",sslAuto:2},rtl.createClass(t,"TStringList",t.TStrings,function(){this.$init=function(){t.TStrings.$init.call(this),this.FList=[],this.FCount=0,this.FOnChange=null,this.FOnChanging=null,this.FDuplicates=0,this.FCaseSensitive=!1,this.FOwnsObjects=!1,this.FSortStyle=0},this.$final=function(){this.FList=void 0,this.FOnChange=void 0,this.FOnChanging=void 0,t.TStrings.$final.call(this)},this.GetSorted=function(){return this.FSortStyle in rtl.createSet(t.TStringsSortStyle.sslUser,t.TStringsSortStyle.sslAuto)},this.Grow=function(){var t=0;(t=this.GetCapacity())>=256?t+=Math.floor(t/4):0===t?t=4:t*=4,this.SetCapacity(t)},this.InternalClear=function(t,e){var n=0;if(t<this.FCount){if(this.FOwnsObjects)for(var i=t,s=this.FCount-1;i<=s;i++)n=i,this.FList[n].FString="",pas.SysUtils.FreeAndNil({p:this.FList[n],get:function(){return this.p.FObject},set:function(t){this.p.FObject=t}});else for(var r=t,o=this.FCount-1;r<=o;r++)n=r,this.FList[n].FString="";this.FCount=t}e||this.SetCapacity(0)},this.CheckIndex=function(t){(t<0||t>=this.FCount)&&this.Error(pas.RTLConsts.SListIndexError,t)},this.Changed=function(){0===this.FUpdateCount&&null!=this.FOnChange&&this.FOnChange(this)},this.Changing=function(){0===this.FUpdateCount&&null!=this.FOnChanging&&this.FOnChanging(this)},this.Get=function(t){return this.CheckIndex(t),this.FList[t].FString},this.GetCapacity=function(){return rtl.length(this.FList)},this.GetCount=function(){return this.FCount},this.GetObject=function(t){return this.CheckIndex(t),this.FList[t].FObject},this.PutObject=function(t,e){this.CheckIndex(t),this.Changing(),this.FList[t].FObject=e,this.Changed()},this.SetCapacity=function(e){e<0&&this.Error(pas.RTLConsts.SListCapacityError,e),e!==this.GetCapacity()&&(this.FList=rtl.arraySetLength(this.FList,t.TStringItem,e))},this.SetUpdateState=function(t){t?this.Changing():this.Changed()},this.InsertItem=function(t,e){this.InsertItem$1(t,e,null)},this.InsertItem$1=function(e,n,i){var s=t.TStringItem.$new();this.Changing(),this.FCount===this.GetCapacity()&&this.Grow(),s.FString=n,s.FObject=i,this.FList.splice(e,0,s),this.FCount+=1,this.Changed()},this.DoCompareText=function(t,e){return this.FCaseSensitive?pas.SysUtils.CompareStr(t,e):pas.SysUtils.CompareText(t,e)},this.Destroy=function(){this.InternalClear(0,!1),t.TStrings.Destroy.call(this)},this.Add=function(e){var n=0;if(this.FSortStyle!==t.TStringsSortStyle.sslAuto)n=this.FCount;else if(this.Find(e,{get:function(){return n},set:function(t){n=t}})){var i=this.FDuplicates;if(i===pas.Types.TDuplicates.dupIgnore)return n;i===pas.Types.TDuplicates.dupError&&this.Error(pas.RTLConsts.SDuplicateString,0)}return this.InsertItem(n,e),n},this.Clear=function(){0!==this.FCount&&(this.Changing(),this.InternalClear(0,!1),this.Changed())},this.Find=function(e,n){var i=!1,s=0,r=0,o=0,a=0;if(i=!1,n.set(-1),!this.GetSorted())throw t.EListError.$create("Create$1",[pas.RTLConsts.SErrFindNeedsSortedList]);for(s=0,r=this.GetCount()-1;s<=r;)o=s+Math.floor((r-s)/2),(a=this.DoCompareText(e,this.FList[o].FString))>0?s=o+1:(r=o-1,0===a&&(i=!0,this.FDuplicates!==pas.Types.TDuplicates.dupAccept&&(s=o)));return n.set(s),i},this.Insert=function(e,n){this.FSortStyle===t.TStringsSortStyle.sslAuto?this.Error(pas.RTLConsts.SSortedListError,0):((e<0||e>this.FCount)&&this.Error(pas.RTLConsts.SListIndexError,e),this.InsertItem(e,n))}}),rtl.createClass(t,"TCollectionItem",t.TPersistent,function(){this.$init=function(){t.TPersistent.$init.call(this),this.FCollection=null,this.FID=0},this.$final=function(){this.FCollection=void 0,t.TPersistent.$final.call(this)},this.SetCollection=function(t){t!==this.FCollection&&(null!==this.FCollection&&this.FCollection.RemoveItem(this),null!==t&&t.InsertItem(this))},this.GetOwner=function(){return this.FCollection},this.Create$1=function(t){return pas.System.TObject.Create.call(this),this.SetCollection(t),this},this.Destroy=function(){this.SetCollection(null),pas.System.TObject.Destroy.call(this)}}),this.TCollectionNotification={0:"cnAdded",cnAdded:0,1:"cnExtracting",cnExtracting:1,2:"cnDeleting",cnDeleting:2},rtl.createClass(t,"TCollection",t.TPersistent,function(){this.$init=function(){t.TPersistent.$init.call(this),this.FItemClass=null,this.FItems=null,this.FUpdateCount=0,this.FNextID=0,this.FPropName=""},this.$final=function(){this.FItemClass=void 0,this.FItems=void 0,t.TPersistent.$final.call(this)},this.GetCount=function(){return this.FItems.FCount},this.InsertItem=function(e){this.FItemClass.isPrototypeOf(e)&&(this.FItems.Add(e),e.FCollection=this,e.FID=this.FNextID,this.FNextID+=1,this.SetItemName(e),this.Notify(e,t.TCollectionNotification.cnAdded),this.Changed())},this.RemoveItem=function(e){var n;this.Notify(e,t.TCollectionNotification.cnExtracting),-1!==(n=this.FItems.IndexOfItem(e,pas.Types.TDirection.FromEnd))&&this.FItems.Delete(n),e.FCollection=null,this.Changed()},this.DoClear=function(){for(var t=null;this.FItems.FCount>0;)null!=(t=rtl.getObject(this.FItems.Last()))&&t.$destroy("Destroy")},this.Changed=function(){0===this.FUpdateCount&&this.Update(null)},this.GetItem=function(t){return rtl.getObject(this.FItems.Get(t))},this.SetItemName=function(t){},this.Update=function(t){},this.Notify=function(e,n){t.TCollectionNotification.cnAdded},this.Create$1=function(e){return pas.System.TObject.Create.call(this),this.FItemClass=e,this.FItems=t.TFPList.$create("Create"),this},this.Destroy=function(){this.FUpdateCount=1;try{this.DoClear()}finally{this.FUpdateCount=0}null!=this.FItems&&this.FItems.$destroy("Destroy"),pas.System.TObject.Destroy.call(this)},this.Add=function(){return this.FItemClass.$create("Create$1",[this])},this.Assign=function(e){var n=0;if(t.TCollection.isPrototypeOf(e)){this.Clear();for(var i=0,s=e.GetCount()-1;i<=s;i++)n=i,this.Add().Assign(e.GetItem(n))}else t.TPersistent.Assign.call(this,e)},this.BeginUpdate=function(){this.FUpdateCount+=1},this.Clear=function(){if(0!==this.FItems.FCount){this.BeginUpdate();try{this.DoClear()}finally{this.EndUpdate()}}},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),0===this.FUpdateCount&&this.Changed()}}),rtl.createClass(t,"TOwnedCollection",t.TCollection,function(){this.$init=function(){t.TCollection.$init.call(this),this.FOwner=null},this.$final=function(){this.FOwner=void 0,t.TCollection.$final.call(this)},this.GetOwner=function(){return this.FOwner},this.Create$2=function(e,n){return this.FOwner=e,t.TCollection.Create$1.call(this,n),this}}),this.TOperation={0:"opInsert",opInsert:0,1:"opRemove",opRemove:1},this.TComponentStateItem={0:"csLoading",csLoading:0,1:"csReading",csReading:1,2:"csWriting",csWriting:2,3:"csDestroying",csDestroying:3,4:"csDesigning",csDesigning:4,5:"csAncestor",csAncestor:5,6:"csUpdating",csUpdating:6,7:"csFixups",csFixups:7,8:"csFreeNotification",csFreeNotification:8,9:"csInline",csInline:9,10:"csDesignInstance",csDesignInstance:10},this.TComponentStyleItem={0:"csInheritable",csInheritable:0,1:"csCheckPropAvail",csCheckPropAvail:1,2:"csSubComponent",csSubComponent:2,3:"csTransient",csTransient:3},rtl.createClass(t,"TComponent",t.TInterfacedPersistent,function(){this.$init=function(){t.TInterfacedPersistent.$init.call(this),this.FOwner=null,this.FName="",this.FTag=0,this.FComponents=null,this.FFreeNotifies=null,this.FComponentState={},this.FComponentStyle={},this.FLeft=0,this.FTop=0},this.$final=function(){this.FOwner=void 0,this.FComponents=void 0,this.FFreeNotifies=void 0,this.FComponentState=void 0,this.FComponentStyle=void 0,t.TInterfacedPersistent.$final.call(this)},this.GetComponent=function(t){return null==this.FComponents?null:rtl.getObject(this.FComponents.Get(t))},this.GetComponentCount=function(){return null==this.FComponents?0:this.FComponents.FCount},this.Insert=function(e){null==this.FComponents&&(this.FComponents=t.TFPList.$create("Create")),this.FComponents.Add(e),e.FOwner=this},this.Remove=function(t){t.FOwner=null,null!=this.FComponents&&(this.FComponents.Remove(t),0===this.FComponents.FCount&&(this.FComponents.$destroy("Destroy"),this.FComponents=null))},this.RemoveNotification=function(e){null!==this.FFreeNotifies&&(this.FFreeNotifies.Remove(e),0===this.FFreeNotifies.FCount&&(this.FFreeNotifies.$destroy("Destroy"),this.FFreeNotifies=null,this.FComponentState=rtl.excludeSet(this.FComponentState,t.TComponentStateItem.csFreeNotification)))},this.ChangeName=function(t){this.FName=t},this.GetOwner=function(){return this.FOwner},this.GetLeft=function(){return this.FLeft},this.GetTop=function(){return this.FTop},this.Loaded=function(){this.FComponentState=rtl.excludeSet(this.FComponentState,t.TComponentStateItem.csLoading)},this.Loading=function(){this.FComponentState=rtl.includeSet(this.FComponentState,t.TComponentStateItem.csLoading)},this.Notification=function(e,n){var i=0;if(n===t.TOperation.opRemove&&this.RemoveFreeNotification(e),null!=this.FComponents)for(i=this.FComponents.FCount-1;i>=0;)rtl.getObject(this.FComponents.Get(i)).Notification(e,n),(i-=1)>=this.FComponents.FCount&&(i=this.FComponents.FCount-1)},this.SetDesigning=function(e,n){var i=0;if(this.FComponentState=e?rtl.includeSet(this.FComponentState,t.TComponentStateItem.csDesigning):rtl.excludeSet(this.FComponentState,t.TComponentStateItem.csDesigning),null!=this.FComponents&&n)for(var s=0,r=this.FComponents.FCount-1;s<=r;s++)i=s,rtl.getObject(this.FComponents.Get(i)).SetDesigning(e,!0)},this.SetName=function(e){if(this.FName!==e){if(""!==e&&!pas.SysUtils.IsValidIdent(e,!1,!1))throw t.EComponentError.$create("CreateFmt",[pas.RTLConsts.SInvalidName,[e]]);null!=this.FOwner?this.FOwner.ValidateRename(this,this.FName,e):this.ValidateRename(null,this.FName,e),this.ChangeName(e)}},this.SetLeft=function(t){this.FLeft=t},this.SetTop=function(t){this.FTop=t},this.ValidateRename=function(e,n,i){if(null!==e&&0!==pas.SysUtils.CompareText(n,i)&&e.FOwner===this&&null!==this.FindComponent(i))throw t.EComponentError.$create("CreateFmt",[pas.RTLConsts.SDuplicateName,[i]]);t.TComponentStateItem.csDesigning in this.FComponentState&&null!==this.FOwner&&this.FOwner.ValidateRename(e,n,i)},this.ValidateContainer=function(t){t.ValidateInsert(this)},this.ValidateInsert=function(t){},this.Create$1=function(e){return this.FComponentStyle=rtl.createSet(t.TComponentStyleItem.csInheritable),null!=e&&e.InsertComponent(this),this},this.Destroy=function(){var e=0,n=null;if(this.Destroying(),null!=this.FFreeNotifies){for(e=this.FFreeNotifies.FCount-1;e>=0;)n=rtl.getObject(this.FFreeNotifies.Get(e)),this.FFreeNotifies.Delete(e),n.Notification(this,t.TOperation.opRemove),null===this.FFreeNotifies?e=0:e>this.FFreeNotifies.FCount&&(e=this.FFreeNotifies.FCount),e-=1;pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FFreeNotifies},set:function(t){this.p.FFreeNotifies=t}})}this.DestroyComponents(),null!==this.FOwner&&this.FOwner.RemoveComponent(this),pas.System.TObject.Destroy.call(this)},this.BeforeDestruction=function(){t.TComponentStateItem.csDestroying in this.FComponentState||this.Destroying()},this.DestroyComponents=function(){for(var t=null;null!=this.FComponents;)t=rtl.getObject(this.FComponents.Last()),this.Remove(t),t.$destroy("Destroy")},this.Destroying=function(){var e=0;if(!(t.TComponentStateItem.csDestroying in this.FComponentState)&&(this.FComponentState=rtl.includeSet(this.FComponentState,t.TComponentStateItem.csDestroying),null!=this.FComponents))for(var n=0,i=this.FComponents.FCount-1;n<=i;n++)e=n,rtl.getObject(this.FComponents.Get(e)).Destroying()},this.AfterLoadDFMValues=function(){this.EndUpdate()},this.BeforeLoadDFMValues=function(){this.BeginUpdate()},this.BeginUpdate=function(){},this.EndUpdate=function(){},this.FindComponent=function(t){var e=null,n=0;if(e=null,""===t||null==this.FComponents)return e;for(var i=0,s=this.FComponents.FCount-1;i<=s;i++)if(n=i,0===pas.SysUtils.CompareText(rtl.getObject(this.FComponents.Get(n)).FName,t))return e=rtl.getObject(this.FComponents.Get(n));return e},this.RemoveFreeNotification=function(t){this.RemoveNotification(t),t.RemoveNotification(this)},this.InsertComponent=function(e){e.ValidateContainer(this),this.ValidateRename(e,"",e.FName),this.Insert(e),t.TComponentStateItem.csDesigning in this.FComponentState&&e.SetDesigning(!0,!0),this.Notification(e,t.TOperation.opInsert)},this.RemoveComponent=function(e){this.Notification(e,t.TOperation.opRemove),this.Remove(e),e.SetDesigning(!1,!0),this.ValidateRename(e,e.FName,"")},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Name",6,rtl.string,"FName","SetName"),e.addProperty("Tag",0,rtl.nativeint,"FTag","FTag")}),this.GetClass=function(t){var n=null;return n=null,""===t?n:n=rtl.getObject(e.ClassList[t])},t.$init=function(){e.ClassList=Object.create(null)}},null,function(){"use strict";this.$impl.ClassList=null}),rtl.module("Math",["System","SysUtils"],function(){"use strict"}),rtl.module("contnrs",["System","SysUtils","Classes"],function(){"use strict";rtl.createClass(this,"TObjectList",pas.Classes.TList,function(){this.$init=function(){pas.Classes.TList.$init.call(this),this.FFreeObjects=!1},this.Notify=function(t,e){var n=null;this.FFreeObjects&&e===pas.Classes.TListNotification.lnDeleted&&(n=rtl.getObject(t),n=rtl.freeLoc(n)),pas.Classes.TList.Notify.call(this,t,e)},this.Create$2=function(){return pas.Classes.TList.Create$1.call(this),this.FFreeObjects=!0,this}})},["JS"]),rtl.module("WEBLib.Graphics",["System","Classes","Types","Web","JS"],function(){"use strict";var t=this,e=t.$impl;this.WEBDEFAULTFONT="Arial",this.clNone=-1,this.clBlack=0,this.clSilver=12632256,this.clWhite=16777215,this.clWindowText=65793,this.DEFAULT_CHARSET=1,t.$rtti.$inherited("TColor",rtl.nativeint,{}),this.TPenStyle={0:"psSolid",psSolid:0,1:"psDash",psDash:1,2:"psDot",psDot:2,3:"psDashDot",psDashDot:3,4:"psDashDotDot",psDashDotDot:4,5:"psClear",psClear:5,6:"psInsideFrame",psInsideFrame:6,7:"psUserStyle",psUserStyle:7,8:"psAlternate",psAlternate:8},t.$rtti.$Enum("TPenStyle",{minvalue:0,maxvalue:8,ordtype:1,enumtype:this.TPenStyle}),this.TBrushStyle={0:"bsSolid",bsSolid:0,1:"bsClear",bsClear:1,2:"bsHorizontal",bsHorizontal:2,3:"bsVertical",bsVertical:3,4:"bsFDiagonal",bsFDiagonal:4,5:"bsBDiagonal",bsBDiagonal:5,6:"bsCross",bsCross:6,7:"bsDiagCross",bsDiagCross:7},t.$rtti.$Enum("TBrushStyle",{minvalue:0,maxvalue:7,ordtype:1,enumtype:this.TBrushStyle}),this.TFontStyle={0:"fsBold",fsBold:0,1:"fsItalic",fsItalic:1,2:"fsStrikeOut",fsStrikeOut:2,3:"fsUnderline",fsUnderline:3},t.$rtti.$Enum("TFontStyle",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TFontStyle}),t.$rtti.$Set("TFontStyles",{comptype:t.$rtti.TFontStyle}),t.$rtti.$Int("TFontCharset",{minvalue:0,maxvalue:255,ordtype:3}),rtl.createClass(t,"TPen",pas.Classes.TPersistent,function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FWidth=0,this.FColor=0,this.FStyle=0},this.SetColor=function(t){this.FColor=t},this.Create$1=function(){return this.FColor=0,this.FWidth=1,this.FStyle=t.TPenStyle.psSolid,this},this.Assign=function(e){t.TPen.isPrototypeOf(e)&&(this.FColor=rtl.as(e,t.TPen).FColor,this.FStyle=rtl.as(e,t.TPen).FStyle,this.FWidth=rtl.as(e,t.TPen).FWidth)};var e=this.$rtti;e.addProperty("Color",2,t.$rtti.TColor,"FColor","SetColor"),e.addProperty("Width",0,rtl.longint,"FWidth","FWidth"),e.addProperty("Style",0,t.$rtti.TPenStyle,"FStyle","FStyle")}),rtl.createClass(t,"TBrush",pas.Classes.TPersistent,function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FColor=0,this.FStyle=0},this.Create$1=function(){return this.FColor=16777215,this.FStyle=t.TBrushStyle.bsSolid,this},this.Assign=function(e){t.TBrush.isPrototypeOf(e)&&(this.FColor=rtl.as(e,t.TBrush).FColor,this.FStyle=rtl.as(e,t.TBrush).FStyle)};var e=this.$rtti;e.addProperty("Color",0,t.$rtti.TColor,"FColor","FColor"),e.addProperty("Style",0,t.$rtti.TBrushStyle,"FStyle","FStyle")}),rtl.createClass(t,"TFont",pas.Classes.TPersistent,function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FName="",this.FSize=0,this.FColor=0,this.FStyle={},this.FOnChange=null,this.FHeight=0,this.FCharset=0},this.$final=function(){this.FStyle=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetHeight=function(t){var e;this.FHeight=t,e=72*-this.FHeight/96,this.FSize=Math.round(e),this.DoChange()},this.SetName=function(t){this.FName!==t&&(this.FName=t,this.DoChange())},this.SetSize=function(t){this.FSize!==t&&(this.FSize=t,this.DoChange())},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,this.DoChange())},this.SetStyle=function(t){this.FStyle=rtl.refSet(t),this.DoChange()},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Assign=function(e){t.TFont.isPrototypeOf(e)&&(this.FName=rtl.as(e,t.TFont).FName,this.FColor=rtl.as(e,t.TFont).FColor,this.FSize=rtl.as(e,t.TFont).FSize,this.FStyle=rtl.refSet(rtl.as(e,t.TFont).FStyle))},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FName=t.WEBDEFAULTFONT,this.FSize=8,this.FStyle={},this.FColor=0,this};var e=this.$rtti;e.addProperty("Charset",0,t.$rtti.TFontCharset,"FCharset","FCharset"),e.addProperty("Name",2,rtl.string,"FName","SetName"),e.addProperty("Height",2,rtl.longint,"FHeight","SetHeight"),e.addProperty("Style",2,t.$rtti.TFontStyles,"FStyle","SetStyle"),e.addProperty("Color",2,t.$rtti.TColor,"FColor","SetColor"),e.addProperty("Size",2,rtl.longint,"FSize","SetSize")}),rtl.recNewT(t,"TMatrix",function(){this.m11=0,this.m12=0,this.m13=0,this.m21=0,this.m22=0,this.m23=0,this.m31=0,this.m32=0,this.m33=0,this.$eq=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m13===t.m13&&this.m21===t.m21&&this.m22===t.m22&&this.m23===t.m23&&this.m31===t.m31&&this.m32===t.m32&&this.m33===t.m33},this.$assign=function(t){return this.m11=t.m11,this.m12=t.m12,this.m13=t.m13,this.m21=t.m21,this.m22=t.m22,this.m23=t.m23,this.m31=t.m31,this.m32=t.m32,this.m33=t.m33,this}}),rtl.createClass(t,"TCanvas",pas.System.TObject,function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FElementCanvas=null,this.FContext=null,this.FPen=null,this.FBrush=null,this.FFont=null,this.FPathOpen=!1,this.FApplyPixelRatio=!1},this.$final=function(){this.FElementCanvas=void 0,this.FContext=void 0,this.FPen=void 0,this.FBrush=void 0,this.FFont=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(e){return this.FElementCanvas=e,this.FContext=e.getContext("2d"),this.FPen=t.TPen.$create("Create$1"),this.FBrush=t.TBrush.$create("Create$1"),this.FPathOpen=!1,this.FFont=t.TFont.$create("Create$1"),this.FApplyPixelRatio=!1,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.SetTransform=function(n,i,s,r,o,a){var l=t.TMatrix.$new(),h=0;null!=this.FContext&&(l.$assign(e.MatrixIdentity()),l.m11=n,l.m12=i,l.m21=s,l.m22=r,l.m31=o,l.m32=a,this.FApplyPixelRatio&&(h=e.GetPixelRatio(this),l.$assign(e.MatrixMultiply(l,e.MatrixCreateScaling(h,h)))),this.FContext.setTransform(l.m11,l.m12,l.m21,l.m22,l.m31,l.m32))},this.Clear=function(){null!=this.FContext&&null!=this.FElementCanvas&&this.FContext.clearRect(0,0,this.FElementCanvas.width,this.FElementCanvas.height)}}),this.ColorToHex=function(t){var e="";for(e=t.toString(16);e.length<6;)e="0"+e;return pas.System.Copy(e,5,2)+pas.System.Copy(e,3,2)+pas.System.Copy(e,1,2)},this.ColorToHTML=function(e){return"#"+t.ColorToHex(e)},t.$init=function(){e.FCache=e.TGraphicCacheList.$create("Create$2"),e.FQueue=pas.Classes.TStringList.$create("Create$1")}},["WEBLib.Forms","Math","SysUtils","contnrs"],function(){"use strict";var t=this,e=t.$impl;rtl.createClass(e,"TGraphicCacheList",pas.contnrs.TObjectList,function(){}),e.FCache=null,e.FQueue=null,e.MatrixIdentity=function(){var e=t.TMatrix.$new();return e.m11=1,e.m12=0,e.m13=0,e.m21=0,e.m22=1,e.m23=0,e.m31=0,e.m32=0,e.m33=1,e},e.GetPixelRatio=function(t){var e=t.FContext;return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},e.MatrixCreateScaling=function(n,i){var s=t.TMatrix.$new();return s.$assign(e.MatrixIdentity()),s.m11=n,s.m22=i,s},e.MatrixMultiply=function(e,n){var i=t.TMatrix.$new();return i.m11=e.m11*n.m11+e.m12*n.m21+e.m13*n.m31,i.m12=e.m11*n.m12+e.m12*n.m22+e.m13*n.m32,i.m13=e.m11*n.m13+e.m12*n.m23+e.m13*n.m33,i.m21=e.m21*n.m11+e.m22*n.m21+e.m23*n.m31,i.m22=e.m21*n.m12+e.m22*n.m22+e.m23*n.m32,i.m23=e.m21*n.m13+e.m22*n.m23+e.m23*n.m33,i.m31=e.m31*n.m11+e.m32*n.m21+e.m33*n.m31,i.m32=e.m31*n.m12+e.m32*n.m22+e.m33*n.m32,i.m33=e.m31*n.m13+e.m32*n.m23+e.m33*n.m33,i}}),rtl.module("WEBLib.Controls",["System","Classes","WEBLib.Graphics","Types","SysUtils","Web"],function(){"use strict";var t=this,e=t.$impl;this.VK_ESCAPE=27,t.$rtti.$inherited("TCursor",rtl.longint,{}),this.crDefault=0,this.crNone=1,this.crArrow=2,this.crCross=3,this.crIBeam=4,this.crSize=5,this.crSizeNESW=6,this.crSizeNS=7,this.crSizeNWSE=8,this.crSizeWE=9,this.crUpArrow=10,this.crHourGlass=11,this.crDrag=12,this.crNoDrop=13,this.crHSplit=14,this.crVSplit=15,this.crMultIDrag=16,this.crSQLWait=17,this.crNo=18,this.crAppStart=19,this.crHelp=20,this.crHandPoint=21,this.crSizeAll=22,this.CSSBackground="background-color",this.TDragState={0:"dsDragEnter",dsDragEnter:0,1:"dsDragLeave",dsDragLeave:1,2:"dsDragMove",dsDragMove:2},t.$rtti.$Enum("TDragState",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TDragState}),this.TDragMode={0:"dmManual",dmManual:0,1:"dmAutomatic",dmAutomatic:1},t.$rtti.$Enum("TDragMode",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TDragMode}),this.TDragKind={0:"dkDrag",dkDrag:0,1:"dkDock",dkDock:1},t.$rtti.$Enum("TDragKind",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TDragKind}),rtl.createClass(t,"TDragObject",pas.System.TObject,function(){}),this.TAlign={0:"alNone",alNone:0,1:"alTop",alTop:1,2:"alBottom",alBottom:2,3:"alLeft",alLeft:3,4:"alRight",alRight:4,5:"alClient",alClient:5,6:"alCustom",alCustom:6},t.$rtti.$Enum("TAlign",{minvalue:0,maxvalue:6,ordtype:1,enumtype:this.TAlign}),this.TMouseButton={0:"mbLeft",mbLeft:0,1:"mbRight",mbRight:1,2:"mbMiddle",mbMiddle:2},t.$rtti.$Enum("TMouseButton",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMouseButton}),this.TBorderStyle={0:"bsNone",bsNone:0,1:"bsSingle",bsSingle:1},this.TSizeStyle={0:"ssPercent",ssPercent:0,1:"ssAbsolute",ssAbsolute:1,2:"ssAuto",ssAuto:2},t.$rtti.$Enum("TSizeStyle",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TSizeStyle}),this.TAnchorKind={0:"akLeft",akLeft:0,1:"akTop",akTop:1,2:"akRight",akRight:2,3:"akBottom",akBottom:3},t.$rtti.$Enum("TAnchorKind",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TAnchorKind}),t.$rtti.$Set("TAnchors",{comptype:t.$rtti.TAnchorKind}),t.$rtti.$inherited("TElementClassName",rtl.string,{}),t.$rtti.$inherited("TElementID",rtl.string,{}),this.TElementFont={0:"efProperty",efProperty:0,1:"efCSS",efCSS:1},t.$rtti.$Enum("TElementFont",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TElementFont}),this.TElementPosition={0:"epAbsolute",epAbsolute:0,1:"epRelative",epRelative:1,2:"epIgnore",epIgnore:2},t.$rtti.$Enum("TElementPosition",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TElementPosition}),this.TElementEvent={0:"eeClick",eeClick:0,1:"eeMouseDown",eeMouseDown:1,2:"eeMouseUp",eeMouseUp:2,3:"eeMouseMove",eeMouseMove:3,4:"eeDblClick",eeDblClick:4,5:"eeKeyPress",eeKeyPress:5,6:"eeKeyDown",eeKeyDown:6,7:"eeKeyUp",eeKeyUp:7},this.TShiftState$a={0:"ssShift",ssShift:0,1:"ssAlt",ssAlt:1,2:"ssCtrl",ssCtrl:2,3:"ssLeft",ssLeft:3,4:"ssRight",ssRight:4,5:"ssMIDdle",ssMIDdle:5,6:"ssDouble",ssDouble:6,7:"ssTouch",ssTouch:7,8:"ssPen",ssPen:8,9:"ssCommand",ssCommand:9},t.$rtti.$Enum("TShiftState$a",{minvalue:0,maxvalue:9,ordtype:1,enumtype:this.TShiftState$a}),t.$rtti.$Set("TShiftState",{comptype:t.$rtti.TShiftState$a}),this.TTextDirection={0:"tdDefault",tdDefault:0,1:"tdLeftToRight",tdLeftToRight:1,2:"tdRightToLeft",tdRightToLeft:2,3:"tdInherit",tdInherit:3},t.$rtti.$Enum("TTextDirection",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTextDirection}),t.$rtti.$MethodVar("TNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject]]),methodkind:0}),t.$rtti.$MethodVar("TMouseEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Button",t.$rtti.TMouseButton],["Shift",t.$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),t.$rtti.$MethodVar("TMouseWheelEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",t.$rtti.TShiftState],["WheelDelta",rtl.longint],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TMouseMoveEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",t.$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),t.$rtti.$MethodVar("TKeyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AKey",rtl.word,1],["Shift",t.$rtti.TShiftState]]),methodkind:0}),t.$rtti.$MethodVar("TKeyPressEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AChar",rtl.char,1]]),methodkind:0}),t.$rtti.$MethodVar("TTouchEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),t.$rtti.$MethodVar("TDragOverEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint],["State",t.$rtti.TDragState],["Accept",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TDragDropEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),t.$rtti.$MethodVar("TStartDragEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DragObject",t.$rtti.TDragObject,1]]),methodkind:0}),t.$rtti.$MethodVar("TEndDragEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Target",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.TControlStyleValue={0:"csAcceptsControls",csAcceptsControls:0,1:"csSetCaption",csSetCaption:1},rtl.createClass(t,"TMargins",pas.Classes.TPersistent,function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChange=null,this.FLeft=0,this.FTop=0,this.FRight=0,this.FBottom=0},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetLeft=function(t){t!==this.FLeft&&(this.FLeft=t,this.DoChange())},this.SetTop=function(t){t!==this.FTop&&(this.FTop=t,this.DoChange())},this.SetRight=function(t){t!==this.FRight&&(this.FRight=t,this.DoChange())},this.SetBottom=function(t){t!==this.FBottom&&(this.FBottom=t,this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Create$1=function(){return this.FLeft=3,this.FTop=3,this.FBottom=3,this.FRight=3,this},this.Assign=function(e){t.TMargins.isPrototypeOf(e)?(this.FLeft=rtl.as(e,t.TMargins).FLeft,this.FTop=rtl.as(e,t.TMargins).FTop,this.FBottom=rtl.as(e,t.TMargins).FBottom,this.FRight=rtl.as(e,t.TMargins).FRight):pas.Classes.TPersistent.Assign.apply(this,arguments)};var e=this.$rtti;e.addProperty("Left",2,rtl.longint,"FLeft","SetLeft",{Default:3}),e.addProperty("Top",2,rtl.longint,"FTop","SetTop",{Default:3}),e.addProperty("Right",2,rtl.longint,"FRight","SetRight",{Default:3}),e.addProperty("Bottom",2,rtl.longint,"FBottom","SetBottom",{Default:3})}),rtl.createClass(t,"TPadding",pas.Classes.TPersistent,function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChange=null,this.FLeft=0,this.FTop=0,this.FRight=0,this.FBottom=0},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetLeft=function(t){this.FLeft!==t&&(this.FLeft=t,this.DoChange())},this.SetTop=function(t){this.FTop!==t&&(this.FTop=t,this.DoChange())},this.SetRight=function(t){this.FRight!==t&&(this.FRight=t,this.DoChange())},this.SetBottom=function(t){this.FBottom!==t&&(this.FBottom=t,this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Assign=function(e){t.TPadding.isPrototypeOf(e)&&(this.FLeft=rtl.as(e,t.TPadding).FLeft,this.FRight=rtl.as(e,t.TPadding).FRight,this.FTop=rtl.as(e,t.TPadding).FTop,this.FBottom=rtl.as(e,t.TPadding).FBottom)};var e=this.$rtti;e.addProperty("Left",2,rtl.longint,"FLeft","SetLeft",{Default:0}),e.addProperty("Top",2,rtl.longint,"FTop","SetTop",{Default:0}),e.addProperty("Right",2,rtl.longint,"FRight","SetRight",{Default:0}),e.addProperty("Bottom",2,rtl.longint,"FBottom","SetBottom",{Default:0})}),t.$rtti.$Int("TPercentSize",{minvalue:0,maxvalue:100,ordtype:1}),rtl.createClass(t,"TControl",pas.Classes.TComponent,function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FGotFocus=!1,this.FCaptureDown=!1,this.FMouseInsideLayer=!1,this.FLayer=null,this.FCaptured=!1,this.FControlCreated=!1,this.FUpdateCount=0,this.FBlockUpdateElement=!1,this.FElement=null,this.FID="",this.FNew=!1,this.FContainer=null,this.FElementEvent=null,this.FLastElementEvent=null,this.FElementClassName="",this.FColor=0,this.FFont=null,this.FParent=null,this.FPrevParent=null,this.FControls=[],this.FOnDragOver=null,this.FOnDragDrop=null,this.FOnStartDrag=null,this.FonEndDrag=null,this.FOnClick=null,this.FOnDblClick=null,this.FOnMouseDown=null,this.FOnMouseUp=null,this.FOnMouseMove=null,this.FOnKeyDown=null,this.FOnKeyUp=null,this.FOnKeyPress=null,this.FOnEnter=null,this.FOnExit=null,this.FEnabled=!1,this.FHint="",this.FRole="",this.FShowHint=!1,this.FTabOrder=0,this.FTabStop=!1,this.FVisible=!1,this.FWidth=0,this.FHeight=0,this.FTag$1=0,this.FAlign=0,this.FAnchors={},this.FAlignWithMargins=!1,this.FIsAligning=!1,this.FOnMouseEnter=null,this.FOnMouseLeave=null,this.FCursor=0,this.FDoubleBuffered=!1,this.FControlStyle={},this.FMargins=null,this.FOnMouseWheel=null,this.FParentDoubleBuffered=!1,this.FParentColor=!1,this.FParentFont=!1,this.FOnTouchMove=null,this.FOnTouchStart=null,this.FOnTouchEnd=null,this.FOnTouchCancel=null,this.FLinkTouchEvents=!1,this.FWidthStyle=0,this.FHeightStyle=0,this.FWidthPercent=0,this.FHeightPercent=0,this.FOrigRect=pas.Types.TRect.$new(),this.FOrigParentRect=pas.Types.TRect.$new(),this.FIsResizing=!1,this.FShowFocus=!1,this.FBorderWidth=0,this.FOrigTop=0,this.FOrigLeft=0,this.FUpdateTopLeft=!1,this.FEnablePropagation=!1,this.FParentShowHint=!1,this.FScriptLoaded=!1,this.FControlScriptCountLoaded=0,this.FRequiredScripts=null,this.FElementFont=0,this.FElementPosition=0,this.FParentElement=null,this.FClipChildren=!1,this.FTextDirection=0,this.FEventStopPropagation={},this.FOnResize=null,this.FMouseMovePtr=null,this.FMouseDownPtr=null,this.FMouseUpPtr=null,this.FMouseEnterPtr=null,this.FMouseLeavePtr=null,this.FClickPtr=null,this.FDblClickPtr=null,this.FKeyDownPtr=null,this.FKeyUpPtr=null,this.FKeyPressPtr=null,this.FInputPtr=null,this.FTouchStartPtr=null,this.FTouchEndPtr=null,this.FTouchMovePtr=null,this.FTouchCancelPtr=null,this.FExitPtr=null,this.FEnterPtr=null,this.FWheelPtr=null,this.FLayerMouseEnterPtr=null,this.FLayerMouseLeavePtr=null,this.FScriptLoadedPtr=null,this.FChildOrder=0,this.FAllowTouch=!1},this.$final=function(){this.FLayer=void 0,this.FElement=void 0,this.FContainer=void 0,this.FElementEvent=void 0,this.FLastElementEvent=void 0,this.FFont=void 0,this.FParent=void 0,this.FPrevParent=void 0,this.FControls=void 0,this.FOnDragOver=void 0,this.FOnDragDrop=void 0,this.FOnStartDrag=void 0,this.FonEndDrag=void 0,this.FOnClick=void 0,this.FOnDblClick=void 0,this.FOnMouseDown=void 0,this.FOnMouseUp=void 0,this.FOnMouseMove=void 0,this.FOnKeyDown=void 0,this.FOnKeyUp=void 0,this.FOnKeyPress=void 0,this.FOnEnter=void 0,this.FOnExit=void 0,this.FAnchors=void 0,this.FOnMouseEnter=void 0,this.FOnMouseLeave=void 0,this.FControlStyle=void 0,this.FMargins=void 0,this.FOnMouseWheel=void 0,this.FOnTouchMove=void 0,this.FOnTouchStart=void 0,this.FOnTouchEnd=void 0,this.FOnTouchCancel=void 0,this.FOrigRect=void 0,this.FOrigParentRect=void 0,this.FRequiredScripts=void 0,this.FParentElement=void 0,this.FEventStopPropagation=void 0,this.FOnResize=void 0,pas.Classes.TComponent.$final.call(this)},this.GetControlsCount=function(){return rtl.length(this.FControls)},this.GetControls=function(t){return this.FControls[t]},this.SetVisible=function(t){this.FVisible!==t&&(this.VisibleChanging(),this.FVisible=t,this.UpdateElement(),this.DoRealign())},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t,this.ResetAnchoring(),this.DoBoundsChange(),this.GetIsLinked()&&!this.IsUpdating()&&null!=this.GetElementHandle()&&(t>=0?this.GetElementHandle().style.setProperty("width",pas.SysUtils.IntToStr(t)):this.GetElementHandle().style.removeProperty("width")))},this.SetHeight=function(e){var n=null;this.FHeight!==e&&(this.FAlign in rtl.createSet(t.TAlign.alLeft,t.TAlign.alRight,t.TAlign.alClient)&&null!=this.GetElementHandle()&&(n=this.GetElementHandle().getBoundingClientRect()).top+e>=window.innerHeight&&(e=Math.round(window.innerHeight-n.top)),this.FHeight=e,this.ResetAnchoring(),this.DoBoundsChange(),this.GetIsLinked()&&!this.IsUpdating()&&null!=this.GetElementHandle()&&(e>=0?this.GetElementHandle().style.setProperty("height",pas.SysUtils.IntToStr(e)):this.GetElementHandle().style.removeProperty("height")))},this.SetHint=function(t){this.FHint!==t&&(this.FHint=t,this.UpdateElement())},this.SetShowHint=function(t){this.FShowHint!==t&&(this.FShowHint=t,this.UpdateElement())},this.SetTabOrder=function(t){this.FTabOrder!==t&&(this.FTabOrder=t,this.UpdateElement())},this.SetTabStop=function(t){this.FTabStop!==t&&(this.FTabStop=t,this.UpdateElement())},this.SetAlign=function(t){this.FAlign!==t&&(this.FAlign=t,this.DoRealign())},this.SetAlignWithMargins=function(t){this.FAlignWithMargins!==t&&(this.FAlignWithMargins=t,this.DoRealign())},this.GetBoundsRect=function(){var t=pas.Types.TRect.$new();return t.Left=this.GetLeft(),t.Top=this.GetTop(),t.Right=this.GetLeft()+this.GetWidth(),t.Bottom=this.GetTop()+this.GetHeight(),t},this.SetID=function(t){if(this.FNew&&this.FID!==t&&null!=document.getElementById(t))return this.UnbindEvents(),null!=this.FContainer&&this.FContainer.parentElement.removeChild(this.FContainer),this.CreateWithID(t),void(this.FID=t);this.FID=t,null!=this.FContainer&&this.FContainer.setAttribute("id",t)},this.SetMargins=function(t){this.FMargins.Assign(t)},this.SetAnchors=function(t){rtl.neSet(this.FAnchors,t)&&(this.FAnchors=rtl.refSet(t),pas.Classes.TComponentStateItem.csLoading in this.FComponentState||this.UpdateAnchoring())},this.GetElementEvent=function(){return this.FElementEvent},this.SetHeightStyle=function(t){this.FHeightStyle!==t&&(this.FHeightStyle=t,this.UpdateElementSize())},this.SetWidthStyle=function(t){this.FWidthStyle!==t&&(this.FWidthStyle=t,this.UpdateElementSize())},this.SetHeightPercent=function(t){this.FHeightPercent!==t&&(this.FHeightPercent=t,this.UpdateElementSize())},this.SetWidthPercent=function(t){this.FWidthPercent!==t&&(this.FWidthPercent=t,this.UpdateElementSize())},this.GetIsLinked=function(){return!this.FNew},this.SetElementFont=function(t){this.FElementFont!==t&&(this.FElementFont=t,this.UpdateElement())},this.SetElementPosition=function(t){this.FElementPosition!==t&&(this.FElementPosition=t,null!=this.GetElementHandle()&&(this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize()))},this.SetChildOrderEx=function(t){this.FChildOrder=t},this.GetRole=function(){var t="";return t=this.FRole,null!=this.GetElementHandle()&&(t=this.GetElementHandle().getAttribute("role")),t},this.GetContainer=function(){return this.FContainer},this.GetChildContainer=function(){return this.FContainer},this.SetParentFont=function(t){t!==this.FParentFont&&t&&null!=this.FParent&&(this.FFont.Assign(this.FParent.FFont),this.UpdateElement()),this.FParentFont=t},this.SetParentColor=function(t){this.FParentColor!==t&&t&&null!=this.FParent&&this.SetColor(this.FParent.FColor),this.FParentColor=t},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,this.UpdateElement())},this.RecreateCanvas=function(){},this.VisibleChanging=function(){},this.ColorChanging=function(){},this.GetWidth=function(){var e=0,n=null;return e=this.FWidth,null==this.GetElementHandle()||pas.Classes.TComponentStateItem.csLoading in this.FComponentState||(-1===e&&(e=Math.round(this.GetElementHandle().offsetWidth)),this.FWidthStyle!==t.TSizeStyle.ssAbsolute&&(n=this.GetElementHandle().getBoundingClientRect(),e=Math.round(n.right-n.left))),e},this.GetHeight=function(){var e=0,n=null;return e=this.FHeight,null==this.GetElementHandle()||pas.Classes.TComponentStateItem.csLoading in this.FComponentState||(-1===e&&(e=Math.round(this.GetElementHandle().offsetHeight)),this.FHeightStyle!==t.TSizeStyle.ssAbsolute&&(n=this.GetElementHandle().getBoundingClientRect(),e=Math.round(n.bottom-n.top))),e},this.GetOuterWidth=function(){return this.FWidth-this.FBorderWidth},this.GetOuterHeight=function(){return this.FHeight-this.FBorderWidth},this.GetDesignWidth=function(){return this.FWidth},this.GetDesignHeight=function(){return this.FHeight},this.GetDesignLeft=function(){return this.FLeft},this.GetDesignTop=function(){return this.FTop},this.GetLeft=function(){var t=0;return-1!==(t=this.FLeft)||null==this.GetElementHandle()||pas.Classes.TComponentStateItem.csLoading in this.FComponentState||(t=Math.round(this.GetElementHandle().offsetLeft)),t},this.GetTop=function(){var t=0;return-1!==(t=this.FTop)||null==this.GetElementHandle()||pas.Classes.TComponentStateItem.csLoading in this.FComponentState||(t=Math.round(this.GetElementHandle().offsetTop)),t},this.CreateElement=function(){return null,null},this.ContainerElement=function(){return document.body},this.IsStructuralElement=function(){return!1,!1},this.IsEnabled=function(){return this.FEnabled},this.BindElement=function(){},this.CreateInitialize=function(){this.FRequiredScripts=pas.Classes.TStringList.$create("Create$1"),this.FOrigRect.$assign(pas.Types.Rect(-1,-1,-1,-1)),this.FClipChildren=!0},this.ClearControls=function(){this.FControls=rtl.arraySetLength(this.FControls,null,0)},this.SetControlCursor=function(t){this.FCursor=t,""===this.FElementClassName&&null!=this.GetElementHandle()&&this.SetElementPointer(this.GetElementHandle(),t)},this.GetMouseEventButton=function(e){var n=0;n=t.TMouseButton.mbLeft;var i=e.button;return 0===i?n=t.TMouseButton.mbLeft:1===i?n=t.TMouseButton.mbMiddle:2===i&&(n=t.TMouseButton.mbRight),n},this.GetMouseEventShiftState=function(e){var n={};return n={},e.shiftKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssShift))),e.ctrlKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssCtrl))),e.altKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssAlt))),1==(1&e.buttons)&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssLeft))),2==(2&e.buttons)&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssRight))),4==(4&e.buttons)&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssMIDdle))),n},this.GetKeyBoardEventShiftState=function(e){var n={};return n={},e.shiftKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssShift))),e.ctrlKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssCtrl))),e.altKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssAlt))),n},this.GetMouseWheelEventShiftState=function(e){var n={};return n={},e.shiftKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssShift))),e.ctrlKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssCtrl))),e.altKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssAlt))),n},this.GetTouchEventShiftState=function(e){var n={};return n={},e.shiftKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssShift))),e.ctrlKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssCtrl))),e.altKey&&(n=rtl.unionSet(n,rtl.createSet(t.TShiftState$a.ssAlt))),n},this.HandleDoClick=function(e){return this.FElementEvent=e,t.TElementEvent.eeClick in this.FEventStopPropagation&&this.StopPropagation(),this.Click(),!0,this.FElementEvent=null,!0},this.HandleDoWheel=function(t){var e,n,i=!1;return this.FElementEvent=t,this.StopPropagation(),n=rtl.refSet(this.GetMouseWheelEventShiftState(t)),i=!0,this.MouseWheel(rtl.refSet(n),pas.System.Trunc(-t.deltaY),{get:function(){return i},set:function(t){i=t}}),e=i,this.FElementEvent=null,e},this.HandleDoDblClick=function(e){return this.FElementEvent=e,t.TElementEvent.eeDblClick in this.FEventStopPropagation&&this.StopPropagation(),this.DblClick(),!0,this.FElementEvent=null,!0},this.HandleDoMouseDown=function(e){var n,i,s=0,r=0;return this.FElementEvent=e,t.TElementEvent.eeMouseDown in this.FEventStopPropagation&&this.StopPropagation(),this.CanFocus()||this.PreventDefault(),this.XYToClient(e.clientX,e.clientY,{get:function(){return s},set:function(t){s=t}},{get:function(){return r},set:function(t){r=t}}),n=rtl.refSet(this.GetMouseEventShiftState(e)),i=this.GetMouseEventButton(e),this.MouseDown(i,rtl.refSet(n),pas.System.Trunc(s),pas.System.Trunc(r)),!0,this.FElementEvent=null,!0},this.HandleDoMouseUp=function(e){var n,i,s=0,r=0;return this.FElementEvent=e,t.TElementEvent.eeMouseUp in this.FEventStopPropagation&&this.StopPropagation(),this.XYToClient(e.clientX,e.clientY,{get:function(){return s},set:function(t){s=t}},{get:function(){return r},set:function(t){r=t}}),n=rtl.refSet(this.GetMouseEventShiftState(e)),i=this.GetMouseEventButton(e),this.MouseUp(i,rtl.refSet(n),pas.System.Trunc(s),pas.System.Trunc(r)),!0,this.FElementEvent=null,!0},this.HandleDoMouseMove=function(e){var n,i=0,s=0;return this.FElementEvent=e,t.TElementEvent.eeMouseMove in this.FEventStopPropagation&&this.StopPropagation(),this.XYToClient(e.clientX,e.clientY,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),n=rtl.refSet(this.GetMouseEventShiftState(e)),this.MouseMove(rtl.refSet(n),pas.System.Trunc(i),pas.System.Trunc(s)),!0,this.FElementEvent=null,!0},this.HandleDoMouseLeave=function(t){var e=!1;return this.Captured()?e:(t.stopPropagation(),this.DoMouseLeave(),e=!0)},this.LayerHandleDoMouseEnter=function(t){return 0===t.buttons&&this.Captured()&&!this.FMouseInsideLayer&&(this.ReleaseCapture(),this.HandleDoMouseUp(t),this.HandleDoMouseLeave(t)),this.FMouseInsideLayer=!0,!0,!0},this.LayerHandleDoMouseLeave=function(t){return this.FMouseInsideLayer=!1,!0,!0},this.HandleDoMouseEnter=function(t){var e=!1;return this.Captured()?e:(t.stopPropagation(),this.DoMouseEnter(),e=!0)},this.HandleDoKeyDown=function(e){var n=0,i={};return this.FElementEvent=e,t.TElementEvent.eeKeyDown in this.FEventStopPropagation&&this.StopPropagation(),void 0==e.key||(n=this.GetKeyCode(e.key,!0),i=rtl.refSet(this.GetKeyBoardEventShiftState(e)),this.KeyDown({get:function(){return n},set:function(t){n=t}},rtl.refSet(i))),!0,0===n&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoKeyUp=function(e){var n=0,i={},s="";return this.FElementEvent=e,t.TElementEvent.eeKeyUp in this.FEventStopPropagation&&this.StopPropagation(),void 0==e.key||(n=this.GetKeyCode(e.key,!0),i=rtl.refSet(this.GetKeyBoardEventShiftState(e)),27===n&&(s="",this.KeyPress({get:function(){return s},set:function(t){s=t}})),this.KeyUp({get:function(){return n},set:function(t){n=t}},rtl.refSet(i))),!0,0===n&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoKeyPress=function(e){var n="";return this.FElementEvent=e,t.TElementEvent.eeKeyPress in this.FEventStopPropagation&&this.StopPropagation(),this.IsKeyCharacter(e.key)&&(n=String.fromCharCode(this.GetKeyCode(e.key,!1)),this.KeyPress({get:function(){return n},set:function(t){n=t}})),!0,"\0"===n&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoInput=function(n){var i=!1,s="",r="";return e.IsAndroid()&&(t.TElementEvent.eeKeyPress in this.FEventStopPropagation&&this.StopPropagation(),s="\0",null!=n.data&&""!==n.data.toString()&&(r=n.data.toString(),s=r.charAt(r.length-1),this.KeyPress({get:function(){return s},set:function(t){s=t}})),i=!0,"\0"===s&&this.PreventDefault(),this.FElementEvent=null),i},this.HandleDoExit=function(t){return this.DoExit(),!0,!0},this.HandleDoEnter=function(t){return this.FElementEvent=t,this.StopPropagation(),this.DoEnter(),!0,this.FElementEvent=null,this.FGotFocus=!0,!0},this.HandleDoTouchStart=function(e){var n=0,i=0,s=null,r={};return this.FElementEvent=e,this.FLastElementEvent=e,this.StopPropagation(),this.FAllowTouch||this.PreventDefault(),e.touches.length>0&&(s=e.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return n},set:function(t){n=t}},{get:function(){return i},set:function(t){i=t}}),r=rtl.refSet(this.GetTouchEventShiftState(e)),this.FLinkTouchEvents&&this.MouseDown(t.TMouseButton.mbLeft,rtl.refSet(r),pas.System.Trunc(n),pas.System.Trunc(i)),this.TouchStart(pas.System.Trunc(n),pas.System.Trunc(i))),!0,this.FElementEvent=null,!0},this.HandleDoTouchMove=function(t){var e=0,n=0,i=null,s={};return this.FElementEvent=t,this.FLastElementEvent=t,this.StopPropagation(),this.FAllowTouch||this.PreventDefault(),this.Captured()&&this.PreventDefault(),t.touches.length>0&&(i=t.touches.item(0),this.XYToClient(i.clientX,i.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return n},set:function(t){n=t}}),s=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&this.MouseMove(rtl.refSet(s),pas.System.Trunc(e),pas.System.Trunc(n)),this.TouchMove(pas.System.Trunc(e),pas.System.Trunc(n))),this.FElementEvent=null,!0,!0},this.HandleDoTouchEnd=function(e){var n=0,i=0,s=null,r={};return this.FElementEvent=e,this.FAllowTouch||this.PreventDefault(),this.ReleaseCapture(),this.StopPropagation(),null!=this.FLastElementEvent&&this.FLastElementEvent.touches.length>0&&(s=this.FLastElementEvent.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return n},set:function(t){n=t}},{get:function(){return i},set:function(t){i=t}}),r=rtl.refSet(this.GetTouchEventShiftState(e)),this.FLinkTouchEvents&&this.MouseUp(t.TMouseButton.mbLeft,rtl.refSet(r),pas.System.Trunc(n),pas.System.Trunc(i)),this.TouchEnd(pas.System.Trunc(n),pas.System.Trunc(i))),this.FElementEvent=null,!0,!0},this.HandleDoTouchCancel=function(e){var n=0,i=0,s=null,r={};return this.FElementEvent=e,this.ReleaseCapture(),this.StopPropagation(),e.touches.length>0&&(s=e.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return n},set:function(t){n=t}},{get:function(){return i},set:function(t){i=t}}),r=rtl.refSet(this.GetTouchEventShiftState(e)),this.FLinkTouchEvents&&this.MouseUp(t.TMouseButton.mbLeft,rtl.refSet(r),pas.System.Trunc(n),pas.System.Trunc(i)),this.TouchCancel(pas.System.Trunc(n),pas.System.Trunc(i))),this.FElementEvent=null,!0,!0},this.HandleFontChanged=function(t){0===this.FUpdateCount&&(this.SetParentFont(!1),this.ParentFontChanged()),this.FontChanged()},this.ParentFontChanged=function(){for(var t=0,e=0,n=this.GetControlsCount()-1;e<=n;e++)t=e,this.GetControls(t).FParentFont&&(this.GetControls(t).FFont.Assign(this.FFont),this.GetControls(t).FontChanged(),this.GetControls(t).ParentFontChanged())},this.DoExit=function(){null!=this.FOnExit&&this.FOnExit(this)},this.DoEnter=function(){null!=this.FOnEnter&&this.FOnEnter(this)},this.Click=function(){null!=this.FOnClick&&this.IsEnabled()&&this.FOnClick(this)},this.UpdateElement=function(){this.FBlockUpdateElement||this.FUpdateCount>0||null==this.GetElementHandle()||this.GetElementHandle()===this.ContainerElement()||this.IsUpdating()||(this.UpdateElementData(),this.GetIsLinked()||this.UpdateElementVisual())},this.UpdateElementSize=function(){var e=null,n=0,i=0,s=0,r=null,o=null;if(!(this.FBlockUpdateElement||this.FUpdateCount>0||this.GetIsLinked()||null==this.GetElementHandle()||this.GetElementHandle()===this.ContainerElement())){for(e=this.GetElementHandle(),n=0,i=0,r=this.FParent;null!=r&&r.FElementPosition!==t.TElementPosition.epAbsolute;){if(r.GetIsLinked()&&null!=r.GetElementHandle()&&"absolute"!==r.GetElementHandle().getAttribute("position")){o=r.GetElementHandle().getBoundingClientRect(),n=Math.round(o.left),i=Math.round(o.top);break}r=r.FParent}null!=this.FParent&&this.FParent.IsStructuralElement()&&(n=this.FParent.GetLeft(),i=this.FParent.GetTop()),this.FElementPosition===t.TElementPosition.epAbsolute?(-1!==this.FTop?e.style.setProperty("top",pas.SysUtils.IntToStr(this.FTop+i)+"px"):e.style.setProperty("top",""),-1!==this.FLeft?e.style.setProperty("left",pas.SysUtils.IntToStr(this.FLeft+n)+"px"):e.style.setProperty("left","")):(e.style.removeProperty("top"),e.style.removeProperty("left")),this.FWidthStyle===t.TSizeStyle.ssAbsolute&&(s=this.GetOuterWidth(),-1!==this.FWidth?e.style.setProperty("width",pas.SysUtils.IntToStr(s)+"px"):e.style.removeProperty("width")),this.FWidthStyle===t.TSizeStyle.ssAuto&&e.style.removeProperty("width"),this.FHeightStyle===t.TSizeStyle.ssAbsolute&&(-1!==this.FHeight?e.style.setProperty("height",pas.SysUtils.IntToStr(this.GetOuterHeight())+"px"):e.style.removeProperty("height")),this.FHeightStyle===t.TSizeStyle.ssAuto&&e.style.removeProperty("height"),this.FWidthStyle===t.TSizeStyle.ssPercent&&(-1!==this.FWidth?e.style.setProperty("width",pas.SysUtils.IntToStr(this.FWidthPercent)+"%"):e.style.removeProperty("width")),this.FHeightStyle===t.TSizeStyle.ssPercent&&(-1!==this.FHeight?e.style.setProperty("height",pas.SysUtils.IntToStr(this.FHeightPercent)+"%"):e.style.removeProperty("height")),this.FElementPosition===t.TElementPosition.epAbsolute?e.style.setProperty("position","absolute"):this.FElementPosition===t.TElementPosition.epRelative?e.style.setProperty("position","relative"):e.style.removeProperty("position")}},this.UpdateElementVisual=function(){var e,n=null;if(null!=(n=this.GetElementHandle())&&!this.IsUpdating()){this.FParentFont&&null!=this.FParent&&this.FFont.Assign(this.FParent.FFont),""===this.FElementClassName&&(this.FClipChildren?n.style.setProperty("overflow","hidden"):n.style.setProperty("overflow","")),""===this.FElementClassName&&this.SetElementPointer(n,this.FCursor),this.Captured()&&this.FLayer.style.setProperty("cursor",n.style.getPropertyValue("cursor")),""!==this.FElementClassName||this.CanShowFocus()?n.style.setProperty("outline",""):n.style.setProperty("outline","none"),this.UpdateElementSize();var i=this.FTextDirection;i===t.TTextDirection.tdDefault?n.style.removeProperty("direction"):i===t.TTextDirection.tdRightToLeft?n.style.setProperty("direction","rtl"):i===t.TTextDirection.tdLeftToRight?n.style.setProperty("direction","ltr"):i===t.TTextDirection.tdInherit&&n.style.setProperty("direction","inherit"),""===this.FElementClassName&&(n.style.setProperty("webkit-user-select","none"),n.style.setProperty("moz-user-select","none"),n.style.setProperty("khtml-user-select","none"),n.style.setProperty("ms-user-select","none"),n.style.setProperty("user-select","none"),n.style.setProperty("-webkit-tap-highlight-color","transparent")),t.SetHTMLElementColor(n,this.FColor,!(""===this.FElementClassName&&!this.GetIsLinked())),e=!(""===this.FElementClassName&&this.FElementFont===t.TElementFont.efProperty&&!this.GetIsLinked()),t.SetHTMLElementFont(n,this.FFont,e),e?n.style.removeProperty("color"):this.IsEnabled()&&n.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FFont.FColor))}},this.UpdateElementData=function(){var t=null;if(null!=(t=this.GetElementHandle())){if(pas.Classes.TComponentStateItem.csDesigning in this.FComponentState||(this.FVisible?t.style.setProperty("display",""):t.style.setProperty("display","none")),this.EnableTab(),this.IsEnabled()?this.FContainer.removeAttribute("disabled"):this.FContainer.setAttribute("disabled",""),this.GetIsLinked()&&""===this.FHint)return;""!==this.GetRole()&&this.FContainer.setAttribute("role",this.FRole),this.FShowHint&&""!==this.FHint?this.FContainer.setAttribute("title",this.FHint):this.FContainer.removeAttribute("title"),this.IsEnabled()||t.style.removeProperty("color")}},this.UpdateParent=function(){this.InternalUpdateParent(),pas.Classes.TComponentStateItem.csLoading in this.FComponentState&&null!=this.FParent&&!(pas.Classes.TComponentStateItem.csLoading in this.FParent.FComponentState)&&this.Loaded(),this.UpdateChildren(this.FPrevParent),this.UpdateChildren(this.FParent)},this.UpdateControlSize=function(t,e){this.FWidth=t,this.FHeight=e},this.InternalUpdateParent=function(){var t=null;t=this.FPrevParent,this.FNew&&(this.CreateControl(),null!=this.GetContainer()&&(null!=this.FParent&&null==this.FParent.GetContainer()&&this.FParent.CreateControl(),this.FParent!==t&&null!=t&&null!=t.GetContainer()&&t.GetChildContainer().removeChild(this.GetContainer()),null!=this.FParent&&null!=this.FParent.GetContainer()&&this.FParent.GetChildContainer().appendChild(this.GetContainer())))},this.UpdateChildren=function(e){var n=0,i=null;if(null!=e){e.DoRealign(),t.TCustomControl.isPrototypeOf(e)&&(rtl.as(e,t.TCustomControl).RecreateCanvas(),rtl.as(e,t.TCustomControl).Invalidate());for(var s=0,r=e.GetControlsCount()-1;s<=r;s++)n=s,i=e.GetControls(n),this.UpdateChildren(i)}},this.DisableTab=function(){var t=0;this.FTabStop&&this.CanFocus()||null!=this.GetContainer()&&this.GetContainer().setAttribute("tabindex","-1");for(var e=0,n=this.GetControlsCount()-1;e<=n;e++)t=e,this.GetControls(t).DisableTab()},this.EnableTab=function(){var t=0;null!=this.FContainer&&(this.FTabStop&&this.CanFocus()?this.FContainer.setAttribute("tabindex",pas.SysUtils.IntToStr(this.FTabOrder+1)):this.FContainer.setAttribute("tabindex","-1"));for(var e=0,n=this.GetControlsCount()-1;e<=n;e++)t=e,this.GetControls(t).EnableTab()},this.SetElementClassName=function(t){this.FElementClassName!==t&&(this.FElementClassName=t,null!=this.FContainer&&this.FContainer.setAttribute("class",t),this.UpdateElement())},this.SetColor=function(t){this.FColor=t,this.UpdateElement(),this.ColorChanging()},this.SetFont=function(t){this.FFont.SetName(t.FName),this.FFont.SetSize(t.FSize),this.FFont.SetStyle(rtl.refSet(t.FStyle)),this.FFont.SetColor(t.FColor)},this.SetParent=function(t){this.FParent!==t&&(null!=this.FParent&&this.FParent.UnRegisterParent(this),this.FPrevParent=this.FParent,this.FParent=t,this.FGotFocus=!1,this.UpdateParent(),this.UpdateElement(),this.InitScript(),null!=this.FParent&&this.FParent.RegisterParent(this),this.Realign())},this.RegisterParent=function(t){this.FControls=rtl.arraySetLength(this.FControls,null,rtl.length(this.FControls)+1),this.FControls[rtl.length(this.FControls)-1]=t},this.UnRegisterParent=function(t){var e=0,n=!1;n=!1;for(var i=0,s=rtl.length(this.FControls)-1;i<=s;i++)e=i,this.FControls[e]===t&&(n=!0),n&&e<rtl.length(this.FControls)-1&&(this.FControls[e]=this.FControls[e+1]);n&&(this.FControls=rtl.arraySetLength(this.FControls,null,rtl.length(this.FControls)-1))},this.SetLeft=function(e){this.FLeft!==e&&(this.FLeft=e,this.ResetAnchoring(),this.FUpdateTopLeft||(this.FOrigLeft=e),this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize(),pas.Classes.TComponentStateItem.csLoading in this.FComponentState||this.FAlign===t.TAlign.alNone||null==this.FParent||this.DoRealign())},this.SetTop=function(e){this.FTop!==e&&(this.FTop=e,this.ResetAnchoring(),this.FUpdateTopLeft||(this.FOrigTop=e),this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize(),pas.Classes.TComponentStateItem.csLoading in this.FComponentState||this.FAlign===t.TAlign.alNone||null==this.FParent||this.DoRealign())},this.MouseUp=function(t,e,n,i){null!=this.FOnMouseUp&&this.FOnMouseUp(this,t,rtl.refSet(e),n,i)},this.MouseDown=function(t,e,n,i){null!=this.FOnMouseDown&&this.FOnMouseDown(this,t,rtl.refSet(e),n,i)},this.MouseMove=function(t,e,n){null!=this.FOnMouseMove&&this.FOnMouseMove(this,rtl.refSet(t),e,n)},this.TouchStart=function(t,e){null!=this.FOnTouchStart&&this.FOnTouchStart(this,t,e)},this.TouchMove=function(t,e){null!=this.FOnTouchMove&&this.FOnTouchMove(this,t,e)},this.TouchEnd=function(t,e){null!=this.FOnTouchEnd&&this.FOnTouchEnd(this,t,e)},this.TouchCancel=function(t,e){null!=this.FOnTouchCancel&&this.FOnTouchCancel(this,t,e)},this.DoMouseEnter=function(){null!=this.FOnMouseEnter&&this.FOnMouseEnter(this)},this.DoMouseLeave=function(){null!=this.FOnMouseLeave&&this.FOnMouseLeave(this)},this.MouseWheel=function(t,e,n){null!=this.FOnMouseWheel&&this.FOnMouseWheel(this,rtl.refSet(t),e,pas.Types.TPoint.$clone(pas.Types.Point(0,0)),n)},this.DblClick=function(){null!=this.FOnDblClick&&this.FOnDblClick(this)},this.KeyDown=function(t,e){null!=this.FOnKeyDown&&this.FOnKeyDown(this,t,rtl.refSet(e))},this.KeyPress=function(t){null!=this.FOnKeyPress&&this.FOnKeyPress(this,t)},this.KeyUp=function(t,e){null!=this.FOnKeyUp&&this.FOnKeyUp(this,t,rtl.refSet(e))},this.DoMarginsChanged=function(t){this.DoRealign()},this.DoRealign=function(){null==this.FParent||this.FParent.IsUpdating()||this.FParent.AlignControl(this.FParent)},this.DoBoundsChange=function(){var t,e=!1;this.UpdateElementSize(),this.RecreateCanvas(),this.FIsResizing||(this.FIsResizing=!0,this.InternalResize(),this.DoRealign(),e=!1,null!=(t=pas["WEBLib.Forms"].GetParentForm(this))&&(e=(e=t.FIsResizing$1)||t.FUpdateCount>0),(e=(e=e||this.FUpdateCount>0)||this.FIsAligning)||this.UpdateChildAnchoring(),this.FIsResizing=!1)},this.GetID=function(){return this.FID},this.GetElementHandle=function(){var t=null;return t=null,null!=this.FContainer&&this.FControlCreated&&(t=this.FContainer),t},this.GetElementBindHandle=function(){return this.GetElementHandle()},this.GetKeyCode=function(t,e){var n=0;n=-1;var i=t;return"Up"===i?n=38:"Down"===i?n=40:"Left"===i?n=37:"Right"===i?n=39:i===pas.Web.TJSKeyNames.BackSpace?n=8:i===pas.Web.TJSKeyNames.Tab?n=9:i===pas.Web.TJSKeyNames.Enter?n=13:i===pas.Web.TJSKeyNames.Shift?n=16:i===pas.Web.TJSKeyNames.Control?n=17:i===pas.Web.TJSKeyNames.Alt?n=18:i===pas.Web.TJSKeyNames.Pause?n=19:i===pas.Web.TJSKeyNames.CapsLock?n=20:i===pas.Web.TJSKeyNames.Escape?n=27:i===pas.Web.TJSKeyNames.PageUp?n=33:i===pas.Web.TJSKeyNames.PageDown?n=34:i===pas.Web.TJSKeyNames._End?n=35:i===pas.Web.TJSKeyNames.Home?n=36:i===pas.Web.TJSKeyNames.ArrowLeft?n=37:i===pas.Web.TJSKeyNames.ArrowUp?n=38:i===pas.Web.TJSKeyNames.ArrowRight?n=39:i===pas.Web.TJSKeyNames.ArrowDown?n=40:i===pas.Web.TJSKeyNames.Insert?n=45:i===pas.Web.TJSKeyNames.Delete?n=46:i===pas.Web.TJSKeyNames.F1?n=112:i===pas.Web.TJSKeyNames.F2?n=113:i===pas.Web.TJSKeyNames.F3?n=114:i===pas.Web.TJSKeyNames.F4?n=115:i===pas.Web.TJSKeyNames.F5?n=116:i===pas.Web.TJSKeyNames.F6?n=117:i===pas.Web.TJSKeyNames.F7?n=118:i===pas.Web.TJSKeyNames.F8?n=119:i===pas.Web.TJSKeyNames.F9?n=120:i===pas.Web.TJSKeyNames.F10?n=121:i===pas.Web.TJSKeyNames.F11?n=122:i===pas.Web.TJSKeyNames.F12?n=123:i===pas.Web.TJSKeyNames.F13?n=124:i===pas.Web.TJSKeyNames.F14?n=125:i===pas.Web.TJSKeyNames.F15?n=126:i===pas.Web.TJSKeyNames.F16?n=127:i===pas.Web.TJSKeyNames.F17?n=128:i===pas.Web.TJSKeyNames.F18?n=129:i===pas.Web.TJSKeyNames.F19?n=130:i===pas.Web.TJSKeyNames.F20?n=131:pas.System.Assigned(t)&&t.length>0&&(n=t.charCodeAt(0),e&&n>=97&&n<=122&&(n&=223)),n},this.IsKeyCharacter=function(t){var e=t;return"Up"!==e&&"Down"!==e&&"Left"!==e&&"Right"!==e&&e!==pas.Web.TJSKeyNames.Shift&&e!==pas.Web.TJSKeyNames.Control&&e!==pas.Web.TJSKeyNames.Alt&&e!==pas.Web.TJSKeyNames.Pause&&e!==pas.Web.TJSKeyNames.CapsLock&&e!==pas.Web.TJSKeyNames.PageUp&&e!==pas.Web.TJSKeyNames.PageDown&&e!==pas.Web.TJSKeyNames._End&&e!==pas.Web.TJSKeyNames.Home&&e!==pas.Web.TJSKeyNames.ArrowLeft&&e!==pas.Web.TJSKeyNames.ArrowUp&&e!==pas.Web.TJSKeyNames.ArrowRight&&e!==pas.Web.TJSKeyNames.ArrowDown&&e!==pas.Web.TJSKeyNames.Insert&&e!==pas.Web.TJSKeyNames.Delete&&e!==pas.Web.TJSKeyNames.F1&&e!==pas.Web.TJSKeyNames.F2&&e!==pas.Web.TJSKeyNames.F3&&e!==pas.Web.TJSKeyNames.F4&&e!==pas.Web.TJSKeyNames.F5&&e!==pas.Web.TJSKeyNames.F6&&e!==pas.Web.TJSKeyNames.F7&&e!==pas.Web.TJSKeyNames.F8&&e!==pas.Web.TJSKeyNames.F9&&e!==pas.Web.TJSKeyNames.F10&&e!==pas.Web.TJSKeyNames.F11&&e!==pas.Web.TJSKeyNames.F12&&e!==pas.Web.TJSKeyNames.F13&&e!==pas.Web.TJSKeyNames.F14&&e!==pas.Web.TJSKeyNames.F15&&e!==pas.Web.TJSKeyNames.F16&&e!==pas.Web.TJSKeyNames.F17&&e!==pas.Web.TJSKeyNames.F18&&e!==pas.Web.TJSKeyNames.F19&&e!==pas.Web.TJSKeyNames.F20},this.GetClientRect=function(){var t=pas.Types.TRect.$new();return t.$assign(pas.Types.Rect(0,0,this.GetWidth(),this.GetHeight())),t},this.CreateControl=function(){null==this.FElement&&(this.FElement=this.CreateElement(),null!=this.FElement&&(this.FControlCreated=!0,this.FContainer=this.FElement,"body"!==this.GetID()&&this.GetContainer().setAttribute("id",this.GetID()),this.GetContainer().setAttribute("zindex","0"),""!==this.FElementClassName&&this.GetContainer().setAttribute("class",this.FElementClassName),this.BindEvents(),this.UpdateElement()))},this.ClearMethodPointers=function(){this.FWheelPtr=null,this.FClickPtr=null,this.FDblClickPtr=null,this.FMouseDownPtr=null,this.FMouseUpPtr=null,this.FMouseMovePtr=null,this.FMouseLeavePtr=null,this.FMouseEnterPtr=null,this.FKeyDownPtr=null,this.FKeyUpPtr=null,this.FKeyPressPtr=null,this.FInputPtr=null,this.FEnterPtr=null,this.FExitPtr=null,this.FTouchStartPtr=null,this.FTouchEndPtr=null,this.FTouchMovePtr=null,this.FTouchCancelPtr=null,this.FLayerMouseLeavePtr=null,this.FLayerMouseEnterPtr=null,this.FScriptLoadedPtr=null},this.GetMethodPointers=function(){null===this.FWheelPtr&&(this.FWheelPtr=rtl.createCallback(this,"HandleDoWheel"),this.FClickPtr=rtl.createCallback(this,"HandleDoClick"),this.FDblClickPtr=rtl.createCallback(this,"HandleDoDblClick"),this.FMouseDownPtr=rtl.createCallback(this,"HandleDoMouseDown"),this.FMouseUpPtr=rtl.createCallback(this,"HandleDoMouseUp"),this.FMouseMovePtr=rtl.createCallback(this,"HandleDoMouseMove"),this.FMouseLeavePtr=rtl.createCallback(this,"HandleDoMouseLeave"),this.FMouseEnterPtr=rtl.createCallback(this,"HandleDoMouseEnter"),this.FKeyDownPtr=rtl.createCallback(this,"HandleDoKeyDown"),this.FKeyUpPtr=rtl.createCallback(this,"HandleDoKeyUp"),this.FKeyPressPtr=rtl.createCallback(this,"HandleDoKeyPress"),this.FInputPtr=rtl.createCallback(this,"HandleDoInput"),this.FEnterPtr=rtl.createCallback(this,"HandleDoEnter"),this.FExitPtr=rtl.createCallback(this,"HandleDoExit"),this.FTouchStartPtr=rtl.createCallback(this,"HandleDoTouchStart"),this.FTouchEndPtr=rtl.createCallback(this,"HandleDoTouchEnd"),this.FTouchMovePtr=rtl.createCallback(this,"HandleDoTouchMove"),this.FTouchCancelPtr=rtl.createCallback(this,"HandleDoTouchCancel"),this.FLayerMouseLeavePtr=rtl.createCallback(this,"LayerHandleDoMouseLeave"),this.FLayerMouseEnterPtr=rtl.createCallback(this,"LayerHandleDoMouseEnter"),this.FScriptLoadedPtr=rtl.createCallback(this,"RequiredScriptLoaded"))},this.BindEvents=function(){var t=null;null!=this.GetElementBindHandle()&&(this.GetMethodPointers(),(t=this.GetElementBindHandle()).addEventListener("wheel",this.FWheelPtr),t.addEventListener("click",this.FClickPtr),t.addEventListener("dblclick",this.FDblClickPtr),t.addEventListener("mousedown",this.FMouseDownPtr),t.addEventListener("mouseup",this.FMouseUpPtr),t.addEventListener("mousemove",this.FMouseMovePtr),t.addEventListener("mouseleave",this.FMouseLeavePtr),t.addEventListener("mouseenter",this.FMouseEnterPtr),t.addEventListener("keydown",this.FKeyDownPtr),t.addEventListener("keyup",this.FKeyUpPtr),t.addEventListener("keypress",this.FKeyPressPtr),t.addEventListener("input",this.FInputPtr),t.addEventListener("focus",this.FEnterPtr),t.addEventListener("blur",this.FExitPtr),t.addEventListener("touchstart",this.FTouchStartPtr),t.addEventListener("touchmove",this.FTouchMovePtr),t.addEventListener("touchend",this.FTouchEndPtr),t.addEventListener("touchcancel",this.FTouchCancelPtr))},this.UnbindEvents=function(){var t=null;null!=this.GetElementBindHandle()&&((t=this.GetElementBindHandle()).removeEventListener("wheel",this.FWheelPtr),t.removeEventListener("click",this.FClickPtr),t.removeEventListener("dblclick",this.FDblClickPtr),t.removeEventListener("mousedown",this.FMouseDownPtr),t.removeEventListener("mouseup",this.FMouseUpPtr),t.removeEventListener("mousemove",this.FMouseMovePtr),t.removeEventListener("mouseleave",this.FMouseLeavePtr),t.removeEventListener("mouseenter",this.FMouseEnterPtr),t.removeEventListener("keydown",this.FKeyDownPtr),t.removeEventListener("keyup",this.FKeyUpPtr),t.removeEventListener("keypress",this.FKeyPressPtr),t.removeEventListener("focus",this.FEnterPtr),t.removeEventListener("blur",this.FExitPtr),t.removeEventListener("touchstart",this.FTouchStartPtr),t.removeEventListener("touchmove",this.FTouchMovePtr),t.removeEventListener("touchend",this.FTouchEndPtr),t.removeEventListener("touchcancel",this.FTouchEndPtr))},this.AlignControls=function(e,n){var i=this,s=0;function r(e,s){var r=0,o=0,a=0,l=0;e.AnchoringInitialized()||i.InitAnchoring(),e.FUpdateTopLeft=!0,e.FAlignWithMargins?(r=e.FMargins.FLeft,o=e.FMargins.FTop,l=e.FMargins.FBottom,a=e.FMargins.FRight):(r=0,o=0,l=0,a=0);var h=s;h===t.TAlign.alTop?(e.SetBoundsInt(n.Left+r,n.Top+o,n.Right-n.Left-r-a,e.GetHeight()),n.Top=n.Top+e.GetHeight()+o+l):h===t.TAlign.alBottom?(e.SetBoundsInt(n.Left+r,n.Bottom-e.GetHeight()-l-1,n.Right-n.Left-r-a-1,e.GetHeight()),n.Bottom=n.Bottom-e.GetHeight()-o-l):h===t.TAlign.alLeft?(e.SetBoundsInt(n.Left+r,n.Top+o,e.GetWidth(),n.Bottom-n.Top-o-l),n.Left=n.Left+e.GetWidth()+r+a):h===t.TAlign.alRight?(e.SetBoundsInt(n.Right-e.GetWidth()-a,n.Top+o,e.GetWidth(),n.Bottom-n.Top-l-o),n.Right=n.Right-e.GetWidth()-a-r):h===t.TAlign.alClient&&(e.SetBoundsInt(n.Left+r,n.Top+o,n.Right-n.Left-r-a,n.Bottom-n.Top-l-o),n.Left=0,n.Top=0,n.Right=0,n.Bottom=0),e.FUpdateTopLeft=!1}function o(e){var n=0,s=0,o=0,a=null;a=pas.Classes.TList.$create("Create$1");for(var l=0,h=i.GetControlsCount()-1;l<=h;l++)if(n=l,i.GetControls(n).FAlign===e&&i.GetControls(n).FVisible){o=a.GetCount();for(var u=a.GetCount()-1;u>=0;u--){s=u;var c=e;c===t.TAlign.alTop?i.GetControls(n).FOrigTop<rtl.getObject(a.Get(s)).FOrigTop&&(o=s):c===t.TAlign.alLeft?i.GetControls(n).FOrigLeft<rtl.getObject(a.Get(s)).FOrigLeft&&(o=s):c===t.TAlign.alRight?i.GetControls(n).FOrigLeft+i.GetControls(n).GetWidth()>rtl.getObject(a.Get(s)).FOrigLeft+rtl.getObject(a.Get(s)).GetWidth()&&(o=s):c===t.TAlign.alBottom&&i.GetControls(n).FOrigTop+i.GetControls(n).GetHeight()>rtl.getObject(a.Get(s)).FOrigTop+rtl.getObject(a.Get(s)).GetHeight()&&(o=s)}a.Insert(o,i.GetControls(n))}for(var d=0,p=a.GetCount()-1;d<=p;d++)n=d,r(rtl.getObject(a.Get(n)),e);a=rtl.freeLoc(a)}o(t.TAlign.alTop),o(t.TAlign.alBottom),o(t.TAlign.alLeft),o(t.TAlign.alRight),o(t.TAlign.alClient),o(t.TAlign.alCustom);for(var a=0,l=i.GetControlsCount()-1;a<=l;a++)s=a,i.GetControls(s).AlignControl(i.GetControls(s))},this.AlignControl=function(t){var e=pas.Types.TRect.$new(),n=null,i="",s="",r="",o=null,a=null,l=null,h=0,u=0;this.FIsAligning||this.IsUpdating()||null!=(l=pas["WEBLib.Forms"].GetParentForm(this))&&l.IsUpdating()||(h=0,null!=l&&""!==l.FFormContainer&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(t)&&null!=(a=document.getElementById(l.FFormContainer))&&(n=a.getBoundingClientRect(),h=Math.round(n.top)),this.FIsAligning=!0,null!=t&&(null!=(o=t.GetElementHandle())&&(i=o.style.getPropertyValue("overflow"),s=o.style.getPropertyValue("overflow-x"),r=o.style.getPropertyValue("overflow-y"),this.FClipChildren?o.style.setProperty("overflow","hidden"):o.style.setProperty("overflow","")),e.$assign(this.GetClientRect()),e.Bottom+h>window.innerHeight&&null!=this.FParent&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(this.FParent)&&(e.Bottom=window.innerHeight-h),null!=o&&"BODY"===o.tagName&&(u=0,document.body.scrollHeight>document.body.clientHeight&&(u=16),""!==l.FFormContainer?(e.Bottom=Math.round(Math.min(e.Bottom-2,window.innerHeight-2)),e.Right=Math.round(Math.min(e.Right-2-u,window.innerWidth-2))):(e.Bottom=l.GetHeight(),e.Right=l.GetWidth())),pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(t)&&(e.Bottom>window.innerHeight&&(e.Bottom=window.innerHeight),e.Right>window.innerWidth&&(e.Right=window.innerWidth)),t.IsStructuralElement()&&e.$assign(this.FParent.GetClientRect()),this.AlignControls(t,e),null!=o&&(o.style.setProperty("overflow",i),o.style.setProperty("overflow-x",s),o.style.setProperty("overflow-y",r)),this.FIsAligning=!1))},this.InitAnchoring=function(){var t=0;if(!this.AnchoringInitialized()){pas["WEBLib.Forms"].TForm.isPrototypeOf(this)?this.FOrigRect.$assign(pas.Types.Rect(0,0,this.GetDesignWidth(),this.GetDesignHeight())):this.FOrigRect.$assign(pas.Types.Rect(this.GetDesignLeft(),this.GetDesignTop(),this.GetDesignLeft()+this.GetDesignWidth(),this.GetDesignTop()+this.GetDesignHeight())),null!=this.FParent&&(pas["WEBLib.Forms"].TForm.isPrototypeOf(this.FParent)?this.FOrigParentRect.$assign(pas.Types.Rect(0,0,this.FParent.GetDesignWidth(),this.FParent.GetDesignHeight())):(this.FParent.AnchoringInitialized()||this.FParent.InitAnchoring(),this.FOrigParentRect.$assign(pas.Types.Rect(this.FParent.GetDesignLeft(),this.FParent.GetDesignTop(),this.FParent.GetDesignLeft()+this.FParent.GetDesignWidth(),this.FParent.GetDesignTop()+this.FParent.GetDesignHeight()))));for(var e=0,n=this.GetControlsCount()-1;e<=n;e++)t=e,this.GetControls(t).InitAnchoring()}},this.AnchoringInitialized=function(){return-1!==this.FOrigRect.Left||-1!==this.FOrigRect.Top},this.InitScript=function(){},this.Realign=function(){this.AlignControl(this)},this.Loaded=function(){var e=0;pas.Classes.TComponent.Loaded.call(this);for(var n=0,i=this.GetControlsCount()-1;n<=i;n++)e=n,this.GetControls(e).FElementPosition in rtl.createSet(t.TElementPosition.epRelative,t.TElementPosition.epIgnore)&&!this.GetControls(e).GetIsLinked()&&this.GetControls(e).FChildOrder>=0&&this.GetControls(e).FChildOrder<this.GetChildContainer().childNodes.length&&this.GetChildContainer().insertBefore(this.GetControls(e).GetContainer(),this.GetChildContainer().childNodes.item(this.GetControls(e).FChildOrder)),this.GetControls(e).Loaded();for(var s=0,r=this.GetComponentCount()-1;s<=r;s++)e=s,pas.Classes.TComponentStateItem.csLoading in this.GetComponent(e).FComponentState&&this.GetComponent(e).Loaded();this.FAlign===t.TAlign.alClient&&null!=this.FParent&&this.SetBoundsInt(0,0,this.FParent.FWidth,this.FParent.FHeight),this.Resize(),this.UpdateElement()},this.InternalResize=function(){pas.Classes.TComponentStateItem.csLoading in this.FComponentState||this.Resize()},this.FontChanged=function(){this.UpdateElement()},this.CreateWithID=function(e){var n;this.ClearMethodPointers(),this.FUpdateCount=0,this.FControlCreated=!1,this.FLinkTouchEvents=!0,this.FIsResizing=!1,(null!=this.FOwner&&pas.Classes.TComponentStateItem.csLoading in this.FOwner.FComponentState||null==this.FOwner)&&this.Loading(),this.FElementPosition=t.TElementPosition.epAbsolute,this.FWidthStyle=t.TSizeStyle.ssAbsolute,this.FHeightStyle=t.TSizeStyle.ssAbsolute,n=document.getElementById(e),this.FNew=!(null!=n),this.FNew?this.FContainer=null:(this.FContainer=n,this.FControlCreated=!0,this.FElementPosition=t.TElementPosition.epRelative,this.BindElement(),this.BindEvents()),this.FID=e,this.FFont=pas["WEBLib.Graphics"].TFont.$create("Create$1"),this.FFont.FOnChange=rtl.createCallback(this,"HandleFontChanged"),this.FEnabled=!0,this.FVisible=!0,this.FLeft=0,this.FTop=0,this.FAlign=t.TAlign.alNone,this.FAlignWithMargins=!1,this.FIsAligning=!1,this.FParentFont=!0,this.FParentColor=!1,this.FAnchors=rtl.createSet(t.TAnchorKind.akLeft,t.TAnchorKind.akTop),this.FShowFocus=!1,this.FBorderWidth=0,this.FEnablePropagation=!1,this.FColor=-1,this.FMargins=t.TMargins.$create("Create$1"),this.FMargins.FOnChange=rtl.createCallback(this,"DoMarginsChanged"),this.FParent=null,this.FPrevParent=null,this.ClearControls(),this.CreateInitialize()},this.AddControlLink=function(t,e){var n,i,s;n=t,i=e,(s=document.getElementById(n))||((s=document.createElement("link")).id=n,s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href",i),document.getElementsByTagName("head")[0].appendChild(s))},this.ResetAnchoring=function(){this.FOrigRect.$assign(pas.Types.Rect(-1,-1,-1,-1)),this.InitAnchoring()},this.UpdateAnchoring=function(){var e=0,n=0,i=0,s=0,r=0,o=0,a=pas.Types.TRect.$new(),l=pas.Types.TRect.$new();pas.Classes.TComponentStateItem.csLoading in this.FComponentState||this.FControlCreated&&(-1===this.FOrigRect.Left&&-1===this.FOrigRect.Top&&this.InitAnchoring(),(null==this.FParent||this.FParent.AnchoringInitialized())&&(this.FAlign!==t.TAlign.alClient&&(null==this.FParent||pas["WEBLib.Forms"].TForm.isPrototypeOf(this)||(l.$assign(this.FParent.GetBoundsRect()),e=l.Right-l.Left-(this.FOrigParentRect.Right-this.FOrigParentRect.Left),n=l.Bottom-l.Top-(this.FOrigParentRect.Bottom-this.FOrigParentRect.Top),a.$assign(this.FOrigRect),i=0,s=0,r=0,o=0,t.TAnchorKind.akRight in this.FAnchors&&(t.TAnchorKind.akLeft in this.FAnchors?r=e:i=e),t.TAnchorKind.akBottom in this.FAnchors&&(t.TAnchorKind.akTop in this.FAnchors?o=n:s=n),(t.TAnchorKind.akBottom in this.FAnchors||t.TAnchorKind.akRight in this.FAnchors)&&this.SetBoundsInt(a.Left+i,a.Top+s,a.Right-a.Left+r,a.Bottom-a.Top+o))),this.UpdateChildAnchoring()))},this.UpdateChildAnchoring=function(){for(var t=0,e=0,n=this.GetControlsCount()-1;e<=n;e++)t=e,this.GetControls(t).UpdateAnchoring()},this.SetElementPointer=function(e,n){e.style.setProperty("cursor",t.GetHTMLCursorName(n))},this.IsUpdating=function(){return this.FUpdateCount>0},this.CanShowFocus=function(){return this.FShowFocus},this.RequiredScriptLoaded=function(t){rtl.asExt(t.target,HTMLScriptElement).title="tmswebloaded",this.FControlScriptCountLoaded+=1},this.SetBoundsInt=function(e,n,i,s){e===this.GetLeft()&&n===this.GetTop()&&i===this.GetWidth()&&s===this.GetHeight()||(this.FBlockUpdateElement=!0,this.FLeft=e,this.FTop=n,this.FWidth=i,this.FHeight=s,this.FBlockUpdateElement=!1,this.UpdateElementSize(),this.FAlign!==t.TAlign.alNone?this.DoRealign():this.Realign(),this.RecreateCanvas(),this.DoBoundsChange(),this.Invalidate(),this.UpdateChildAnchoring())},this.Create$2=function(t){return this.FGotFocus=!1,this.FTabStop=!0,this.FAllowTouch=!0,this.CreateWithID(t),this},this.Create$1=function(e){var n,i,s="",r="";return this.FGotFocus=!1,this.FTabStop=!0,this.FAllowTouch=!0,this.ClearMethodPointers(),pas.Classes.TComponent.Create$1.call(this,e),this.FScriptLoaded=!1,this.FElementFont=t.TElementFont.efProperty,this.FElementPosition=t.TElementPosition.epAbsolute,this.FParentElement=null,this.FTextDirection=t.TTextDirection.tdDefault,s=this.$classname,pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,1),r="",null!=(i=pas["WEBLib.Forms"].GetParentForm(this))&&(r=i.$classname),n=r+"_"+t.FindUniqueName(s),this.CreateWithID(n),null==e||pas.Classes.TComponentStateItem.csDesigning in e.FComponentState||this.SetName(n),this.FEventStopPropagation=rtl.createSet(t.TElementEvent.eeClick,t.TElementEvent.eeDblClick,t.TElementEvent.eeMouseUp,t.TElementEvent.eeMouseMove,t.TElementEvent.eeMouseDown,t.TElementEvent.eeKeyPress,t.TElementEvent.eeKeyDown,t.TElementEvent.eeKeyUp),this},this.Destroy=function(){var t=0,e=null;this.UnbindEvents();for(var n=this.GetControlsCount()-1;n>=0;n--)t=n,e=this.GetControls(t),e=rtl.freeLoc(e);null!=this.GetContainer()&&null!=this.FParent&&null!=this.FParent.GetChildContainer()&&(this.FParent.GetChildContainer()===this.GetContainer().parentNode&&this.FParent.GetChildContainer().removeChild(this.GetContainer()),this.FContainer=null,this.SetParent(null),this.FControlCreated=!1),rtl.free(this,"FRequiredScripts"),rtl.free(this,"FMargins"),rtl.free(this,"FFont"),pas.Classes.TComponent.Destroy.call(this)},this.Assign=function(t){},this.Resize=function(){null!=this.FOnResize&&this.FOnResize(this)},this.ReleaseCapture=function(){var t=null;this.FCaptureDown=!1,this.FCaptured&&null!=this.FLayer&&((t=this.FLayer).removeEventListener("mouseenter",this.FLayerMouseEnterPtr),t.removeEventListener("mouseleave",this.FLayerMouseLeavePtr),t.removeEventListener("mousedown",this.FMouseDownPtr),t.removeEventListener("mouseup",this.FMouseUpPtr),t.removeEventListener("mousemove",this.FMouseMovePtr),t.removeEventListener("touchstart",this.FTouchStartPtr),t.removeEventListener("touchmove",this.FTouchMovePtr),t.removeEventListener("touchend",this.FTouchEndPtr),t.removeEventListener("touchcancel",this.FTouchEndPtr),document.body.removeChild(t),this.FCaptured=!1,this.FLayer=null,this.UpdateElement())},this.PreventDefault=function(){null!=this.GetElementEvent()&&this.GetElementEvent().preventDefault()},this.StopPropagation=function(){null==this.GetElementEvent()||this.FEnablePropagation||this.GetElementEvent().stopPropagation()},this.BeginUpdate=function(){this.FUpdateCount+=1},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1,0===this.FUpdateCount&&this.UpdateElement())},this.Invalidate=function(){},this.SetParentComponent=function(e){this.FParent!==e&&t.TControl.isPrototypeOf(e)&&this.SetParent(e)},this.XYToClient=function(e,n,i,s){var r=null,o=null;for(this.FElementPosition===t.TElementPosition.epAbsolute?(i.set(e-this.GetLeft()+document.body.scrollLeft+document.documentElement.scrollLeft),s.set(n-this.GetTop()+document.body.scrollTop+document.documentElement.scrollTop)):(i.set(e+document.body.scrollLeft+document.documentElement.scrollLeft),s.set(n+document.body.scrollTop+document.documentElement.scrollTop)),r=this.FParent;null!=r;)r.GetIsLinked()&&(o=pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(r)?r.GetContainer().getBoundingClientRect():r.GetElementHandle().getBoundingClientRect(),i.set(i.get()-o.left),s.set(s.get()-o.top)),pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(r)&&null!=rtl.as(r,pas["WEBLib.Forms"].TCustomForm).GetContainer()&&""===rtl.as(r,pas["WEBLib.Forms"].TCustomForm).FFormContainer&&""!==rtl.as(r,pas["WEBLib.Forms"].TCustomForm).FFormFileName&&rtl.as(r,pas["WEBLib.Forms"].TCustomForm).FPopup&&(o=rtl.as(r,pas["WEBLib.Forms"].TCustomForm).GetContainer().getBoundingClientRect(),i.set(i.get()-o.left),s.set(s.get()-o.top)),r.FElementPosition===t.TElementPosition.epAbsolute&&(i.set(i.get()-r.GetLeft()),s.set(s.get()-r.GetTop())),r=r.FParent},this.Captured=function(){return this.FCaptured&&null!=this.FLayer},this.CanFocus=function(){return!0,!0},rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TWinControl",t.TControl,function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Cursor",2,t.$rtti.TCursor,"FCursor","SetControlCursor",{Default:0}),e.addProperty("ElementClassName",2,t.$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("Tag",0,rtl.longint,"FTag$1","FTag$1",{Default:0}),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("OnMouseDown",0,t.$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,t.$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,t.$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseEnter",0,t.$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnMouseLeave",0,t.$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnKeyUp",0,t.$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnKeyDown",0,t.$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,t.$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnEnter",0,t.$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,t.$rtti.TNotifyEvent,"FOnExit","FOnExit")}),rtl.createClass(t,"TCustomControl",t.TWinControl,function(){this.$init=function(){t.TWinControl.$init.call(this),this.FCaption="",this.FPixelRatio=0,this.FPainting=!1,this.FCanvas=null,this.FElementCanvas=null,this.FBorderStyle=0,this.FBorderColor=0,this.FCustomBorder=!1},this.$final=function(){this.FCanvas=void 0,this.FElementCanvas=void 0,t.TWinControl.$final.call(this)},this.GetPixelRatio=function(){var t=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},this.RecreateCanvas=function(){var e=0,n=null,i=0,s=0;null!=this.FElementCanvas&&(this.FPainting||(null!=(n=document.getElementById(this.GetID()+"_Canvas"))&&(this.FElementCanvas=n,rtl.free(this,"FCanvas"),this.FCanvas=null),e=this.GetPixelRatio(),i=this.GetHeight()-this.GetCanvasHeightOffset(),s=this.GetWidth()-this.GetCanvasWidthOffset(),this.FElementPosition===t.TElementPosition.epRelative?this.FElementCanvas.style.setProperty("position","relative"):this.FElementCanvas.style.setProperty("position","absolute"),this.FElementCanvas.style.setProperty("height",pas.SysUtils.IntToStr(i)+"px"),this.FElementCanvas.style.setProperty("width",pas.SysUtils.IntToStr(s)+"px"),this.FElementCanvas.height=Math.round(i*e),this.FElementCanvas.width=Math.round(s*e)),null==this.FCanvas&&(this.FCanvas=pas["WEBLib.Graphics"].TCanvas.$create("Create$1",[this.FElementCanvas])),this.FCanvas.FApplyPixelRatio=!0,this.FCanvas.SetTransform(1,0,0,1,0,0))},this.SetName=function(e){var n={},i="";if(i="",pas["WEBLib.Forms"].TFrame.isPrototypeOf(this)&&(i="F"+t.FindUniqueName(this.FName)+"_"),pas.Classes.TComponent.SetName.call(this,i+e),t.TControlStyleValue.csSetCaption in this.FControlStyle&&pas.Classes.TComponentStateItem.csDesigning in this.FComponentState&&!(pas.Classes.TComponentStateItem.csLoading in this.FComponentState)){if(null!=this.FOwner&&pas.Classes.TComponentStateItem.csLoading in this.FOwner.FComponentState)return;n=rtl.refSet(this.FControlStyle),this.SetCaption(e),this.FControlStyle=rtl.refSet(n)}},this.SetCaption=function(e){this.FCaption=e,this.FControlStyle=rtl.diffSet(this.FControlStyle,rtl.createSet(t.TControlStyleValue.csSetCaption))},this.CreateControl=function(){t.TControl.CreateControl.call(this),this.RecreateCanvas()},this.Loaded=function(){t.TControl.Loaded.call(this),this.Invalidate()},this.UpdateElementVisual=function(){t.TControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()&&(this.GetIsLinked()||""!==this.FElementClassName||(this.FBorderStyle===t.TBorderStyle.bsSingle?this.FCustomBorder?(this.GetElementHandle().style.setProperty("border-style","solid"),this.GetElementHandle().style.setProperty("border-width","1px"),this.GetElementHandle().style.setProperty("border-color",pas["WEBLib.Graphics"].ColorToHTML(this.FBorderColor))):this.GetElementHandle().style.setProperty("border-style",""):this.GetElementHandle().style.setProperty("border-style","none")),""!==this.FElementClassName&&(this.GetElementHandle().style.removeProperty("border-style"),this.GetElementHandle().style.removeProperty("border-width"),this.GetElementHandle().style.removeProperty("border-color")))},this.CreateElement=function(){var e=null;return this.FElementCanvas=document.createElement("CANVAS"),t.TControlStyleValue.csAcceptsControls in this.FControlStyle?((e=document.createElement("SPAN")).appendChild(this.FElementCanvas),this.FElementCanvas.setAttribute("id",this.GetID()+"_Canvas"),this.FElementCanvas.setAttribute("zindex","-1")):e=this.FElementCanvas,e},this.GetCanvasHeightOffset=function(){return 0,0},this.GetCanvasWidthOffset=function(){return 0,0},this.BindElement=function(){"CANVAS"===this.GetContainer().tagName||this.FControlCreated||(this.FElementCanvas=document.createElement("CANVAS"),this.GetContainer().appendChild(this.FElementCanvas))},this.BindEvents=function(){t.TControl.BindEvents.call(this)},this.Paint=function(){},this.CreateInitialize=function(){t.TControl.CreateInitialize.call(this),this.FCaption="",this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(t.TControlStyleValue.csSetCaption)),this.FBorderStyle=t.TBorderStyle.bsSingle,this.FBorderColor=12632256,this.FPainting=!1,this.FWidth=100,this.FHeight=25,this.FWidthPercent=100,this.FHeightPercent=100,this.FCustomBorder=!1},this.Destroy=function(){null!=this.FCanvas&&rtl.free(this,"FCanvas"),t.TControl.Destroy.call(this)},this.Resize=function(){t.TControl.Resize.call(this),this.Invalidate()},this.Invalidate=function(){var e=null;t.TControl.Invalidate.call(this),null===this.FParent||pas.Classes.TComponentStateItem.csDestroying in this.FComponentState||null!=(e=pas["WEBLib.Forms"].GetParentForm(this))&&e.IsUpdating()||(this.GetPixelRatio()!==this.FPixelRatio&&this.RecreateCanvas(),this.FPixelRatio=this.GetPixelRatio(),this.FPainting=!0,null!=this.FCanvas&&this.FCanvas.Clear(),this.Paint(),this.FPainting=!1)},rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TCustomHTMLDiv",t.TCustomControl,function(){this.CreateElement=function(){return document.createElement("DIV")},rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TControlManager",pas.Classes.TComponent,function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FInstanceCount=0},this.Create$1=function(t){return pas.Classes.TComponent.Create$1.apply(this,arguments),this.FInstanceCount=0,this},this.GetInstanceNumber=function(){return this.FInstanceCount+=1,this.FInstanceCount},rtl.addIntf(this,pas.System.IUnknown)}),this.FindUniqueName=function(t){return t+pas.SysUtils.IntToStr(e.ControlManager.GetInstanceNumber())},this.SetHTMLElementFont=function(t,e,n){var i="";n?(t.style.removeProperty("font-family"),t.style.removeProperty("font-style"),t.style.removeProperty("font-weight"),t.style.removeProperty("font-size"),t.style.removeProperty("text-decoration")):(t.style.setProperty("font-family",e.FName),t.style.setProperty("font-style","normal"),pas["WEBLib.Graphics"].TFontStyle.fsBold in e.FStyle?t.style.setProperty("font-weight","bold"):t.style.setProperty("font-weight",""),pas["WEBLib.Graphics"].TFontStyle.fsItalic in e.FStyle&&t.style.setProperty("font-style","italic"),i="",pas["WEBLib.Graphics"].TFontStyle.fsUnderline in e.FStyle&&(i="underline"),pas["WEBLib.Graphics"].TFontStyle.fsStrikeOut in e.FStyle&&(""!==i&&(i+=" "),i+="line-through"),""!==i&&t.style.setProperty("text-decoration",i),t.style.setProperty("font-size",pas.SysUtils.IntToStr(e.FSize)+"pt"))},this.SetHTMLElementColor=function(t,n,i){i||-1===n?t.style.removeProperty(e.cStyleBkgColor):t.style.setProperty(e.cStyleBkgColor,pas["WEBLib.Graphics"].ColorToHTML(n))},this.GetHTMLCursorName=function(t){var e="";e="default";return 0===t?e="default":2===t?e="auto":1===t?e="none":3===t?e="crosshair":4===t?e="text":6===t?e="nesw-resize":7===t?e="ns-resize":8===t?e="nwse-resize":9===t?e="ew-resize":10===t?e="n-resize":11===t?e="wait":12===t?e="copy":13===t?e="no-drop":14===t?e="col-resize":15===t?e="row-resize":16===t?e="copy":17===t?e="progress":18===t?e="not-allowed":19===t?e="progress":20===t?e="help":21===t?e="pointer":22!==t&&5!==t||(e="move"),e},t.$init=function(){e.ScrollBW=0,e.ScrollBH=0,e.ControlManager=t.TControlManager.$create("Create$1",[null])}},["WEBLib.Forms","Math"],function(){"use strict";var t=this.$impl;t.ControlManager=null,t.ScrollBW=0,t.ScrollBH=0,t.cStyleBkgColor="background-color",t.IsAndroid=function(){var t;return t=navigator.userAgent,pas.System.Pos("Android",t)>0}}),rtl.module("WEBLib.Lang",["System"],function(){"use strict";var t=this;this.TUILanguage={0:"lNone",lNone:0,1:"lAfar",lAfar:1,2:"lAbkhazian",lAbkhazian:2,3:"lAvestan",lAvestan:3,4:"lAfrikaans",lAfrikaans:4,5:"lAkan",lAkan:5,6:"lAmharic",lAmharic:6,7:"lAragonese",lAragonese:7,8:"lArabic",lArabic:8,9:"lAssamese",lAssamese:9,10:"lAvaric",lAvaric:10,11:"lAymara",lAymara:11,12:"lAzerbaijani",lAzerbaijani:12,13:"lBashkir",lBashkir:13,14:"lBelarusian",lBelarusian:14,15:"lBulgarian",lBulgarian:15,16:"lBihari",lBihari:16,17:"lBislama",lBislama:17,18:"lBambara",lBambara:18,19:"lBengali",lBengali:19,20:"lTibetan",lTibetan:20,21:"lBreton",lBreton:21,22:"lBosnian",lBosnian:22,23:"lCatalan",lCatalan:23,24:"lChechen",lChechen:24,25:"lChamorro",lChamorro:25,26:"lCorsican",lCorsican:26,27:"lCree",lCree:27,28:"lCzech",lCzech:28,29:"lOldSlavic",lOldSlavic:29,30:"lChuvash",lChuvash:30,31:"lWelsh",lWelsh:31,32:"lDanish",lDanish:32,33:"lGerman",lGerman:33,34:"lDivehi",lDivehi:34,35:"lDzongkha",lDzongkha:35,36:"lEwe",lEwe:36,37:"lEnglish",lEnglish:37,38:"lEsperanto",lEsperanto:38,39:"lSpanish",lSpanish:39,40:"lEstonian",lEstonian:40,41:"lBasque",lBasque:41,42:"lPersian",lPersian:42,43:"lFulah",lFulah:43,44:"lFinnish",lFinnish:44,45:"lFijian",lFijian:45,46:"lFaroese",lFaroese:46,47:"lFrench",lFrench:47,48:"lWesternFrisian",lWesternFrisian:48,49:"lIrish",lIrish:49,50:"lGaelic",lGaelic:50,51:"lGalician",lGalician:51,52:"lGuarani",lGuarani:52,53:"lGujarati",lGujarati:53,54:"lManx",lManx:54,55:"lHausa",lHausa:55,56:"lHebrew",lHebrew:56,57:"lHindi",lHindi:57,58:"lHiriMotu",lHiriMotu:58,59:"lCroatian",lCroatian:59,60:"lHaitian",lHaitian:60,61:"lHungarian",lHungarian:61,62:"lArmenian",lArmenian:62,63:"lHerero",lHerero:63,64:"lInterlingua",lInterlingua:64,65:"lIndonesian",lIndonesian:65,66:"lInterlingue",lInterlingue:66,67:"lIgbo",lIgbo:67,68:"lSichuanYi",lSichuanYi:68,69:"lInupiaq",lInupiaq:69,70:"lIdo",lIdo:70,71:"lIcelandic",lIcelandic:71,72:"lItalian",lItalian:72,73:"lInuktitut",lInuktitut:73,74:"lJapanese",lJapanese:74,75:"lJavanese",lJavanese:75,76:"lGeorgian",lGeorgian:76,77:"lKongo",lKongo:77,78:"lKikuyu",lKikuyu:78,79:"lKuanyama",lKuanyama:79,80:"lKazakh",lKazakh:80,81:"lKalaallisut",lKalaallisut:81,82:"lCentralKhmer",lCentralKhmer:82,83:"lKannada",lKannada:83,84:"lKorean",lKorean:84,85:"lKanuri",lKanuri:85,86:"lKashmiri",lKashmiri:86,87:"lKurdish",lKurdish:87,88:"lKomi",lKomi:88,89:"lCornish",lCornish:89,90:"lKirghiz",lKirghiz:90,91:"lLatin",lLatin:91,92:"lLuxembourgish",lLuxembourgish:92,93:"lGanda",lGanda:93,94:"lLimburgan",lLimburgan:94,95:"lLingala",lLingala:95,96:"lLao",lLao:96,97:"lLithuanian",lLithuanian:97,98:"lLubaKatanga",lLubaKatanga:98,99:"lLatvian",lLatvian:99,100:"lMalagasy",lMalagasy:100,101:"lMarshallese",lMarshallese:101,102:"lMaori",lMaori:102,103:"lMacedonian",lMacedonian:103,104:"lMalayalam",lMalayalam:104,105:"lMongolian",lMongolian:105,106:"lMarathi",lMarathi:106,107:"lMalay",lMalay:107,108:"lMaltese",lMaltese:108,109:"lBurmese",lBurmese:109,110:"lNauru",lNauru:110,111:"lNdebele",lNdebele:111,112:"lNepali",lNepali:112,113:"lNdonga",lNdonga:113,114:"lDutch",lDutch:114,115:"lNorwegian",lNorwegian:115,116:"lNavajo",lNavajo:116,117:"lChichewa",lChichewa:117,118:"lOccitan",lOccitan:118,119:"lOjibwa",lOjibwa:119,120:"lOromo",lOromo:120,121:"lOriya",lOriya:121,122:"lOssetian",lOssetian:122,123:"lPanjabi",lPanjabi:123,124:"lPali",lPali:124,125:"lPolish",lPolish:125,126:"lPushto",lPushto:126,127:"lPortuguese",lPortuguese:127,128:"lQuechua",lQuechua:128,129:"lRomansh",lRomansh:129,130:"lRundi",lRundi:130,131:"lRomanian",lRomanian:131,132:"lRussian",lRussian:132,133:"lKinyarwanda",lKinyarwanda:133,134:"lSanskrit",lSanskrit:134,135:"lSardinian",lSardinian:135,136:"lSindhi",lSindhi:136,137:"lNorthernSami",lNorthernSami:137,138:"lSango",lSango:138,139:"lSinhala",lSinhala:139,140:"lSlovak",lSlovak:140,141:"lSlovenian",lSlovenian:141,142:"lSamoan",lSamoan:142,143:"lShona",lShona:143,144:"lSomali",lSomali:144,145:"lAlbanian",lAlbanian:145,146:"lSerbian",lSerbian:146,147:"lSwati",lSwati:147,148:"lSotho",lSotho:148,149:"lSundanese",lSundanese:149,150:"lSwedish",lSwedish:150,151:"lSwahili",lSwahili:151,152:"lTamil",lTamil:152,153:"lTelugu",lTelugu:153,154:"lTajik",lTajik:154,155:"lThai",lThai:155,156:"lTigrinya",lTigrinya:156,157:"lTurkmen",lTurkmen:157,158:"lTagalog",lTagalog:158,159:"lTswana",lTswana:159,160:"lTonga",lTonga:160,161:"lTurkish",lTurkish:161,162:"lTsonga",lTsonga:162,163:"lTatar",lTatar:163,164:"lTwi",lTwi:164,165:"lTahitian",lTahitian:165,166:"lUighur",lUighur:166,167:"lUkrainian",lUkrainian:167,168:"lUrdu",lUrdu:168,169:"lUzbek",lUzbek:169,170:"lVenda",lVenda:170,171:"lVietnamese",lVietnamese:171,172:"lWalloon",lWalloon:172,173:"lWolof",lWolof:173,174:"lXhosa",lXhosa:174,175:"lYiddish",lYiddish:175,176:"lYoruba",lYoruba:176,177:"lZhuang",lZhuang:177,178:"lChinese",lChinese:178,179:"lZulu",lZulu:179},this.GetLanguageISO639_1Code=function(e){var n="",i=e;return i===t.TUILanguage.lNone?n="":i===t.TUILanguage.lAfar?n="aa":i===t.TUILanguage.lAbkhazian?n="ab":i===t.TUILanguage.lAvestan?n="ae":i===t.TUILanguage.lAfrikaans?n="af":i===t.TUILanguage.lAkan?n="ak":i===t.TUILanguage.lAmharic?n="am":i===t.TUILanguage.lAragonese?n="an":i===t.TUILanguage.lArabic?n="ar":i===t.TUILanguage.lAssamese?n="as":i===t.TUILanguage.lAvaric?n="av":i===t.TUILanguage.lAymara?n="ay":i===t.TUILanguage.lAzerbaijani?n="az":i===t.TUILanguage.lBashkir?n="ba":i===t.TUILanguage.lBelarusian?n="be":i===t.TUILanguage.lBulgarian?n="bg":i===t.TUILanguage.lBihari?n="bh":i===t.TUILanguage.lBislama?n="bi":i===t.TUILanguage.lBambara?n="bm":i===t.TUILanguage.lBengali?n="bn":i===t.TUILanguage.lTibetan?n="bo":i===t.TUILanguage.lBreton?n="br":i===t.TUILanguage.lBosnian?n="bd":i===t.TUILanguage.lCatalan?n="ca":i===t.TUILanguage.lChechen?n="ce":i===t.TUILanguage.lChamorro?n="ch":i===t.TUILanguage.lCorsican?n="co":i===t.TUILanguage.lCree?n="cr":i===t.TUILanguage.lCzech?n="cs":i===t.TUILanguage.lOldSlavic?n="cu":i===t.TUILanguage.lChuvash?n="cv":i===t.TUILanguage.lWelsh?n="cy":i===t.TUILanguage.lDanish?n="da":i===t.TUILanguage.lGerman?n="de":i===t.TUILanguage.lDivehi?n="dv":i===t.TUILanguage.lDzongkha?n="dz":i===t.TUILanguage.lEwe?n="ee":i===t.TUILanguage.lEnglish?n="en":i===t.TUILanguage.lEsperanto?n="eo":i===t.TUILanguage.lSpanish?n="es":i===t.TUILanguage.lEstonian?n="et":i===t.TUILanguage.lBasque?n="eu":i===t.TUILanguage.lPersian?n="fa":i===t.TUILanguage.lFulah?n="ff":i===t.TUILanguage.lFinnish?n="fi":i===t.TUILanguage.lFijian?n="fj":i===t.TUILanguage.lFaroese?n="fo":i===t.TUILanguage.lFrench?n="fr":i===t.TUILanguage.lWesternFrisian?n="fy":i===t.TUILanguage.lIrish?n="ga":i===t.TUILanguage.lGaelic?n="gd":i===t.TUILanguage.lGalician?n="gl":i===t.TUILanguage.lGuarani?n="gn":i===t.TUILanguage.lGujarati?n="gu":i===t.TUILanguage.lManx?n="gv":i===t.TUILanguage.lHausa?n="ha":i===t.TUILanguage.lHebrew?n="he":i===t.TUILanguage.lHindi?n="hi":i===t.TUILanguage.lHiriMotu?n="ho":i===t.TUILanguage.lCroatian?n="hr":i===t.TUILanguage.lHaitian?n="ht":i===t.TUILanguage.lHungarian?n="hu":i===t.TUILanguage.lArmenian?n="hy":i===t.TUILanguage.lHerero?n="hz":i===t.TUILanguage.lInterlingua?n="ia":i===t.TUILanguage.lIndonesian?n="id":i===t.TUILanguage.lInterlingue?n="ie":i===t.TUILanguage.lIgbo?n="ig":i===t.TUILanguage.lSichuanYi?n="ii":i===t.TUILanguage.lInupiaq?n="ik":i===t.TUILanguage.lIdo?n="id":i===t.TUILanguage.lIcelandic?n="is":i===t.TUILanguage.lItalian?n="it":i===t.TUILanguage.lInuktitut?n="iu":i===t.TUILanguage.lJapanese?n="ja":i===t.TUILanguage.lJavanese?n="jv":i===t.TUILanguage.lGeorgian?n="ka":i===t.TUILanguage.lKongo?n="kg":i===t.TUILanguage.lKikuyu?n="ki":i===t.TUILanguage.lKuanyama?n="kj":i===t.TUILanguage.lKazakh?n="kk":i===t.TUILanguage.lKalaallisut?n="kl":i===t.TUILanguage.lCentralKhmer?n="km":i===t.TUILanguage.lKannada?n="kn":i===t.TUILanguage.lKorean?n="ko":i===t.TUILanguage.lKanuri?n="kr":i===t.TUILanguage.lKashmiri?n="ks":i===t.TUILanguage.lKurdish?n="ku":i===t.TUILanguage.lKomi?n="kv":i===t.TUILanguage.lCornish?n="kw":i===t.TUILanguage.lKirghiz?n="ky":i===t.TUILanguage.lLatin?n="la":i===t.TUILanguage.lLuxembourgish?n="lb":i===t.TUILanguage.lGanda?n="lg":i===t.TUILanguage.lLimburgan?n="li":i===t.TUILanguage.lLingala?n="ln":i===t.TUILanguage.lLao?n="lo":i===t.TUILanguage.lLithuanian?n="lt":i===t.TUILanguage.lLubaKatanga?n="lu":i===t.TUILanguage.lLatvian?n="lv":i===t.TUILanguage.lMalagasy?n="mg":i===t.TUILanguage.lMarshallese?n="mh":i===t.TUILanguage.lMaori?n="mi":i===t.TUILanguage.lMacedonian?n="mk":i===t.TUILanguage.lMalayalam?n="ml":i===t.TUILanguage.lMongolian?n="mn":i===t.TUILanguage.lMarathi?n="mr":i===t.TUILanguage.lMalay?n="ms":i===t.TUILanguage.lMaltese?n="mt":i===t.TUILanguage.lBurmese?n="my":i===t.TUILanguage.lNauru?n="na":i===t.TUILanguage.lNdebele?n="nb":i===t.TUILanguage.lNepali?n="nd":i===t.TUILanguage.lNdonga?n="ng":i===t.TUILanguage.lDutch?n="nl":i===t.TUILanguage.lNorwegian?n="no":i===t.TUILanguage.lNavajo?n="nv":i===t.TUILanguage.lChichewa?n="ny":i===t.TUILanguage.lOccitan?n="oc":i===t.TUILanguage.lOjibwa?n="oj":i===t.TUILanguage.lOromo?n="om":i===t.TUILanguage.lOriya?n="or":i===t.TUILanguage.lOssetian?n="os":i===t.TUILanguage.lPanjabi?n="pa":i===t.TUILanguage.lPali?n="pi":i===t.TUILanguage.lPolish?n="pl":i===t.TUILanguage.lPushto?n="ps":i===t.TUILanguage.lPortuguese?n="pt":i===t.TUILanguage.lQuechua?n="qu":i===t.TUILanguage.lRomansh?n="rm":i===t.TUILanguage.lRundi?n="rn":i===t.TUILanguage.lRomanian?n="ro":i===t.TUILanguage.lRussian?n="ru":i===t.TUILanguage.lKinyarwanda?n="rw":i===t.TUILanguage.lSanskrit?n="sa":i===t.TUILanguage.lSardinian?n="sc":i===t.TUILanguage.lSindhi?n="sd":i===t.TUILanguage.lNorthernSami?n="se":i===t.TUILanguage.lSango?n="sg":i===t.TUILanguage.lSinhala?n="si":i===t.TUILanguage.lSlovak?n="sk":i===t.TUILanguage.lSlovenian?n="sl":i===t.TUILanguage.lSamoan?n="sm":i===t.TUILanguage.lShona?n="sn":i===t.TUILanguage.lSomali?n="so":i===t.TUILanguage.lAlbanian?n="sq":i===t.TUILanguage.lSerbian?n="sr":i===t.TUILanguage.lSwati?n="ss":i===t.TUILanguage.lSotho?n="st":i===t.TUILanguage.lSundanese?n="su":i===t.TUILanguage.lSwedish?n="sv":i===t.TUILanguage.lSwahili?n="sw":i===t.TUILanguage.lTamil?n="ta":i===t.TUILanguage.lTelugu?n="te":i===t.TUILanguage.lTajik?n="tg":i===t.TUILanguage.lThai?n="th":i===t.TUILanguage.lTigrinya?n="ti":i===t.TUILanguage.lTurkmen?n="tk":i===t.TUILanguage.lTagalog?n="tl":i===t.TUILanguage.lTswana?n="tn":i===t.TUILanguage.lTonga?n="to":i===t.TUILanguage.lTurkish?n="tr":i===t.TUILanguage.lTsonga?n="ts":i===t.TUILanguage.lTatar?n="tt":i===t.TUILanguage.lTwi?n="tw":i===t.TUILanguage.lTahitian?n="ty":i===t.TUILanguage.lUighur?n="ug":i===t.TUILanguage.lUkrainian?n="uk":i===t.TUILanguage.lUrdu?n="ur":i===t.TUILanguage.lUzbek?n="uz":i===t.TUILanguage.lVenda?n="ve":i===t.TUILanguage.lVietnamese?n="vi":i===t.TUILanguage.lWalloon?n="wa":i===t.TUILanguage.lWolof?n="wo":i===t.TUILanguage.lXhosa?n="xh":i===t.TUILanguage.lYiddish?n="yi":i===t.TUILanguage.lYoruba?n="yo":i===t.TUILanguage.lZhuang?n="za":i===t.TUILanguage.lChinese?n="zh":i===t.TUILanguage.lZulu&&(n="zu"),n}}),rtl.module("WEBLib.Consts",["System"],function(){"use strict";this.$resourcestrings={SWarning:{org:"Warning"},SError:{org:"Error"},SInformation:{org:"Information"},SConfirm:{org:"Confirm"},SOK:{org:"OK"},SCancel:{org:"Cancel"},SYes:{org:"Yes"},SNo:{org:"No"},SAbort:{org:"Abort"},SRetry:{org:"Retry"},SIgnore:{org:"Ignore"},SHelp:{org:"Help"},SClose:{org:"Close"},SAll:{org:"All"},SYesToAll:{org:"Yes to all"},SNoToAll:{org:"No to all"}}}),rtl.module("WEBLib.Utils",["System","Types","Web","SysUtils","Math","Classes","JS"],function(){"use strict";var t=this;rtl.createHelper(t,"TStringHelper",null,function(){this.Empty="",this.get_Length=function(){return this.get().length},this.Pos=function(t,e,n){return e.indexOf(t,n-1)+1},this.IndexOf=function(e){return t.TStringHelper.Pos.call(this,e,this.get(),1)-1},this.Substring=function(e){return pas.System.Copy(this.get(),e+1,t.TStringHelper.get_Length.call(this))},this.Substring$1=function(t,e){return pas.System.Copy(this.get(),t+1,e)},this.ToLower=function(){return this.get().toLowerCase()},this.ToUpper=function(){return this.get().toUpperCase()}}),t.$rtti.$StaticArray("TMonthNameArray",{dims:[12],eltype:rtl.string}),t.$rtti.$StaticArray("TDayNames",{dims:[7],eltype:rtl.string}),rtl.recNewT(t,"TFormatSettings",function(){this.CurrencyDecimals=0,this.CurrencyFormat=0,this.CurrencyString="",this.DateSeparator="",this.DecimalSeparator="",this.LongDateFormat="",this.LongTimeFormat="",this.NegCurrFormat=0,this.ShortDateFormat="",this.ShortTimeFormat="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.TimeSeparator="",this.TwoDigitYearCenturyWindow=0,this.$new=function(){var t=Object.create(this);return t.DateTimeToStrFormat=rtl.arraySetLength(null,"",2),t.LongDayNames=rtl.arraySetLength(null,"",7),t.LongMonthNames=rtl.arraySetLength(null,"",12),t.ShortDayNames=rtl.arraySetLength(null,"",7),t.ShortMonthNames=rtl.arraySetLength(null,"",12),t},this.$eq=function(t){return this.CurrencyDecimals===t.CurrencyDecimals&&this.CurrencyFormat===t.CurrencyFormat&&this.CurrencyString===t.CurrencyString&&this.DateSeparator===t.DateSeparator&&rtl.arrayEq(this.DateTimeToStrFormat,t.DateTimeToStrFormat)&&this.DecimalSeparator===t.DecimalSeparator&&this.LongDateFormat===t.LongDateFormat&&rtl.arrayEq(this.LongDayNames,t.LongDayNames)&&rtl.arrayEq(this.LongMonthNames,t.LongMonthNames)&&this.LongTimeFormat===t.LongTimeFormat&&this.NegCurrFormat===t.NegCurrFormat&&this.ShortDateFormat===t.ShortDateFormat&&rtl.arrayEq(this.ShortDayNames,t.ShortDayNames)&&rtl.arrayEq(this.ShortMonthNames,t.ShortMonthNames)&&this.ShortTimeFormat===t.ShortTimeFormat&&this.ThousandSeparator===t.ThousandSeparator&&this.TimeAMString===t.TimeAMString&&this.TimePMString===t.TimePMString&&this.TimeSeparator===t.TimeSeparator&&this.TwoDigitYearCenturyWindow===t.TwoDigitYearCenturyWindow},this.$assign=function(t){return this.CurrencyDecimals=t.CurrencyDecimals,this.CurrencyFormat=t.CurrencyFormat,this.CurrencyString=t.CurrencyString,this.DateSeparator=t.DateSeparator,this.DateTimeToStrFormat=t.DateTimeToStrFormat.slice(0),this.DecimalSeparator=t.DecimalSeparator,this.LongDateFormat=t.LongDateFormat,this.LongDayNames=t.LongDayNames.slice(0),this.LongMonthNames=t.LongMonthNames.slice(0),this.LongTimeFormat=t.LongTimeFormat,this.NegCurrFormat=t.NegCurrFormat,this.ShortDateFormat=t.ShortDateFormat,this.ShortDayNames=t.ShortDayNames.slice(0),this.ShortMonthNames=t.ShortMonthNames.slice(0),this.ShortTimeFormat=t.ShortTimeFormat,this.ThousandSeparator=t.ThousandSeparator,this.TimeAMString=t.TimeAMString,this.TimePMString=t.TimePMString,this.TimeSeparator=t.TimeSeparator,this.TwoDigitYearCenturyWindow=t.TwoDigitYearCenturyWindow,this},this.GetBrowserLocale=function(){return navigator.language},this.GetLocaleShortDayName=function(t,e){var n=new Date(2017,0,1);n.setDate(n.getDate()+t-1);var i="";return i=""==e?navigator.language:e,n.toLocaleDateString(i,{weekday:"short"})},this.GetLocaleDecimalSeparator=function(t){var e=1.1;return e=e.toLocaleString(t).substring(1,2)},this.GetLocaleLongMonthName=function(t,e){return new Date(2017,t-1,1).toLocaleDateString(e,{AMonth:"long"})},this.GetLocaleLongDayName=function(t,e){var n=new Date(2017,0,1);return n.setDate(n.getDate()+t-1),n.toLocaleDateString(e,{weekday:"long"})},this.GetLocaleShortMonthName=function(t,e){var n=new Date(2017,t-1,1),i="";return i=""==e?navigator.language:e,n.toLocaleDateString(i,{AMonth:"short"})};this.GetLocaleShortDateFormat=function(e){var n;t.TStringHelper.Empty,e=t.TStringHelper.ToLower.call({get:function(){return e},set:function(t){e=t}}),(n=t.TStringHelper.IndexOf.call({get:function(){return e},set:function(t){e=t}},"-"))>=0?e=t.TStringHelper.Substring$1.call({get:function(){return e},set:function(t){e=t}},0,n)+t.TStringHelper.ToUpper.call({a:t.TStringHelper.Substring.call({get:function(){return e},set:function(t){e=t}},n),get:function(){return this.a},set:function(t){this.a=t}}):2===t.TStringHelper.get_Length.call({get:function(){return e},set:function(t){e=t}})&&(e=e+"-"+t.TStringHelper.ToUpper.call({get:function(){return e},set:function(t){e=t}}));return{"ar-SA":"dd/MM/yy","bg-BG":"dd.M.yyyy","ca-ES":"dd/MM/yyyy","zh-TW":"yyyy/M/d","cs-CZ":"d.M.yyyy","da-DK":"dd-MM-yyyy","de-DE":"dd.MM.yyyy","el-GR":"d/M/yyyy","en-US":"M/d/yyyy","fi-FI":"d.M.yyyy","fr-FR":"dd/MM/yyyy","he-IL":"dd/MM/yyyy","hu-HU":"yyyy. MM. dd.","is-IS":"d.M.yyyy","it-IT":"dd/MM/yyyy","ja-JP":"yyyy/MM/dd","ko-KR":"yyyy-MM-dd","nl-NL":"d-M-yyyy","nb-NO":"dd.MM.yyyy","pl-PL":"yyyy-MM-dd","pt-BR":"d/M/yyyy","ro-RO":"dd.MM.yyyy","ru-RU":"dd.MM.yyyy","hr-HR":"d.M.yyyy","sk-SK":"d. M. yyyy","sq-AL":"yyyy-MM-dd","sv-SE":"yyyy-MM-dd","th-TH":"d/M/yyyy","tr-TR":"dd.MM.yyyy","ur-PK":"dd/MM/yyyy","id-ID":"dd/MM/yyyy","uk-UA":"dd.MM.yyyy","be-BY":"dd.MM.yyyy","sl-SI":"d.M.yyyy","et-EE":"d.MM.yyyy","lv-LV":"yyyy.MM.dd.","lt-LT":"yyyy.MM.dd","fa-IR":"MM/dd/yyyy","vi-VN":"dd/MM/yyyy","hy-AM":"dd.MM.yyyy","az-Latn-AZ":"dd.MM.yyyy","eu-ES":"yyyy/MM/dd","mk-MK":"dd.MM.yyyy","af-ZA":"yyyy/MM/dd","ka-GE":"dd.MM.yyyy","fo-FO":"dd-MM-yyyy","hi-IN":"dd-MM-yyyy","ms-MY":"dd/MM/yyyy","kk-KZ":"dd.MM.yyyy","ky-KG":"dd.MM.yy","sw-KE":"M/d/yyyy","uz-Latn-UZ":"dd/MM yyyy","tt-RU":"dd.MM.yyyy","pa-IN":"dd-MM-yy","gu-IN":"dd-MM-yy","ta-IN":"dd-MM-yyyy","te-IN":"dd-MM-yy","kn-IN":"dd-MM-yy","mr-IN":"dd-MM-yyyy","sa-IN":"dd-MM-yyyy","mn-MN":"yy.MM.dd","gl-ES":"dd/MM/yy","kok-IN":"dd-MM-yyyy","syr-SY":"dd/MM/yyyy","dv-MV":"dd/MM/yy","ar-IQ":"dd/MM/yyyy","zh-CN":"yyyy/M/d","de-CH":"dd.MM.yyyy","en-GB":"dd/MM/yyyy","es-MX":"dd/MM/yyyy","fr-BE":"d/MM/yyyy","it-CH":"dd.MM.yyyy","nl-BE":"d/MM/yyyy","nn-NO":"dd.MM.yyyy","pt-PT":"dd-MM-yyyy","sr-Latn-CS":"d.M.yyyy","sv-FI":"d.M.yyyy","az-Cyrl-AZ":"dd.MM.yyyy","ms-BN":"dd/MM/yyyy","uz-Cyrl-UZ":"dd.MM.yyyy","ar-EG":"dd/MM/yyyy","zh-HK":"d/M/yyyy","de-AT":"dd.MM.yyyy","en-AU":"d/MM/yyyy","es-ES":"dd/MM/yyyy","fr-CA":"yyyy-MM-dd","sr-Cyrl-CS":"d.M.yyyy","ar-LY":"dd/MM/yyyy","zh-SG":"d/M/yyyy","de-LU":"dd.MM.yyyy","en-CA":"dd/MM/yyyy","es-GT":"dd/MM/yyyy","fr-CH":"dd.MM.yyyy","ar-DZ":"dd-MM-yyyy","zh-MO":"d/M/yyyy","de-LI":"dd.MM.yyyy","en-NZ":"d/MM/yyyy","es-CR":"dd/MM/yyyy","fr-LU":"dd/MM/yyyy","ar-MA":"dd-MM-yyyy","en-IE":"dd/MM/yyyy","es-PA":"MM/dd/yyyy","fr-MC":"dd/MM/yyyy","ar-TN":"dd-MM-yyyy","en-ZA":"yyyy/MM/dd","es-DO":"dd/MM/yyyy","ar-OM":"dd/MM/yyyy","en-JM":"dd/MM/yyyy","es-VE":"dd/MM/yyyy","ar-YE":"dd/MM/yyyy","en-029":"MM/dd/yyyy","es-CO":"dd/MM/yyyy","ar-SY":"dd/MM/yyyy","en-BZ":"dd/MM/yyyy","es-PE":"dd/MM/yyyy","ar-JO":"dd/MM/yyyy","en-TT":"dd/MM/yyyy","es-AR":"dd/MM/yyyy","ar-LB":"dd/MM/yyyy","en-ZW":"M/d/yyyy","es-EC":"dd/MM/yyyy","ar-KW":"dd/MM/yyyy","en-PH":"M/d/yyyy","es-CL":"dd-MM-yyyy","ar-AE":"dd/MM/yyyy","es-UY":"dd/MM/yyyy","ar-BH":"dd/MM/yyyy","es-PY":"dd/MM/yyyy","ar-QA":"dd/MM/yyyy","es-BO":"dd/MM/yyyy","es-SV":"dd/MM/yyyy","es-HN":"dd/MM/yyyy","es-NI":"dd/MM/yyyy","es-PR":"dd/MM/yyyy","am-ET":"d/M/yyyy","tzm-Latn-DZ":"dd-MM-yyyy","iu-Latn-CA":"d/MM/yyyy","sma-NO":"dd.MM.yyyy","mn-Mong-CN":"yyyy/M/d","gd-GB":"dd/MM/yyyy","en-MY":"d/M/yyyy","prs-AF":"dd/MM/yy","bn-BD":"dd-MM-yy","wo-SN":"dd/MM/yyyy","rw-RW":"M/d/yyyy","qut-GT":"dd/MM/yyyy","sah-RU":"MM.dd.yyyy","gsw-FR":"dd/MM/yyyy","co-FR":"dd/MM/yyyy","oc-FR":"dd/MM/yyyy","mi-NZ":"dd/MM/yyyy","ga-IE":"dd/MM/yyyy","se-SE":"yyyy-MM-dd","br-FR":"dd/MM/yyyy","smn-FI":"d.M.yyyy","moh-CA":"M/d/yyyy","arn-CL":"dd-MM-yyyy","ii-CN":"yyyy/M/d","dsb-DE":"d. M. yyyy","ig-NG":"d/M/yyyy","kl-GL":"dd-MM-yyyy","lb-LU":"dd/MM/yyyy","ba-RU":"dd.MM.yy","nso-ZA":"yyyy/MM/dd","quz-BO":"dd/MM/yyyy","yo-NG":"d/M/yyyy","ha-Latn-NG":"d/M/yyyy","fil-PH":"M/d/yyyy","ps-AF":"dd/MM/yy","fy-NL":"d-M-yyyy","ne-NP":"M/d/yyyy","se-NO":"dd.MM.yyyy","iu-Cans-CA":"d/M/yyyy","sr-Latn-RS":"d.M.yyyy","si-LK":"yyyy-MM-dd","sr-Cyrl-RS":"d.M.yyyy","lo-LA":"dd/MM/yyyy","km-KH":"yyyy-MM-dd","cy-GB":"dd/MM/yyyy","bo-CN":"yyyy/M/d","sms-FI":"d.M.yyyy","as-IN":"dd-MM-yyyy","ml-IN":"dd-MM-yy","en-IN":"dd-MM-yyyy","or-IN":"dd-MM-yy","bn-IN":"dd-MM-yy","tk-TM":"dd.MM.yy","bs-Latn-BA":"d.M.yyyy","mt-MT":"dd/MM/yyyy","sr-Cyrl-ME":"d.M.yyyy","se-FI":"d.M.yyyy","zu-ZA":"yyyy/MM/dd","xh-ZA":"yyyy/MM/dd","tn-ZA":"yyyy/MM/dd","hsb-DE":"d. M. yyyy","bs-Cyrl-BA":"d.M.yyyy","tg-Cyrl-TJ":"dd.MM.yy","sr-Latn-BA":"d.M.yyyy","smj-NO":"dd.MM.yyyy","rm-CH":"dd/MM/yyyy","smj-SE":"yyyy-MM-dd","quz-EC":"dd/MM/yyyy","quz-PE":"dd/MM/yyyy","hr-BA":"d.M.yyyy.","sr-Latn-ME":"d.M.yyyy","sma-SE":"yyyy-MM-dd","en-SG":"d/M/yyyy","ug-CN":"yyyy-M-d","sr-Cyrl-BA":"d.M.yyyy","es-US":"M/d/yyyy"}[e]||"dd/MM/yyyy"},this.Create=function(){var e=t.TFormatSettings.$new();return e.$assign(this.Create$1(this.GetBrowserLocale())),e};var e=["/",".","-"],n=[":",".","-"],i=[",","."],s=[".",","];this.Create$1=function(r){var o=t.TFormatSettings.$new(),a="",l=0;o.LongDayNames[0]="Sunday",o.LongDayNames[1]="Monday",o.LongDayNames[2]="Tuesday",o.LongDayNames[3]="Wednesday",o.LongDayNames[4]="Thursday",o.LongDayNames[5]="Friday",o.LongDayNames[6]="Saturday",o.ShortDayNames[0]="Sun",o.ShortDayNames[1]="Mon",o.ShortDayNames[2]="Tue",o.ShortDayNames[3]="Wed",o.ShortDayNames[4]="Thu",o.ShortDayNames[5]="Fri",o.ShortDayNames[6]="Sat",o.ShortMonthNames[0]="Jan",o.ShortMonthNames[1]="Feb",o.ShortMonthNames[2]="Mar",o.ShortMonthNames[3]="Apr",o.ShortMonthNames[4]="May",o.ShortMonthNames[5]="Jun",o.ShortMonthNames[6]="Jul",o.ShortMonthNames[7]="Aug",o.ShortMonthNames[8]="Sep",o.ShortMonthNames[9]="Oct",o.ShortMonthNames[10]="Nov",o.ShortMonthNames[11]="Dec",o.LongMonthNames[0]="January",o.LongMonthNames[1]="February",o.LongMonthNames[2]="March",o.LongMonthNames[3]="April",o.LongMonthNames[4]="May",o.LongMonthNames[5]="June",o.LongMonthNames[6]="July",o.LongMonthNames[7]="August",o.LongMonthNames[8]="September",o.LongMonthNames[9]="October",o.LongMonthNames[10]="November",o.LongMonthNames[11]="December",o.DateTimeToStrFormat[0]="c",o.DateTimeToStrFormat[1]="f",o.DateSeparator="-",o.TimeSeparator=":",o.ShortDateFormat="yyyy-mm-dd",o.LongDateFormat="ddd, yyyy-mm-dd",o.ShortTimeFormat="hh:nn",o.LongTimeFormat="hh:nn:ss",o.DecimalSeparator=".",o.ThousandSeparator=",",o.TimeAMString="AM",o.TimePMString="PM",o.TwoDigitYearCenturyWindow=50,o.ShortDateFormat=this.GetLocaleShortDateFormat(r);for(var h=0,u=rtl.length(e)-1;h<=u;h++)l=h,t.TStringHelper.IndexOf.call({p:o,get:function(){return this.p.ShortDateFormat},set:function(t){this.p.ShortDateFormat=t}},e[l])>=0&&(o.DateSeparator=e[l]);var c=new Date("Jan 1, 1980 06:07:08 GMT+00:00"),d="";d=""==r?navigator.language:r,a=c.toLocaleTimeString(d);for(var p=0,m=rtl.length(n)-1;p<=m;p++)l=p,t.TStringHelper.IndexOf.call({get:function(){return a},set:function(t){a=t}},n[l])>=0&&(o.TimeSeparator=n[l]);for(l=1;l<=7;l++)o.ShortDayNames[l-1]=this.GetLocaleShortDayName(l,r);for(l=1;l<=7;l++)o.LongDayNames[l-1]=this.GetLocaleLongDayName(l,r);for(l=1;l<=12;l++)o.ShortMonthNames[l-1]=this.GetLocaleShortMonthName(l,r);for(l=1;l<=12;l++)o.LongMonthNames[l-1]=this.GetLocaleLongMonthName(l,r);o.DecimalSeparator=this.GetLocaleDecimalSeparator(r);for(var F=0,y=rtl.length(i)-1;F<=y;F++)if(l=F,o.DecimalSeparator===i[l]){o.ThousandSeparator=s[l];break}return o};var r=t.$rtti.$Record("TFormatSettings",{});r.addField("CurrencyDecimals",rtl.byte),r.addField("CurrencyFormat",rtl.byte),r.addField("CurrencyString",rtl.string),r.addField("DateSeparator",rtl.char),t.$rtti.$StaticArray("TFormatSettings.DateTimeToStrFormat$a",{dims:[2],eltype:rtl.string}),r.addField("DateTimeToStrFormat",t.$rtti["TFormatSettings.DateTimeToStrFormat$a"]),r.addField("DecimalSeparator",rtl.string),r.addField("LongDateFormat",rtl.string),r.addField("LongDayNames",t.$rtti.TDayNames),r.addField("LongMonthNames",t.$rtti.TMonthNameArray),r.addField("LongTimeFormat",rtl.string),r.addField("NegCurrFormat",rtl.byte),r.addField("ShortDateFormat",rtl.string),r.addField("ShortDayNames",t.$rtti.TDayNames),r.addField("ShortMonthNames",t.$rtti.TMonthNameArray),r.addField("ShortTimeFormat",rtl.string),r.addField("ThousandSeparator",rtl.string),r.addField("TimeAMString",rtl.string),r.addField("TimePMString",rtl.string),r.addField("TimeSeparator",rtl.char),r.addField("TwoDigitYearCenturyWindow",rtl.word),r.addMethod("Create",5,null,r,{flags:1}),r.addMethod("Create$1",5,[["ALocale",rtl.string,2]],r,{flags:1})},!0),this.FormatSettings=t.TFormatSettings.$new(),t.$init=function(){t.FormatSettings.$assign(t.TFormatSettings.Create())}},["WEBLib.Consts"]),rtl.module("WEBLib.WebTools",["System","Classes","Web","JS"],function(){"use strict";this.DoubleToHTML=function(t){var e="";return e=pas.SysUtils.Format("%g",[t]),e=pas.SysUtils.StringReplace(e,",",".",rtl.createSet(pas.SysUtils.TStringReplaceFlag.rfReplaceAll))},this.GetLocaleShortDateFormat=function(t){return pas["WEBLib.Utils"].TFormatSettings.Create$1(t).ShortDateFormat},this.GetLocaleLongDayName=function(t,e){var n=new Date(2017,0,1);n.setDate(n.getDate()+t-1);var i="";return i=""==e?navigator.language:e,n.toLocaleDateString(i,{weekday:"long"})},this.GetLocaleShortDayName=function(t,e){var n=new Date(2017,0,1);n.setDate(n.getDate()+t-1);var i="";return i=""==e?navigator.language:e,n.toLocaleDateString(i,{weekday:"short"})},this.GetLocaleLongMonthName=function(t,e){var n=new Date(2017,t-1,1),i="";return i=""==e?navigator.language:e,n.toLocaleDateString(i,{month:"long"})},this.GetLocaleShortMonthName=function(t,e){var n=new Date(2017,t-1,1),i="";return i=""==e?navigator.language:e,n.toLocaleDateString(i,{month:"short"})},this.GetLocaleDecimalSeparator=function(t){var e=1.1,n="";return n=""==t?navigator.language:t,e=e.toLocaleString(n).substring(1,2)},this.GetBrowserLocale=function(){return navigator.language},this.ProcessAccelerator=function(t,e){var n,i=0,s="";for(n=t.length,e.set(""),s="",i=1;i<=n;)"&"===t.charAt(i-1)?(i+1<=n&&"&"!==t.charAt(i+1-1)?(s=s+"<u>"+t.charAt(i+1-1)+"</u>",e.set(t.charAt(i+1-1))):i+1<=n&&"&"===t.charAt(i+1-1)&&(s+="&"),i+=2):(s+=t.charAt(i-1),i+=1);return s}},["SysUtils","WEBLib.Utils"]),rtl.module("WEBLib.Dialogs",["System","Classes","WEBLib.Controls","Web","SysUtils","WEBLib.WebTools","WEBLib.Graphics"],function(){"use strict";var t=this,e=t.$impl;this.TMsgDlgType={0:"mtWarning",mtWarning:0,1:"mtError",mtError:1,2:"mtInformation",mtInformation:2,3:"mtConfirmation",mtConfirmation:3,4:"mtCustom",mtCustom:4},t.$rtti.$Enum("TMsgDlgType",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TMsgDlgType}),this.TMsgDlgBtn={0:"mbYes",mbYes:0,1:"mbNo",mbNo:1,2:"mbOK",mbOK:2,3:"mbCancel",mbCancel:3,4:"mbAbort",mbAbort:4,5:"mbRetry",mbRetry:5,6:"mbIgnore",mbIgnore:6,7:"mbAll",mbAll:7,8:"mbNoToAll",mbNoToAll:8,9:"mbYesToAll",mbYesToAll:9,10:"mbHelp",mbHelp:10,11:"mbClose",mbClose:11},t.$rtti.$Enum("TMsgDlgBtn",{minvalue:0,maxvalue:11,ordtype:1,enumtype:this.TMsgDlgBtn}),t.$rtti.$Set("TMsgDlgButtons",{comptype:t.$rtti.TMsgDlgBtn}),rtl.createClass(t,"TCustomDialogButton",pas.Classes.TCollectionItem,function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FCaption="",this.FTag=0,this.FElementClassName=""};var t=this.$rtti;t.addProperty("Caption",0,rtl.string,"FCaption","FCaption"),t.addProperty("ElementClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","FElementClassName"),t.addProperty("Tag",0,rtl.longint,"FTag","FTag",{Default:0})}),rtl.createClass(t,"TCustomDialogButtons",pas.Classes.TOwnedCollection,function(){this.GetItem$1=function(t){return this.GetItem(t)}}),rtl.createClass(t,"TMessageDlg",pas["WEBLib.Controls"].TCustomControl,function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FOpacity=0,this.FLayer$1=null,this.FDlg=null,this.FCancel=null,this.FMessage="",this.FTitle="",this.FMsgDlgType=0,this.FOnButtonClick=null,this.FOnClose=null,this.FButtons={},this.FDialogProc=null,this.FDialogResult=0,this.FMdx=0,this.FMdy=0,this.FDlgX=0,this.FDlgY=0,this.FCaptured$1=!1,this.FDown=!1,this.FElementTitleClassName="",this.FElementButtonClassName="",this.FElementContentClassName="",this.FDialogText=null,this.FCustomButtons=null,this.FElementDialogClassName=""},this.$final=function(){this.FLayer$1=void 0,this.FDlg=void 0,this.FCancel=void 0,this.FOnButtonClick=void 0,this.FOnClose=void 0,this.FButtons=void 0,this.FDialogProc=void 0,this.FDialogText=void 0,this.FCustomButtons=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.SetDialogText=function(t){this.FDialogText.Assign(t)},this.SetCustomButtons=function(t){this.FCustomButtons.Assign(t)},this.CreateElement=function(){var t=null;return pas.Classes.TComponentStateItem.csDesigning in this.FComponentState?t=null:pas["WEBLib.Controls"].TCustomControl.CreateElement.call(this),t},this.GetDialogText=function(t){var e="";return e="Undefined",t<this.FDialogText.GetCount()&&(e=this.FDialogText.Get(t)),e},this.BindEvents=function(){},this.SetDialogResult=function(t){this.FDialogResult=t,0!==this.FDialogResult&&this.Close()},this.CreateButton=function(t,e,n){var i=null;return(i=document.createElement("BUTTON")).innerHTML=t,pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary===pas["WEBLib.Forms"].TCSSLibrary.cssBootstrap?(i.setAttribute("type","BUTTON"),i.setAttribute("class","btn "+n),i.setAttribute("data-dismiss","modal-dialog")):(i.style.setProperty("width","100px"),i.style.setProperty("margin-left","5px"),""!==this.FElementButtonClassName?i.setAttribute("class",this.FElementButtonClassName+" "+n):""!==pas["WEBLib.Forms"].Application.FThemeButtonClassName&&i.setAttribute("class",pas["WEBLib.Forms"].Application.FThemeButtonClassName+" "+n)),i.id=t,i.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),i.addEventListener("keydown",rtl.createCallback(this,"HandleKeyDown")),e.get()&&(setTimeout(function(){i.focus()},1),e.set(!1)),i},this.HandleDocMouseMove=function(t){var e=0,n=0,i=null;return this.FDown&&(e=t.screenX-this.FMdx,n=t.screenY-this.FMdy,(i=this.FDlg).style.setProperty("transform",""),i.style.setProperty("position","absolute"),i.style.setProperty("left",pas.SysUtils.IntToStr(Math.round(this.FDlgX+e))+"px"),i.style.setProperty("top",pas.SysUtils.IntToStr(Math.round(this.FDlgY+n))+"px"),(i=this.FCancel).style.setProperty("position","absolute"),i.style.setProperty("top","0"),i.style.setProperty("right","0")),!0,!0},this.HandleDocMouseUp=function(t){return this.FDown=!1,document.body.removeEventListener("mousemove",rtl.createCallback(this,"HandleDocMouseMove")),document.body.removeEventListener("mouseup",rtl.createCallback(this,"HandleDocMouseUp")),!0,!0},this.HandleMouseDown=function(t){var e;return this.FMdx=Math.round(t.screenX),this.FMdy=Math.round(t.screenY),e=this.FDlg.getBoundingClientRect(),this.FDlgX=Math.round(pas.System.Int(e.left)),this.FDlgY=Math.round(pas.System.Int(e.top)),this.FDown=!0,this.FCaptured$1||(this.FCaptured$1=!0,document.body.addEventListener("mousemove",rtl.createCallback(this,"HandleDocMouseMove")),document.body.addEventListener("mouseup",rtl.createCallback(this,"HandleDocMouseUp"))),!0,!0},this.HandleButtonClick=function(t){var e,n=0;if(this.SetDialogResult(0),(e=t.target.getAttribute("id"))===this.GetDialogText(7)?this.SetDialogResult(6):e===this.GetDialogText(8)?this.SetDialogResult(7):e===this.GetDialogText(5)?this.SetDialogResult(1):e===this.GetDialogText(6)?this.SetDialogResult(2):e===this.GetDialogText(9)?this.SetDialogResult(3):e===this.GetDialogText(10)?this.SetDialogResult(4):e===this.GetDialogText(11)?this.SetDialogResult(5):e===this.GetDialogText(12)?this.SetDialogResult(12):e===this.GetDialogText(13)?this.SetDialogResult(13):e===this.GetDialogText(14)?this.SetDialogResult(14):e===this.GetDialogText(15)?this.SetDialogResult(9):e===this.GetDialogText(16)&&this.SetDialogResult(8),0===this.FDialogResult&&this.FCustomButtons.GetCount()>0)for(var i=0,s=this.FCustomButtons.GetCount()-1;i<=s;i++)if(n=i,e===this.FCustomButtons.GetItem$1(n).FCaption){this.SetDialogResult(100+n);break}return null!=this.FOnButtonClick&&this.FOnButtonClick(this),!0,!0},this.HandleKeyDown=function(t){var e,n=!1;return e=this.GetKeyCode(t.key,!0),pas.System.Assigned(e)?(27===e&&this.SetDialogResult(2),n=!0):n},this.InitBootstrapStyle=function(){this.FElementButtonClassName="btn",this.FElementContentClassName="text-body",this.FElementTitleClassName="text-body",this.FElementDialogClassName="shadow-lg p-3 mb-5 bg-white rounded"},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FOpacity=.2,this.FMessage="",this.FMsgDlgType=t.TMsgDlgType.mtInformation,this.FDialogText=pas.Classes.TStringList.$create("Create$1"),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SWarning")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SError")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SInformation")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SConfirm")),this.FDialogText.Add("Custom"),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SOK")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SCancel")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SYes")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SNo")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SAbort")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SRetry")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SIgnore")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SYesToAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SNoToAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SHelp")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SClose")),this.FMsgDlgType=t.TMsgDlgType.mtCustom,this.FCustomButtons=t.TCustomDialogButtons.$create("Create$2",[this,t.TCustomDialogButton]),this.FCustomButtons.FPropName="CustomButtons"},this.Destroy=function(){rtl.free(this,"FDialogText"),rtl.free(this,"FCustomButtons"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.Close=function(){pas["WEBLib.Forms"].Application.UnLockForm(pas["WEBLib.Forms"].Application.FMainForm),document.body.removeChild(this.FLayer$1),document.body.removeChild(this.FDlg),this.FDown=!1,this.FCaptured$1=!1,null!=this.FOnClose&&this.FOnClose(this),null!=this.FDialogProc&&this.FDialogProc(this.FDialogResult)},this.Show=function(){var n=null,i=null,s=null,r=null,o=null,a=null,l=null,h=null,u=null,c=null,d=null,p=null,m="",F="",y="",g="",C="",f="",T="",S=!1,E=0;if(null!==pas["WEBLib.Forms"].Application&&null!==pas["WEBLib.Forms"].Application.FMainForm){pas["WEBLib.Forms"].Application.LockForm(pas["WEBLib.Forms"].Application.FMainForm),this.FLayer$1=document.createElement("SPAN"),document.body.appendChild(this.FLayer$1),this.FLayer$1.setAttribute("tabindex","0"),this.FLayer$1.addEventListener("keydown",rtl.createCallback(this,"HandleKeyDown")),S=!0,y=this.FTitle,this.FMessage=e.StringToHTML(this.FMessage);var v=this.FMsgDlgType;v===t.TMsgDlgType.mtWarning?(m="warning",F="orange",y=this.GetDialogText(0)):v===t.TMsgDlgType.mtError?(m="cancel",F="red",y=this.GetDialogText(1)):v===t.TMsgDlgType.mtInformation?(m="info",F="blue",y=this.GetDialogText(2)):v===t.TMsgDlgType.mtConfirmation?(m="help",F="blue",y=this.GetDialogText(3)):v===t.TMsgDlgType.mtCustom&&(m="",F="",y=this.GetDialogText(4)),pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary===pas["WEBLib.Forms"].TCSSLibrary.cssBootstrap?(this.FDlg=document.createElement("DIV"),this.FDlg.setAttribute("class","modal-dialog"),this.FDlg.setAttribute("role","document"),this.FDlg.style.setProperty("z-index","1999998"),(h=document.createElement("SPAN")).style.setProperty("position","absolute"),h.style.setProperty("top","0"),h.style.setProperty("left","0"),h.style.setProperty("right","0"),h.style.setProperty("bottom","0"),h.style.setProperty("z-index","1999997"),document.body.appendChild(h),h.appendChild(this.FDlg),d=this.FDlg,(c=document.createElement("DIV")).setAttribute("class","modal-content "+this.FElementDialogClassName),d.appendChild(c),p=c,d=c,(c=document.createElement("DIV")).setAttribute("class","modal-header"),p.appendChild(c),d=c,(c=document.createElement("H5")).setAttribute("class","modal-title"),c.innerHTML=y,d.appendChild(c),t.TMsgDlgBtn.mbCancel in this.FButtons&&((c=document.createElement("BUTTON")).setAttribute("type","button"),c.setAttribute("class","close"),c.setAttribute("data-dismiss","modal-dialog"),c.setAttribute("aria-label","Close"),c.setAttribute("id",this.GetDialogText(6)),c.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),d.appendChild(c),d=c,(c=document.createElement("SPAN")).setAttribute("aria-hidden","true"),c.innerHTML="&times;",d.appendChild(c)),(c=document.createElement("DIV")).setAttribute("class","modal-body"),p.appendChild(c),d=c,this.FMsgDlgType!==t.TMsgDlgType.mtCustom&&((s=document.createElement("SPAN")).innerHTML='<i class="material-icons" style="color:'+F+'!important;font-size:48px!important">'+m+"</i>",s.style.setProperty("display","inline-block"),s.style.setProperty("float","left"),s.style.setProperty("padding-right","15px"),d.appendChild(s)),(c=document.createElement("P")).innerHTML=this.FMessage,d.appendChild(c),(c=document.createElement("DIV")).setAttribute("class","modal-footer"),p.appendChild(c),a=d=c,this.FDlg=h):(T="5",f="26",C="#f1f1f1",g="#ababab",this.FDlg=document.createElement("DIV"),document.body.appendChild(this.FDlg),l=this.FDlg,""!==this.FElementDialogClassName&&l.setAttribute("class",this.FElementDialogClassName),l.style.setProperty("background-color","white"),l.style.setProperty("cursor","default"),l.style.setProperty("border","1px solid "+g),l.style.setProperty("position","fixed"),l.style.setProperty("font-family","Arial"),l.style.setProperty("font-size","10pt"),l.style.setProperty("min-width","300px"),l.style.setProperty("min-height","125px"),l.style.setProperty("max-width","100%"),l.style.setProperty("max-height","100%"),l.style.setProperty("top","50%"),l.style.setProperty("left","50%"),l.style.setProperty("transform","translate(-50%, -50%)"),l.style.setProperty("z-index","1999998"),l.style.setProperty("box-shadow","5px 5px 5px gray"),u=document.createElement("DIV"),this.FCancel=u,u.innerHTML='<i id="Cancel" class="material-icons" style="font-size:16px!important">clear</i>',u.id="Cancel",u.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeTextColor)),u.style.setProperty("position","fixed"),u.style.setProperty("top","0"),u.style.setProperty("right","0"),u.style.setProperty("padding",T+"px"),u.style.setProperty("height",f+"px"),u.style.setProperty("line-height",f+"px"),u.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),l.appendChild(u),(n=document.createElement("DIV")).innerHTML=y,""!==this.FElementTitleClassName?n.setAttribute("class",this.FElementTitleClassName):(n.style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeColor)),n.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeTextColor))),n.style.setProperty("cursor","move"),n.style.setProperty("padding-left",T+"px"),n.style.setProperty("height",f+"px"),n.style.setProperty("vertical-align","middle"),n.style.setProperty("line-height",f+"px"),n.style.setProperty("border-bottom","1px solid "+g),n.style.setProperty("-moz-user-select","none"),n.style.setProperty("-webkit-user-select","none"),n.style.setProperty("-ms-user-select","none"),n.style.setProperty("user-select","none"),n.style.setProperty("-o-user-select","none"),n.addEventListener("mousedown",rtl.createCallback(this,"HandleMouseDown")),l.appendChild(n),(i=document.createElement("DIV")).style.setProperty("padding",T+"px"),i.style.setProperty("height","auto"),i.style.setProperty("min-height","50px"),i.style.setProperty("border-bottom","1px solid "+g),this.FMsgDlgType!==t.TMsgDlgType.mtCustom&&((s=document.createElement("DIV")).innerHTML='<i class="material-icons" style="color:'+F+'!important;font-size:48px!important">'+m+"</i>",s.style.setProperty("display","inline-block"),s.style.setProperty("float","left"),s.style.setProperty("padding-right","15px"),i.appendChild(s)),this.FMessage=pas.SysUtils.StringReplace(this.FMessage,pas.System.sLineBreak,"<BR>",rtl.createSet(pas.SysUtils.TStringReplaceFlag.rfReplaceAll)),(o=document.createElement("DIV")).innerHTML=this.FMessage,o.style.setProperty("height","auto"),o.style.setProperty("min-height","50px"),o.style.setProperty("white-space","pre-wrap"),(r=document.createElement("LABEL")).innerHTML=this.FMessage,""!==this.FElementTitleClassName&&r.setAttribute("class",this.FElementContentClassName),o.appendChild(r),i.appendChild(r),l.appendChild(i),(a=document.createElement("DIV")).style.setProperty("background-color",C),a.style.setProperty("padding",T+"px"),a.style.setProperty("min-height",f+"px"),a.style.setProperty("height","auto"),a.style.setProperty("line-height",f+"px"),a.style.setProperty("text-align","right"),l.appendChild(a)),rtl.eqSet(this.FButtons,{})&&0===this.FCustomButtons.GetCount()?a.appendChild(this.CreateButton(this.GetDialogText(5),{get:function(){return S},set:function(t){S=t}},"")):(t.TMsgDlgBtn.mbYes in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(7),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbNo in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(8),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbOK in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(5),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbCancel in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(6),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbAbort in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(9),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbRetry in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(10),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbIgnore in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(11),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbAll in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(12),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbNoToAll in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(13),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbYesToAll in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(14),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbHelp in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(15),{get:function(){return S},set:function(t){S=t}},"")),t.TMsgDlgBtn.mbClose in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(16),{get:function(){return S},set:function(t){S=t}},"")));for(var L=0,b=this.FCustomButtons.GetCount()-1;L<=b;L++)E=L,a.appendChild(this.CreateButton(this.FCustomButtons.GetItem$1(E).FCaption,{get:function(){return S},set:function(t){S=t}},this.FCustomButtons.GetItem$1(E).FElementClassName));(h=this.FLayer$1).style.setProperty("background-color","black"),h.style.setProperty("opacity",pas["WEBLib.WebTools"].DoubleToHTML(this.FOpacity)),h.style.setProperty("top","0"),h.style.setProperty("left","0"),h.style.setProperty("right","0"),h.style.setProperty("bottom","0"),h.style.setProperty("z-index","19990"),h.style.setProperty("webkit-user-select","none"),h.style.setProperty("moz-user-select","none"),h.style.setProperty("khtml-user-select","none"),h.style.setProperty("ms-user-select","none"),h.style.setProperty("user-select","none"),h.style.setProperty("position","fixed")}},this.ShowDialog$1=function(t,e,n,i){return 0,this.FButtons=rtl.refSet(n),this.FMessage=t,this.FMsgDlgType=e,this.FDialogProc=i,this.SetDialogResult(0),this.Show(),0},rtl.addIntf(this,pas.System.IUnknown);var n=this.$rtti;n.addProperty("Buttons",0,t.$rtti.TMsgDlgButtons,"FButtons","FButtons",{Default:{}}),n.addProperty("CustomButtons",2,t.$rtti.TCustomDialogButtons,"FCustomButtons","SetCustomButtons"),n.addProperty("DialogText",2,pas.Classes.$rtti.TStringList,"FDialogText","SetDialogText"),n.addProperty("DialogType",0,t.$rtti.TMsgDlgType,"FMsgDlgType","FMsgDlgType",{Default:t.TMsgDlgType.mtCustom}),n.addProperty("Message",0,rtl.string,"FMessage","FMessage"),n.addProperty("Opacity",0,rtl.double,"FOpacity","FOpacity"),n.addProperty("ElementButtonClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementButtonClassName","FElementButtonClassName"),n.addProperty("ElementDialogClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementDialogClassName","FElementDialogClassName"),n.addProperty("ElementTitleClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementTitleClassName","FElementTitleClassName"),n.addProperty("ElementContentClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementContentClassName","FElementContentClassName"),n.addProperty("Title",0,rtl.string,"FTitle","FTitle"),n.addProperty("OnButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnButtonClick","FOnButtonClick"),n.addProperty("OnClose",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClose","FOnClose")}),this.MessageDlg=function(n,i,s,r){null==e.WebLibDlg&&(e.WebLibDlg=t.TMessageDlg.$create("Create$1",[null]),pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary===pas["WEBLib.Forms"].TCSSLibrary.cssBootstrap&&e.WebLibDlg.InitBootstrapStyle()),e.WebLibDlg.ShowDialog$1(n,i,rtl.refSet(s),r)},t.$init=function(){e.WebLibDlg=null}},["WEBLib.Forms","WEBLib.Consts","JS"],function(){"use strict";var t=this.$impl;t.WebLibDlg=null,t.StringToHTML=function(t){var e="";return e=pas.SysUtils.StringReplace(t,"\r","<BR>",rtl.createSet(pas.SysUtils.TStringReplaceFlag.rfReplaceAll)),e=pas.SysUtils.StringReplace(e,"\n","",rtl.createSet(pas.SysUtils.TStringReplaceFlag.rfReplaceAll))}}),rtl.module("WEBLib.Forms",["System","Classes","Types","SysUtils","WEBLib.Graphics","WEBLib.Controls","WEBLib.Lang","Web","JS"],function(){"use strict";var t=this,e=t.$impl;this.idOK=1,this.idCancel=2,this.idAbort=3,this.idRetry=4,this.idIgnore=5,this.idYes=6,this.idNo=7,this.idClose=8,this.idHelp=9,this.idContinue=11,this.mrNone=0,this.mrOk=1,this.mrCancel=2,this.mrAbort=3,this.mrRetry=4,this.mrIgnore=5,this.mrYes=6,this.mrNo=7,this.mrClose=8,this.mrHelp=9,this.mrContinue=11,this.mrAll=12,this.mrNoToAll=13,this.mrYesToAll=14,this.rgiFirst=-1024,this.igiLast=511,this.clTMSBlue=14917120,t.$rtti.$Int("TConstraintSize",{minvalue:0,maxvalue:2147483647,ordtype:5}),this.TCloseAction={0:"caNone",caNone:0,1:"caHide",caHide:1,2:"caFree",caFree:2,3:"caMinimize",caMinimize:3},t.$rtti.$Enum("TCloseAction",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TCloseAction}),this.TFormStyle={0:"fsNormal",fsNormal:0,1:"fsStayOnTop",fsStayOnTop:1},t.$rtti.$Enum("TFormStyle",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TFormStyle}),this.TBiDiMode={0:"bdLeftToRight",bdLeftToRight:0,1:"bdRightToLeft",bdRightToLeft:1,2:"bdRightToLeftNoAlign",bdRightToLeftNoAlign:2,3:"bdRightToLeftReadingOnly",bdRightToLeftReadingOnly:3},t.$rtti.$Enum("TBiDiMode",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TBiDiMode}),t.$rtti.$Int("TGestureID",{minvalue:-1024,maxvalue:511,ordtype:2}),this.TInteractiveGestureFlag={0:"gfBegin",gfBegin:0,1:"gfInertia",gfInertia:1,2:"gfEnd",gfEnd:2},t.$rtti.$Enum("TInteractiveGestureFlag",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TInteractiveGestureFlag}),t.$rtti.$Set("TInteractiveGestureFlags",{comptype:t.$rtti.TInteractiveGestureFlag}),this.TMouseActivate={0:"maDefault",maDefault:0,1:"maActivate",maActivate:1,2:"maActivateAndEat",maActivateAndEat:2,3:"maNoActivate",maNoActivate:3,4:"maNoActivateAndEat",maNoActivateAndEat:4},t.$rtti.$Enum("TMouseActivate",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TMouseActivate}),this.TScreenOrientation={0:"soPortrait",soPortrait:0,1:"soLandscape",soLandscape:1},t.$rtti.$Enum("TScreenOrientation",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TScreenOrientation}),rtl.recNewT(t,"TSmallPoint",function(){this.x=0,this.y=0,this.$eq=function(t){return this.x===t.x&&this.y===t.y},this.$assign=function(t){return this.x=t.x,this.y=t.y,this};var e=t.$rtti.$Record("TSmallPoint",{});e.addField("x",rtl.smallint),e.addField("y",rtl.smallint)}),rtl.recNewT(t,"TAlignInfo",function(){this.AlignList=null,this.ControlIndex=0,this.Align=0,this.Scratch=0,this.$eq=function(t){return this.AlignList===t.AlignList&&this.ControlIndex===t.ControlIndex&&this.Align===t.Align&&this.Scratch===t.Scratch},this.$assign=function(t){return this.AlignList=t.AlignList,this.ControlIndex=t.ControlIndex,this.Align=t.Align,this.Scratch=t.Scratch,this};var e=t.$rtti.$Record("TAlignInfo",{});e.addField("AlignList",pas.Classes.$rtti.TList),e.addField("ControlIndex",rtl.longint),e.addField("Align",pas["WEBLib.Controls"].$rtti.TAlign),e.addField("Scratch",rtl.longint)}),rtl.recNewT(t,"TGestureEventInfo",function(){this.GestureID=0,this.Angle=0,this.Distance=0,this.$new=function(){var e=Object.create(this);return e.Location=pas.Types.TPoint.$new(),e.Flags={},e.InertiaVector=t.TSmallPoint.$new(),e.TapLocation=t.TSmallPoint.$new(),e},this.$eq=function(t){return this.GestureID===t.GestureID&&this.Location.$eq(t.Location)&&rtl.eqSet(this.Flags,t.Flags)&&this.Angle===t.Angle&&this.InertiaVector.$eq(t.InertiaVector)&&this.Distance===t.Distance&&this.TapLocation.$eq(t.TapLocation)},this.$assign=function(t){return this.GestureID=t.GestureID,this.Location.$assign(t.Location),this.Flags=rtl.refSet(t.Flags),this.Angle=t.Angle,this.InertiaVector.$assign(t.InertiaVector),this.Distance=t.Distance,this.TapLocation.$assign(t.TapLocation),this};var e=t.$rtti.$Record("TGestureEventInfo",{});e.addField("GestureID",t.$rtti.TGestureID),e.addField("Location",pas.Types.$rtti.TPoint),e.addField("Flags",t.$rtti.TInteractiveGestureFlags),e.addField("Angle",rtl.double),e.addField("InertiaVector",t.$rtti.TSmallPoint),e.addField("Distance",rtl.longint),e.addField("TapLocation",t.$rtti.TSmallPoint)}),t.$rtti.$MethodVar("TCloseEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Action",t.$rtti.TCloseAction,1]]),methodkind:0}),t.$rtti.$MethodVar("TCloseQueryEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["CanClose",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TOrientationChangeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AOrientation",t.$rtti.TScreenOrientation]]),methodkind:0}),t.$rtti.$MethodVar("TAlignInsertBeforeEvent",{procsig:rtl.newTIProcSig([["Sender",pas["WEBLib.Controls"].$rtti.TWinControl],["C1",pas["WEBLib.Controls"].$rtti.TControl],["C2",pas["WEBLib.Controls"].$rtti.TControl]],rtl.boolean),methodkind:1}),t.$rtti.$MethodVar("TAlignPositionEvent",{procsig:rtl.newTIProcSig([["Sender",pas["WEBLib.Controls"].$rtti.TWinControl],["Control",pas["WEBLib.Controls"].$rtti.TControl],["NewLeft",rtl.longint,1],["NewTop",rtl.longint,1],["NewWidth",rtl.longint,1],["NewHeight",rtl.longint,1],["AlignRect",pas.Types.$rtti.TRect,1],["AlignInfo",t.$rtti.TAlignInfo]]),methodkind:0}),t.$rtti.$MethodVar("TCanResizeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["NewWidth",rtl.longint,1],["NewHeight",rtl.longint,1],["Resize",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TConstrainedResizeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["MinWidth",rtl.longint,1],["MinHeight",rtl.longint,1],["MaxWidth",rtl.longint,1],["MaxHeight",rtl.longint,1]]),methodkind:0}),t.$rtti.$MethodVar("TContextPopupEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TDockDropEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",t.$rtti.TDragDockObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),t.$rtti.$MethodVar("TDockOverEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",t.$rtti.TDragDockObject],["X",rtl.longint],["Y",rtl.longint],["State",pas["WEBLib.Controls"].$rtti.TDragState],["Accept",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TGestureEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["EventInfo",t.$rtti.TGestureEventInfo,2],["Handled",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TGetSiteInfoEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DockClient",pas["WEBLib.Controls"].$rtti.TControl],["InfluenceRect",pas.Types.$rtti.TRect,1],["MousePos",pas.Types.$rtti.TPoint],["CanDock",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TMouseActivateEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Button",pas["WEBLib.Controls"].$rtti.TMouseButton],["Shift",pas["WEBLib.Controls"].$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint],["HitTest",rtl.longint],["MouseActivate",t.$rtti.TMouseActivate,1]]),methodkind:0}),t.$rtti.$MethodVar("TMouseWheelUpDownEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas["WEBLib.Controls"].$rtti.TShiftState],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),t.$rtti.$MethodVar("TStartDockEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DragObject",t.$rtti.TDragDockObject,1]]),methodkind:0}),t.$rtti.$MethodVar("TUnDockEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Client",pas["WEBLib.Controls"].$rtti.TControl],["NewTarget",pas["WEBLib.Controls"].$rtti.TWinControl],["Allow",rtl.boolean,1]]),methodkind:0}),this.TPopupMode={0:"pmNone",pmNone:0,1:"pmAuto",pmAuto:1,2:"pmExplicit",pmExplicit:2},this.TPopupClose={0:"pcOnDeactivate",pcOnDeactivate:0,1:"pcNever",pcNever:1},this.TApplicationErrorType={0:"aeSilent",aeSilent:0,1:"aeDialog",aeDialog:1,2:"aeAlert",aeAlert:2,3:"aeFooter",aeFooter:3},this.TFormBorderStyle={0:"fbNone",fbNone:0,1:"fbSingle",fbSingle:1,2:"fbSizeable",fbSizeable:2,3:"fbDialog",fbDialog:3,4:"fbDialogSizeable",fbDialogSizeable:4},this.TCSSLibrary={0:"cssNone",cssNone:0,1:"cssBootstrap",cssBootstrap:1},t.$rtti.$Enum("TCSSLibrary",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TCSSLibrary}),rtl.createClass(t,"TCustomSizeConstraints",pas.Classes.TPersistent,function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FControl=null,this.FMaxHeight=0,this.FMaxWidth=0,this.FMinHeight=0,this.FMinWidth=0,this.FOnChange=null},this.$final=function(){this.FControl=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetConstraints=function(t,e){var n=t;0===n?e!==this.FMaxHeight&&(this.FMaxHeight=e,e>0&&e<this.FMinHeight&&(this.FMinHeight=e),this.Change()):1===n?e!==this.FMaxWidth&&(this.FMaxWidth=e,e>0&&e<this.FMinWidth&&(this.FMinWidth=e),this.Change()):2===n?e!==this.FMinHeight&&(this.FMinHeight=e,this.FMaxHeight>0&&e>this.FMaxHeight&&(this.FMaxHeight=e),this.Change()):3===n&&e!==this.FMinWidth&&(this.FMinWidth=e,this.FMaxWidth>0&&e>this.FMaxWidth&&(this.FMaxWidth=e),this.Change())},this.Change=function(){null!=this.FOnChange&&this.FOnChange(this)},this.AssignTo=function(e){t.TCustomSizeConstraints.isPrototypeOf(e)?(e.FMinHeight=this.FMinHeight,e.FMaxHeight=this.FMaxHeight,e.FMinWidth=this.FMinWidth,e.FMaxWidth=this.FMaxWidth,e.Change()):pas.Classes.TPersistent.AssignTo.call(this,e)},this.Create$1=function(t){return pas.System.TObject.Create.call(this),this.FControl=t,this}}),rtl.createClass(t,"TSizeConstraints",t.TCustomSizeConstraints,function(){var e=this.$rtti;e.addProperty("MaxHeight",18,t.$rtti.TConstraintSize,"FMaxHeight","SetConstraints",{index:0,Default:0}),e.addProperty("MaxWidth",18,t.$rtti.TConstraintSize,"FMaxWidth","SetConstraints",{index:1,Default:0}),e.addProperty("MinHeight",18,t.$rtti.TConstraintSize,"FMinHeight","SetConstraints",{index:2,Default:0}),e.addProperty("MinWidth",18,t.$rtti.TConstraintSize,"FMinWidth","SetConstraints",{index:3,Default:0})}),rtl.createClass(t,"TDragDockObject",pas.System.TObject,function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FBrush=null},this.$final=function(){this.FBrush=void 0,pas.System.TObject.$final.call(this)},this.Destroy=function(){rtl.free(this,"FBrush"),pas.System.TObject.Destroy.call(this)}}),rtl.createClass(t,"TCustomForm",pas["WEBLib.Controls"].TWinControl,function(){this.$init=function(){pas["WEBLib.Controls"].TWinControl.$init.call(this),this.FDesignContainer=null,this.FLayer$1=null,this.FPopup=!1,this.FPopupElement=null,this.FFormFileName="",this.FFormContainer="",this.FFormElement="",this.FFormStyle=0,this.FOnCreate=null,this.FOnResize$1=null,this.FOnShow=null,this.FModalResult=0,this.FOnPaint=null,this.FOnDeactivate=null,this.FOnCloseQuery=null,this.FOnClose=null,this.FModalProc=null,this.FCaption="",this.FIsResizing$1=!1,this.FOnScroll=null,this.FOnUnload=null,this.FOnBeforeUnload=null,this.FPopupMode=0,this.FPopupClose=0,this.FMdx=0,this.FMdy=0,this.FDlgX=0,this.FDlgY=0,this.FCaptured$1=!1,this.FDown=!1,this.FHasCaption=!1,this.FMoveSpan=null,this.FCaptionElement=null,this.FBorder=0,this.FShadow=!1,this.FTimerID=0,this.FOnDestroy=null,this.FPopupOpacity=0,this.FCreating=!1,this.FLoadedPtr=null,this.FUnloadPtr=null,this.FBeforeUnloadPtr=null,this.FResizePtr=null,this.FScrollPtr=null,this.FDocMouseUpPtr=null,this.FDocMouseMovePtr=null,this.FTitleDownPtr=null,this.FDoClickPtr=null,this.FKeyDownPtr$1=null,this.FOrientationChangePtr=null,this.FCSSLibrary=0,this.FNoHTML=!1,this.FPrevActiveForm=null,this.FElementCaptionClassName="",this.FMenu=null,this.FOnOrientationChange=null},this.$final=function(){this.FDesignContainer=void 0,this.FLayer$1=void 0,this.FPopupElement=void 0,this.FOnCreate=void 0,this.FOnResize$1=void 0,this.FOnShow=void 0,this.FOnPaint=void 0,this.FOnDeactivate=void 0,this.FOnCloseQuery=void 0,this.FOnClose=void 0,this.FModalProc=void 0,this.FOnScroll=void 0,this.FOnUnload=void 0,this.FOnBeforeUnload=void 0,this.FMoveSpan=void 0,this.FCaptionElement=void 0,this.FOnDestroy=void 0,this.FPrevActiveForm=void 0,this.FMenu=void 0,this.FOnOrientationChange=void 0,pas["WEBLib.Controls"].TWinControl.$final.call(this)},this.GetFormStyle=function(){return this.FFormStyle},this.SetFormStyle=function(t){this.FFormStyle=t},this.SetCaption=function(t){this.FCaption!==t&&(this.FCaption=t,this.UpdateElement())},this.SetFormContainer=function(t){var e;this.FFormContainer=t,null!=(e=document.getElementById(t))&&(this.FContainer=e)},this.SetWidth=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetWidth.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("width",pas.SysUtils.IntToStr(t)+"px")},this.SetHeight=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetHeight.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("height",pas.SysUtils.IntToStr(t)+"px")},this.HandleLoaded=function(t){return this.Resize$1(),this.InitAnchoring(),!0,!0},this.HandleScroll=function(t){return null!=this.FOnScroll&&this.FOnScroll(this),!0,!0},this.HandleUnload=function(t){return null!=this.FOnUnload&&this.FOnUnload(this),!0,!0},this.HandleBeforeUnload=function(t){var e="";return e="",null!=this.FOnBeforeUnload&&this.FOnBeforeUnload(this,{get:function(){return e},set:function(t){e=t}}),""!==e?(t.returnValue=e,e):(!0,!0)},this.HandleObserver=function(){return this.Resize$1(),!0,!0},this.HandleResize=function(t){return this.FVisible&&(null==this.GetContainer()&&this.CreateControl(),this.Resize$1()),!0,!0},this.HandleDocMouseMove=function(t){var e=0,n=0,i=null,s=0,r=0;return this.FDown&&(e=t.screenX-this.FMdx,n=t.screenY-this.FMdy,(i=this.FHasCaption?this.GetContainer().parentNode:this.GetContainer()).style.setProperty("transform",""),i.style.setProperty("position","absolute"),s=Math.round(this.FDlgX+e),r=Math.round(this.FDlgY+n),i.style.setProperty("left",pas.SysUtils.IntToStr(s)+"px"),i.style.setProperty("top",pas.SysUtils.IntToStr(r)+"px"),this.FLeft=s,this.FTop=r),!0,!0},this.HandleDocMouseUp=function(t){return this.FDown&&(this.FCaptured$1=!1,this.FDown=!1,document.body.removeEventListener("mousemove",this.FDocMouseMovePtr),document.body.removeEventListener("mouseup",this.FDocMouseUpPtr),null!=this.FMoveSpan&&document.body.removeChild(this.FMoveSpan),this.FMoveSpan=null),!0,!0},this.HandleTitleDown=function(e){var n=null;return e.stopPropagation(),e.preventDefault(),this.FPopupClose=t.TPopupClose.pcNever,this.FMdx=Math.round(e.screenX),this.FMdy=Math.round(e.screenY),n=this.FHasCaption?this.GetContainer().parentNode.getBoundingClientRect():this.GetContainer().getBoundingClientRect(),this.FDlgX=Math.round(pas.System.Int(n.left)),this.FDlgY=Math.round(pas.System.Int(n.top)),this.FDown=!0,this.FCaptured$1||(this.FCaptured$1=!0,this.FMoveSpan=document.createElement("SPAN"),this.FMoveSpan.style.setProperty("top","0"),this.FMoveSpan.style.setProperty("left","0"),this.FMoveSpan.style.setProperty("right","0"),this.FMoveSpan.style.setProperty("bottom","0"),this.FMoveSpan.style.setProperty("position","absolute"),document.body.appendChild(this.FMoveSpan),document.body.addEventListener("mousemove",this.FDocMouseMovePtr),document.body.addEventListener("mouseup",this.FDocMouseUpPtr)),!0,!0},this.SetLeft=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetLeft.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("left",pas.SysUtils.IntToStr(t)+"px")},this.SetTop=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetTop.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("top",pas.SysUtils.IntToStr(t)+"px")},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FLoadedPtr=null,this.FUnloadPtr=null,this.FBeforeUnloadPtr=null,this.FResizePtr=null,this.FScrollPtr=null,this.FDocMouseUpPtr=null,this.FDocMouseMovePtr=null,this.FTitleDownPtr=null,this.FDoClickPtr=null,this.FKeyDownPtr$1=null,this.FOrientationChangePtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),null===this.FLoadedPtr&&(this.FLoadedPtr=rtl.createCallback(this,"HandleLoaded"),this.FUnloadPtr=rtl.createCallback(this,"HandleUnload"),this.FBeforeUnloadPtr=rtl.createCallback(this,"HandleBeforeUnload"),this.FResizePtr=rtl.createCallback(this,"HandleResize"),this.FScrollPtr=rtl.createCallback(this,"HandleScroll"),this.FDocMouseUpPtr=rtl.createCallback(this,"HandleDocMouseUp"),this.FDocMouseMovePtr=rtl.createCallback(this,"HandleDocMouseMove"),this.FTitleDownPtr=rtl.createCallback(this,"HandleTitleDown"),this.FDoClickPtr=rtl.createCallback(this,"HandleDoClick$1"),this.FKeyDownPtr$1=rtl.createCallback(this,"HandleKeyDown"),this.FOrientationChangePtr=rtl.createCallback(this,"HandleOrientationChange"))},this.Resize$1=function(){var e=0,n=0,i=0,s=0,r=null;if(this.FIsResizing$1=!0,this.FPopup?(r=this.FPopupElement.getBoundingClientRect(),i=Math.round(r.right-r.left-2),this.FBorder in rtl.createSet(t.TFormBorderStyle.fbDialog,t.TFormBorderStyle.fbDialogSizeable)?(n=this.GetCaptionHeight(),s=Math.round(r.bottom-r.top-n-2)):s=Math.round(r.bottom-r.top-2)):(i=window.innerWidth,s=window.innerHeight),this.UpdateControlSize(i,s),this.AlignControl(this),this.DoResize(),this.FIsResizing$1=!1,!this.IsUpdating()){-1===this.FOrigRect.Left&&-1===this.FOrigRect.Top&&this.InitAnchoring();for(var o=0,a=this.GetControlsCount()-1;o<=a;o++)e=o,this.GetControls(e).UpdateAnchoring()}},this.CreateControl=function(){(this.FVisible||this.FPopup)&&pas["WEBLib.Controls"].TControl.CreateControl.call(this)},this.DoClose=function(e){null!=this.FModalProc&&e.get()!==t.TCloseAction.caNone&&(this.FModalProc(this.FModalResult),this.FModalProc=null)},this.BindEvents=function(){pas["WEBLib.Controls"].TControl.BindEvents.call(this),window.addEventListener("resize",this.FResizePtr),window.addEventListener("load",this.FLoadedPtr),document.addEventListener("scroll",this.FScrollPtr),window.addEventListener("unload",this.FUnloadPtr),window.addEventListener("beforeunload",this.FBeforeUnloadPtr),window.addEventListener("keydown",this.FKeyDownPtr$1),window.addEventListener("orientationchange",this.FOrientationChangePtr)},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.FLayer$1&&this.FPopupClose===t.TPopupClose.pcOnDeactivate&&this.FLayer$1.removeEventListener("click",this.FDoClickPtr),window.removeEventListener("resize",this.FResizePtr),window.removeEventListener("load",this.FLoadedPtr),document.removeEventListener("scroll",this.FScrollPtr),window.removeEventListener("unload",this.FUnloadPtr),window.removeEventListener("beforeunload",this.FBeforeUnloadPtr),window.removeEventListener("keywown",this.FKeyDownPtr$1),window.removeEventListener("orientationchange",this.FOrientationChangePtr)},this.DoCreate=function(){this.BeginUpdate(),this.LoadDFMValues(),this.Loaded(),null!=this.FOnCreate&&this.FOnCreate(this),this.FCreating=!1,this.EndUpdate(),this.UpdateChildren(this),this.AlignControl(this),this.DoResize()},this.DoResize=function(){null!=this.FOnResize$1&&this.FOnResize$1(this)},this.DoShow=function(){null!=this.FOnShow&&this.FOnShow(this)},this.HandleDoClick$1=function(e){return e.stopPropagation(),this.FPopupClose===t.TPopupClose.pcOnDeactivate&&this.Close(),!0,!0},this.HandleKeyDown=function(t){var e,n=!1;return e=this.GetKeyCode(t.key,!0),pas.System.Assigned(e)?(27!==e||pas.Classes.TComponentStateItem.csDesigning in this.FComponentState||this.Close(),n=!0):n},this.HandleOrientationChange=function(e){var n=0;(this.Resize$1(),this.Realign(),!0,null!=this.FOnOrientationChange)&&(n=window.matchMedia("(orientation: portrait)").matches?t.TScreenOrientation.soLandscape:t.TScreenOrientation.soPortrait,this.FOnOrientationChange(this,n));return null!=this.FOnResize$1&&this.FOnResize$1(this),!0},this.GetWidth=function(){var t=0,e=null,n=null;return""!==this.FFormElement&&null!=(n=document.getElementById(this.FFormElement))?(e=n.getBoundingClientRect(),t=Math.round(e.right-e.left)):(this.GetElementHandle()===document.body?t=window.innerWidth:this.FPopup?t=pas["WEBLib.Controls"].TControl.GetWidth.call(this):0===(t=Math.round(this.GetElementHandle().offsetWidth))&&(t=window.innerWidth),t)},this.GetHeight=function(){var t=0,e=0,n="",i=null,s=null;return""!==this.FFormElement&&null!=(i=document.getElementById(this.FFormElement))?(s=i.getBoundingClientRect(),t=Math.round(s.bottom-s.top)):(this.GetElementHandle()===document.body?(n=window.getComputedStyle(this.GetElementHandle()).getPropertyValue("margin-top"),n=pas.System.Copy(n,1,n.length-2),e=pas.SysUtils.StrToInt(n)-2,t=window.innerHeight-Math.max(0,e)):this.FPopup?t=pas["WEBLib.Controls"].TControl.GetHeight.call(this):0===(t=Math.round(this.GetElementHandle().offsetHeight))&&(t=window.innerHeight),t)},this.GetLeft=function(){var t=0,e=null,n=null;return this.FPopup?t=pas["WEBLib.Controls"].TControl.GetLeft.call(this):""!==this.FFormElement?null!=(e=document.getElementById(this.FFormElement))&&(n=e.getBoundingClientRect(),t=Math.round(n.left)):(e=null,""!==this.FFormContainer&&(e=document.getElementById(this.FFormContainer)),null==e&&(e=this.GetElementHandle()),t=Math.round(e.offsetLeft)),t},this.GetTop=function(){var t=0,e=null,n=null;return this.FPopup?t=pas["WEBLib.Controls"].TControl.GetTop.call(this):""!==this.FFormElement?null!=(e=document.getElementById(this.FFormElement))&&(n=e.getBoundingClientRect(),t=Math.round(n.top)):(e=null,""!==this.FFormContainer&&(e=document.getElementById(this.FFormContainer)),null==e&&(e=this.GetElementHandle()),t=Math.round(e.offsetTop)),t},this.GetClientRect=function(){var t=pas.Types.TRect.$new(),e=0;return t.$assign(pas["WEBLib.Controls"].TControl.GetClientRect.call(this)),this.FHasCaption&&(e=this.GetCaptionHeight()-2,t.Top=t.Top+e,t.Bottom=t.Bottom+e),t},this.CreateElement=function(){var e=null,n=null,i=null;return this.FPopup||null==this.FormContainerElement()?(e=document.createElement("DIV"),this.FLayer$1=this.CreateLayer(),document.body.appendChild(this.FLayer$1),n=this.FLayer$1,this.FPopupClose===t.TPopupClose.pcOnDeactivate&&(this.GetMethodPointers(),n.addEventListener("click",this.FDoClickPtr)),n.style.setProperty("z-index","999999"),this.FBorder===t.TFormBorderStyle.fbSizeable&&(e.style.setProperty("resize","both"),e.style.setProperty("overflow","auto")),this.FHasCaption=!1,this.FBorder in rtl.createSet(t.TFormBorderStyle.fbSizeable,t.TFormBorderStyle.fbDialog,t.TFormBorderStyle.fbDialogSizeable)&&(i=this.CreateCaption(),e.appendChild(i)),e):e=this.FormContainerElement()},this.UpdateElement=function(){var t="";this.FCreating||(pas["WEBLib.Controls"].TControl.UpdateElement.call(this),this.IsUpdating()||null!=this.GetElementHandle()&&(""!==this.FCaption&&(this.FPopup?null!=this.FCaptionElement&&(this.FCaptionElement.innerHTML=this.FCaption,pas["WEBLib.Controls"].SetHTMLElementFont(this.FCaptionElement,this.FFont,!(""===this.FElementCaptionClassName&&this.FElementFont===pas["WEBLib.Controls"].TElementFont.efProperty))):window.document.title=this.FCaption),t=pas["WEBLib.Graphics"].ColorToHTML(this.FColor),null!=this.GetContainer()&&(-1!==this.FColor&&""===this.FElementClassName&&this.GetContainer().style.setProperty(pas["WEBLib.Controls"].CSSBackground,t),""!==this.FElementClassName&&this.GetContainer().style.removeProperty(pas["WEBLib.Controls"].CSSBackground),""!==this.FElementClassName||this.FPopup||document.documentElement.style.setProperty("height","100%"),pas["WEBLib.Controls"].SetHTMLElementFont(this.GetContainer(),this.FFont,!(""===this.FElementClassName&&this.FElementFont===pas["WEBLib.Controls"].TElementFont.efProperty))),this.FPopup&&null==this.FormContainerElement()?(this.FShadow?this.GetElementHandle().style.setProperty("box-shadow","5px 5px 5px gray"):this.GetElementHandle().style.setProperty("box-shadow",""),this.GetElementHandle().style.setProperty("border","1px solid gray")):this.GetElementHandle().style.setProperty("box-shadow","")))},this.ContainerElement=function(){return this.FormContainerElement()},this.FormContainerElement=function(){var t=null;return pas.Classes.TComponentStateItem.csDesigning in this.FComponentState?t=null!=this.FDesignContainer?this.FDesignContainer:document.body:(""!==this.FFormContainer?null==(t=document.getElementById(this.FFormContainer))&&(t=document.body):t=document.body,t)},this.GetElementBindHandle=function(){return pas.Classes.TComponentStateItem.csDesigning in this.FComponentState?window:""!==this.FFormContainer?window:this.FPopup?pas["WEBLib.Controls"].TControl.GetElementBindHandle.call(this):window},this.GetElementHandle=function(){return this.FPopup?pas["WEBLib.Controls"].TControl.GetElementHandle.call(this):this.FormContainerElement()},this.SetElementClassName=function(t){pas["WEBLib.Controls"].TControl.SetElementClassName.apply(this,arguments),this.FPopup&&null!=this.FPopupElement&&this.FPopupElement.setAttribute("class",t)},this.CloseQuery=function(){var t=!1;return t=!0,null!=this.FOnCloseQuery&&this.FOnCloseQuery(this,{get:function(){return t},set:function(e){t=e}}),t},this.LoadDFMValues=function(){},this.Init=function(){},this.CreateLayer=function(){var t=null;return(t=document.createElement("SPAN")).style.setProperty("top","0"),t.style.setProperty("left","0"),t.style.setProperty("right","0"),t.style.setProperty("bottom","0"),t.style.setProperty("webkit-user-select","none"),t.style.setProperty("moz-user-select","none"),t.style.setProperty("khtml-user-select","none"),t.style.setProperty("ms-user-select","none"),t.style.setProperty("user-select","none"),t.style.setProperty("position","absolute"),t},this.CreateCaption=function(){return"22",this.FCaptionElement=document.createElement("DIV"),this.FCaptionElement.innerHTML=this.FCaption,this.FCaptionElement.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(t.Application.FThemeColor)),this.FCaptionElement.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(t.Application.FThemeTextColor)),this.FCaptionElement.style.setProperty("cursor","move"),this.FCaptionElement.style.setProperty("height","22px"),this.FCaptionElement.style.setProperty("line-height","22px"),this.FCaptionElement.style.setProperty("border-bottom","1px solid black"),this.FCaptionElement.style.setProperty("padding-left","4px"),this.FCaptionElement.style.setProperty("-moz-user-select","none"),this.FCaptionElement.style.setProperty("-webkit-user-select","none"),this.FCaptionElement.style.setProperty("-ms-user-select","none"),this.FCaptionElement.style.setProperty("user-select","none"),this.FCaptionElement.style.setProperty("-o-user-select","none"),""!==this.FElementCaptionClassName&&this.FCaptionElement.setAttribute("class",this.FElementCaptionClassName),pas["WEBLib.Controls"].SetHTMLElementFont(this.FCaptionElement,this.FFont,!(""===this.FElementCaptionClassName&&this.FElementFont===pas["WEBLib.Controls"].TElementFont.efProperty)),this.FCaptionElement.innerHTML=this.FCaption,this.FCaptionElement.addEventListener("mousedown",this.FTitleDownPtr),this.FHasCaption=!0,this.FCaptionElement},this.GetCaptionHeight=function(){var e=0,n=null;return e=0,null!=this.FCaptionElement&&this.FBorder in rtl.createSet(t.TFormBorderStyle.fbDialog,t.TFormBorderStyle.fbDialogSizeable)&&(n=this.FCaptionElement.getBoundingClientRect(),e=Math.round(n.bottom-n.top)),e},this.CreateInitialize=function(){pas["WEBLib.Controls"].TControl.CreateInitialize.call(this),this.FAllowTouch=!0,this.FModalResult=0,this.FFormStyle=t.TFormStyle.fsNormal,this.FBorder=t.TFormBorderStyle.fbSizeable,this.FShadow=!0,this.FTimerID=-1,this.FCaptionElement=null,this.SetColor(16777215),window.addEventListener("load",this.FLoadedPtr)},this.Create$2=function(e){return this.FNoHTML=!1,this.FCreating=!0,this.FFormContainer=e,pas["WEBLib.Controls"].TControl.Create$2.call(this,e),this.FFormElement="",this.FModalResult=0,this.FFormStyle=t.TFormStyle.fsNormal,this.DoCreate(),this},this.Create$5=function(e,n){return this.FCreating=!0,this.FFormContainer=e,pas["WEBLib.Controls"].TControl.Create$2.call(this,e),n.set(this),this.FFormElement="",this.FModalResult=0,this.FFormStyle=t.TFormStyle.fsNormal,this.DoCreate(),this},this.Create$1=function(e){return this.FNoHTML=!1,this.FCreating=!0,pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),this.FFormFileName="",this.FPopupMode=t.TPopupMode.pmNone,this.FPopupClose=t.TPopupClose.pcOnDeactivate,this.FPopup=!0,this.FPopupOpacity=1,this},this.Destroy=function(){this.FVisible&&this.Close(),null!=this.FOnDestroy&&this.FOnDestroy(this),pas["WEBLib.Controls"].TControl.Destroy.call(this),null!=this.FLayer$1&&(this.FormContainerElement()===this.FLayer$1.parentNode&&this.FormContainerElement().removeChild(this.FLayer$1),this.FLayer$1=null)},this.Close=function(){var n=0,i=null;this.CloseQuery()&&(this.UnbindEvents(),this.ClearControls(),n=t.TCloseAction.caHide,-1!==this.FTimerID&&(window.clearInterval(this.FTimerID),this.FTimerID=-1),null!=this.FOnClose&&this.FOnClose(this,{get:function(){return n},set:function(t){n=t}}),n!==t.TCloseAction.caNone&&(null!=this.FLayer$1&&(this.GetContainer().parentNode===this.FLayer$1?this.FLayer$1.removeChild(this.GetContainer()):this.GetContainer().parentNode.parentNode===this.FLayer$1&&this.FLayer$1.removeChild(this.GetContainer().parentNode),this.FContainer=null,this.FormContainerElement()===this.FLayer$1.parentNode&&this.FormContainerElement().removeChild(this.FLayer$1),this.FLayer$1=null),""===this.FFormFileName?""!==this.FFormElement&&null!=this.GetContainer()?(this.GetContainer().innerHTML="",this.FContainer=null):null!=this.GetContainer()&&(this.FormContainerElement()===this.GetContainer().parentNode&&this.FormContainerElement().removeChild(this.GetContainer()),this.FContainer=null):""!==this.FFormElement&&(this.GetContainer().innerHTML="",this.FContainer=null),this.FFormElement!==this.FFormContainer&&""!==this.FFormElement&&null!=(i=document.getElementById(this.FFormElement))&&(i.innerHTML=""),this.DoClose({get:function(){return n},set:function(t){n=t}}),n!==t.TCloseAction.caFree||pas.Classes.TComponentStateItem.csDestroying in this.FComponentState||(e.ReleaseForm(this),t.Application.FMainForm===this&&(t.Application.FMainForm=null)),t.Application.FActiveForm=this.FPrevActiveForm,this.SetVisible(!1)))},rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TForm",t.TCustomForm,function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("CSSLibrary",0,t.$rtti.TCSSLibrary,"FCSSLibrary","FCSSLibrary"),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("FormContainer",2,rtl.string,"FFormContainer","SetFormContainer"),e.addProperty("FormStyle",3,t.$rtti.TFormStyle,"GetFormStyle","SetFormStyle"),e.addProperty("Menu",0,pas["WEBLib.Controls"].$rtti.TCustomControl,"FMenu","FMenu"),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnClose",0,t.$rtti.TCloseEvent,"FOnClose","FOnClose"),e.addProperty("OnCloseQuery",0,t.$rtti.TCloseQueryEvent,"FOnCloseQuery","FOnCloseQuery"),e.addProperty("OnCreate",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnCreate","FOnCreate"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnDeactivate",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDeactivate","FOnDeactivate"),e.addProperty("OnDestroy",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDestroy","FOnDestroy"),e.addProperty("OnResize",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnResize$1","FOnResize$1"),e.addProperty("OnShow",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnShow","FOnShow"),e.addProperty("OnScroll",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnScroll","FOnScroll"),e.addProperty("OnOrientationChange",0,t.$rtti.TOrientationChangeEvent,"FOnOrientationChange","FOnOrientationChange"),e.addProperty("OnPaint",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnPaint","FOnPaint"),e.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),e.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),e.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),e.addProperty("OnUnload",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnUnload","FOnUnload")}),rtl.createClass(t,"TPopupMenu",pas.Classes.TComponent,function(){rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TTouchManager",pas.Classes.TComponent,function(){rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TCustomFrame",pas["WEBLib.Controls"].TCustomHTMLDiv,function(){this.$init=function(){pas["WEBLib.Controls"].TCustomHTMLDiv.$init.call(this),this.FAlign$1=0,this.FAutoScroll=!1,this.FAutoSize=!1,this.FBiDiMode=0,this.FConstraints=null,this.FCtl3D=!1,this.FDockSite=!1,this.FDragCursor=0,this.FDragKind=0,this.FDragMode=0,this.FOnAlignInsertBefore=null,this.FOnAlignPosition=null,this.FOnCanResize=null,this.FOnConstrainedResize=null,this.FOnContextPopup=null,this.FOnDockDrop=null,this.FOnDockOver=null,this.FOnEndDock=null,this.FOnGesture=null,this.FOnGetSiteInfo=null,this.FOnMouseActivate=null,this.FOnMouseWheelDown=null,this.FOnMouseWheelUp=null,this.FOnStartDock=null,this.FOnUnDock=null,this.FPadding=null,this.FParentBackground=!1,this.FParentBiDiMode=!1,this.FParentCtl3D=!1,this.FPopupMenu=null,this.FTouch=null,this.FTouchManager=null},this.$final=function(){this.FConstraints=void 0,this.FOnAlignInsertBefore=void 0,this.FOnAlignPosition=void 0,this.FOnCanResize=void 0,this.FOnConstrainedResize=void 0,this.FOnContextPopup=void 0,this.FOnDockDrop=void 0,this.FOnDockOver=void 0,this.FOnEndDock=void 0,this.FOnGesture=void 0,this.FOnGetSiteInfo=void 0,this.FOnMouseActivate=void 0,this.FOnMouseWheelDown=void 0,this.FOnMouseWheelUp=void 0,this.FOnStartDock=void 0,this.FOnUnDock=void 0,this.FPadding=void 0,this.FPopupMenu=void 0,this.FTouch=void 0,this.FTouchManager=void 0,pas["WEBLib.Controls"].TCustomHTMLDiv.$final.call(this)},this.setConstraints=function(t){this.FConstraints.Assign(t)},this.SetPopupMenu=function(t){this.FPopupMenu.Assign(t)},this.SetTouchManager=function(t){this.FTouchManager.Assign(t)},this.Create$1=function(e){return pas["WEBLib.Controls"].TControl.Create$1.call(this,e),this.FConstraints=t.TSizeConstraints.$create("Create$1",[this]),this.FPopupMenu=t.TPopupMenu.$create("Create$1",[this]),this.FTouchManager=t.TTouchManager.$create("Create$1",[this]),this},this.Destroy=function(){rtl.free(this,"FConstraints"),rtl.free(this,"FPopupMenu"),rtl.free(this,"FTouchManager"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TFrame",t.TCustomFrame,function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",0,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign$1","FAlign$1",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoScroll",0,rtl.boolean,"FAutoScroll","FAutoScroll",{Default:!1}),e.addProperty("AutoSize",0,rtl.boolean,"FAutoSize","FAutoSize",{Default:!1}),e.addProperty("BiDiMode",4,t.$rtti.TBiDiMode,"FBiDiMode","FBiDiMode"),e.addProperty("Constraints",2,t.$rtti.TSizeConstraints,"FConstraints","setConstraints"),e.addProperty("DockSite",0,rtl.boolean,"FDockSite","FDockSite",{Default:!1}),e.addProperty("DoubleBuffered",0,rtl.boolean,"FDoubleBuffered","FDoubleBuffered",{Default:!1}),e.addProperty("DragCursor",0,pas["WEBLib.Controls"].$rtti.TCursor,"FDragCursor","FDragCursor",{Default:12}),e.addProperty("DragKind",0,pas["WEBLib.Controls"].$rtti.TDragKind,"FDragKind","FDragKind",{Default:pas["WEBLib.Controls"].TDragKind.dkDrag}),e.addProperty("DragMode",0,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","FDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("Ctl3D",4,rtl.boolean,"FCtl3D","FCtl3D"),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Padding",0,pas["WEBLib.Controls"].$rtti.TPadding,"FPadding","FPadding"),e.addProperty("ParentBackground",0,rtl.boolean,"FParentBackground","FParentBackground",{Default:!0}),e.addProperty("ParentBiDiMode",0,rtl.boolean,"FParentBiDiMode","FParentBiDiMode",{Default:!0}),e.addProperty("ParentColor",2,rtl.boolean,"FParentColor","SetParentColor",{Default:!1}),e.addProperty("ParentCtl3D",0,rtl.boolean,"FParentCtl3D","FParentCtl3D",{Default:!0}),e.addProperty("ParentDoubleBuffered",0,rtl.boolean,"FParentDoubleBuffered","FParentDoubleBuffered",{Default:!0}),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("ParentShowHint",0,rtl.boolean,"FParentShowHint","FParentShowHint"),e.addProperty("PopupMenu",2,t.$rtti.TPopupMenu,"FPopupMenu","SetPopupMenu"),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Touch",2,t.$rtti.TTouchManager,"FTouch","SetTouchManager"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("OnAlignInsertBefore",0,t.$rtti.TAlignInsertBeforeEvent,"FOnAlignInsertBefore","FOnAlignInsertBefore"),e.addProperty("OnAlignPosition",0,t.$rtti.TAlignPositionEvent,"FOnAlignPosition","FOnAlignPosition"),e.addProperty("OnCanResize",0,t.$rtti.TCanResizeEvent,"FOnCanResize","FOnCanResize"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnConstrainedResize",0,t.$rtti.TConstrainedResizeEvent,"FOnConstrainedResize","FOnConstrainedResize"),e.addProperty("OnContextPopup",0,t.$rtti.TContextPopupEvent,"FOnContextPopup","FOnContextPopup"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnDockDrop",0,t.$rtti.TDockDropEvent,"FOnDockDrop","FOnDockDrop"),e.addProperty("OnDockOver",0,t.$rtti.TDockOverEvent,"FOnDockOver","FOnDockOver"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDock",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FOnEndDock","FOnEndDock"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnGesture",0,t.$rtti.TGestureEvent,"FOnGesture","FOnGesture"),e.addProperty("OnGetSiteInfo",0,t.$rtti.TGetSiteInfoEvent,"FOnGetSiteInfo","FOnGetSiteInfo"),e.addProperty("OnMouseActivate",0,t.$rtti.TMouseActivateEvent,"FOnMouseActivate","FOnMouseActivate"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),e.addProperty("OnMouseWheelDown",0,t.$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelDown","FOnMouseWheelDown"),e.addProperty("OnMouseWheelUp",0,t.$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelUp","FOnMouseWheelUp"),e.addProperty("OnResize",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnResize","FOnResize"),e.addProperty("OnStartDock",0,t.$rtti.TStartDockEvent,"FOnStartDock","FOnStartDock"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag"),e.addProperty("OnUnDock",0,t.$rtti.TUnDockEvent,"FOnUnDock","FOnUnDock")}),rtl.recNewT(t,"TAppplicationError",function(){this.AMessage="",this.AFile="",this.ALineNumber=0,this.AColNumber=0,this.AStack="",this.AError=null,this.$eq=function(t){return this.AMessage===t.AMessage&&this.AFile===t.AFile&&this.ALineNumber===t.ALineNumber&&this.AColNumber===t.AColNumber&&this.AStack===t.AStack&&this.AError===t.AError},this.$assign=function(t){return this.AMessage=t.AMessage,this.AFile=t.AFile,this.ALineNumber=t.ALineNumber,this.AColNumber=t.AColNumber,this.AStack=t.AStack,this.AError=t.AError,this}}),this.TOnlineStatus={0:"osOnline",osOnline:0,1:"osOffline",osOffline:1},rtl.createClass(t,"TApplication",pas["WEBLib.Controls"].TControl,function(){this.$init=function(){pas["WEBLib.Controls"].TControl.$init.call(this),this.FMainFormOnTaskBar=!1,this.FCanCreateForm=!1,this.FAppInitializing=!1,this.FLastReq=null,this.FActiveForm=null,this.FMainForm=null,this.FInitFormClassName="",this.FFormStack=null,this.FParameters=null,this.FIsRedirect=!1,this.FLanguage=0,this.FOnError=null,this.FOnHashChange=null,this.FAutoFormRoute=!1,this.FErrorType=0,this.FOnOnlineChange=null,this.FThemeTextColor=0,this.FThemeColor=0,this.FThemeButtonClassName="",this.FOnOAuthToken=null,this.FOnOAuthCallBack=null},this.$final=function(){this.FLastReq=void 0,this.FActiveForm=void 0,this.FMainForm=void 0,this.FFormStack=void 0,this.FParameters=void 0,this.FOnError=void 0,this.FOnHashChange=void 0,this.FOnOnlineChange=void 0,this.FOnOAuthToken=void 0,this.FOnOAuthCallBack=void 0,pas["WEBLib.Controls"].TControl.$final.call(this)},this.DoHandleError=function(e){var n,i=!1,s=t.TAppplicationError.$new(),r=null,o=null,a=null,l="";if(s.AMessage=e.message,s.AFile=e.filename,s.ALineNumber=e.lineno,s.AColNumber=e.colno,s.AError=e.error,s.AStack="",l="",null!=e.error){e.error.stack&&(s.AStack=e.error.stack),e.error.fMessage&&(s.AMessage=e.error.fMessage),l=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+"::"+t[n]+"\n");return e}(e.error)}i=!1,n="ERROR<br>"+s.AMessage+" | "+l+s.AStack+"<BR> at "+s.AFile+" ["+pas.SysUtils.IntToStr(s.ALineNumber)+":"+pas.SysUtils.IntToStr(s.AColNumber)+"]";var h=this.FErrorType;return h===t.TApplicationErrorType.aeFooter?null!=(r=document.getElementById("tmserrormessage"))?rtl.asExt(r.firstChild,HTMLElement).innerHTML=n:((r=document.createElement("DIV")).setAttribute("id","tmserrormessage"),r.style.setProperty("position","absolute"),r.style.setProperty("font-family","Courier"),r.style.setProperty("font-size","8pt"),r.style.setProperty("bottom","0"),r.style.setProperty("width","100%"),r.style.setProperty("height","100px"),r.style.setProperty("background","#ff0000"),r.style.setProperty("color","#ffffff"),document.body.style.setProperty("padding","0"),document.body.style.setProperty("margin","0"),(o=document.createElement("SPAN")).style.setProperty("margin-left","4px"),o.style.setProperty("float","left"),o.style.setProperty("overflow","hidden"),o.style.setProperty("display","block"),o.innerHTML=n,r.appendChild(o),(a=document.createElement("SPAN")).style.setProperty("font-family","Courier"),a.style.setProperty("font-size","8pt"),a.style.setProperty("font-weight","bold"),a.style.setProperty("position","absolute"),a.style.setProperty("width","20px"),a.style.setProperty("vertical-align","top"),a.style.setProperty("cursor","pointer"),a.style.setProperty("text-align","right"),a.style.setProperty("right","4px"),a.style.setProperty("display","block"),a.innerHTML="X",a.onclick=rtl.createCallback(this,"DoErrorClose"),r.appendChild(a),document.body.appendChild(r)):h===t.TApplicationErrorType.aeAlert?window.alert(n):h===t.TApplicationErrorType.aeDialog&&(this.AddControlLink("googlematerial","https://fonts.googleapis.com/icon?family=Material+Icons"),pas["WEBLib.Dialogs"].MessageDlg(n,pas["WEBLib.Dialogs"].TMsgDlgType.mtError,rtl.createSet(pas["WEBLib.Dialogs"].TMsgDlgBtn.mbOK),null)),null!=this.FOnError&&this.FOnError(this,t.TAppplicationError.$clone(s),{get:function(){return i},set:function(t){i=t}}),i},this.DoHashChange=function(t){var e="",n=null,i=null,s=null,r=!1;return!0,!this.FAutoFormRoute||(e=location.hash,pas.System.Delete({get:function(){return e},set:function(t){e=t}},1,1),r=!1,null!=this.FOnHashChange&&this.FOnHashChange(this,e,{get:function(){return r},set:function(t){r=t}}),!!r||(""===e&&(e=this.FInitFormClassName),""!==e&&(""===this.FInitFormClassName&&(this.FInitFormClassName=this.FActiveForm.$classname),null!=(n=pas.Classes.GetClass(e))&&(s=document.body,this.CreateForm$4(n,s,{get:function(){return i},set:function(t){i=t}}))),!0))},this.DoErrorClose=function(t){return document.body.removeChild(t.target.parentElement),!0,!0},this.DoUpdateOnlineStatus=function(e){return!0,null!=this.FOnOnlineChange&&(window.navigator.onLine?this.FOnOnlineChange(this,t.TOnlineStatus.osOnline):this.FOnOnlineChange(this,t.TOnlineStatus.osOffline)),!0},this.GetFormExtension=function(){return this.FLanguage!==pas["WEBLib.Lang"].TUILanguage.lNone?"_"+pas["WEBLib.Lang"].GetLanguageISO639_1Code(this.FLanguage)+e.cHTMLExt:e.cHTMLExt};var n='<!doctype html>\r\n<html lang="en">\r\n<head>\r\n  <title>Authentication Result</title>\r\n  <meta name="viewport" content="width=device-width, initial-scale=1">\r\n</head>\r\n<body>\r\n<style>\r\n  hr\r\n  {\r\n    border: none;\r\n    height: 1px;\r\n    background-color: rgb(171, 171, 171);\r\n  }\r\n  div.container\r\n  {\r\n    position: fixed;\r\n    font-family: Arial;\r\n    font-size: 12pt;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  div.section\r\n  {\r\n    display: inline-block;\r\n    margin: 15px;\r\n    padding: 5px;\r\n    float: left;\r\n  }\r\n  div.image img\r\n  {\r\n    height: 100%;\r\n  }\r\n  div.text\r\n  {\r\n    padding-top: 15px;\r\n  }\r\n  div.text2\r\n  {\r\n    font-size: 18pt;\r\n    color: #PLACEHOLDERCOLOR#;\r\n  }\r\n  span.title\r\n  {\r\n    font-size: 26px;\r\n  }\r\n</style>\r\n  <div class="container">\r\n  <div class="section image">\r\n    <img src="#PLACEHOLDERIMAGE#">\r\n  </div>\r\n  <div class="section text">\r\n  #PLACEHOLDERTEXT#\r\n  </div>\r\n  </div>\r\n </body>\r\n</html>';this.GetAuthorizationPageHTML=function(t){function e(t,e){var i=0,s="";s=n;for(var r=0,o=rtl.length(t)-1;r<=o;r++)i=r,s=pas.SysUtils.StringReplace(s,t[i],e[i],rtl.createSet(pas.SysUtils.TStringReplaceFlag.rfReplaceAll));return s}return e(["#PLACEHOLDERIMAGE#","#PLACEHOLDERTEXT#","#PLACEHOLDERCOLOR#"],t?["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACC0lEQVR4nO2Zv3GDMBSHv+QyQEbICM4EOW+Q9BS4o2QTU9LZBQNkg6zgETyCR0iRkOMIAv3Xk0+/zsiI931nI3iCkpKSkpKSkpKSkpJ7SDN0x2bo3nW//xCymNhphu4E1MAN2PdVe9k6524ETODHXIHXvmpva+c9BqwpWhbgAV6Ar61zsxeggB+z+x1XJmsBG/Bj6mboWtVgtvcATfhpPvqq/ZwfzFKABTwoVobsBFjCj7kyWxmyugc4wsPCypCNAA/wY/L7C3iEP/dVe5geEC8gJDwIFxAaHgQLiAEPQgXEggeBAmLCgzABseFBkIAU8CBEQCp4ECAgJTwYChibCzYXWpmv9jCVFTwYCJgVa31BxXwucapFS4CiWOsLS4EHDQEbxRoXIAkeNgRoFqtdiDR4WBFgWOxmQRLhQdEQsSi2bobuqBqUCg8LvwDHYg991Z49zjeNd3iYCfBU7J8E6fAAT7PPOw9znpqhA3hDODz8F7Dnp2vqKmJ1O8ogQeFh+R7wjB8JrgkOD4plUICEKPCw/hyQSkI0eNh+EowtISo86L0LxJIQHR703wZDS0gCD2b9gFASksGDeUfIt4Sk8GDRE/QoITk8WDZFPUgQAQ8OXWEHCWLgwbEtbiFBFDx42BcwkCAOHjxtjGhIEAkPHneGViSIhQfPW2MLEkTDQ4C9wYmEi3T4kpKSkm+5ax+YhPsUTQAAAABJRU5ErkJggg==",'<div class="text2">Application succesfully authorized</div>You can close this browser window',"rgb(104, 164, 144)"]:["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABtElEQVR4nO2bUY7CMAxEhz0NB+EgrDjXCg6yB+E4+9NKCAiN7XHcjf1+ED+Z6ahNHScFiqIoBNwvp+v9crpG+3hG6+sgFQFwXv7ejj+/31JBDyy+ugN4ElkJD8HqqyuAhohYjA3D12YAGyIiMSYsXx8D6BTpFmPB9NUMQCjSJcaA7ettAEqRTTErHr5eAjCKfBSz4OXryzhgizOzWCJd/Fs8HoFHzHeCtxf2JNgt3MMID8zXoMpAtDarEDIbidJklMJUQ6MDty6GNDSNRdxtluWwhReDUfONKADAx2jkZCsOAOAaXn4pY2let6oAAN/qTIG61lAHAOwmBFO1aQoACA/BXGqbAwDCQqCsOCkBAMNDoC23aQEAw0Kg9hqoAQDuIdAbLfQAALcQXFptLgEA9BDc+oxeLbF/Qz0C7AFTT4KpX4OpC6HUpXDqxVDq5fBOLn5lbEMkdUssdVM0dVs89cZI6q2x1JujqbfHUx+Q2MPFj/LidUqsKajB05NXS4y6Zl/GurHGe6QOSpLF5jgqqxSb67C0UGzO4/KdYnN/MLEhluOTmYZY+MWvDPU122dzRVHk5g+X6Lw5aVkK9AAAAABJRU5ErkJggg==",'<div class="text2">Application authorization failed</div><br/>Please try again.',"rgb(216, 99, 68)"])},this.ActivateChildScripts=function(t){!function t(e){if(!0===function(t){return"SCRIPT"===t.tagName}(e))e.parentNode.replaceChild(function(t){var e=document.createElement("script");e.text=t.innerHTML;for(var n=t.attributes.length-1;n>=0;n--)e.setAttribute(t.attributes[n].name,t.attributes[n].value);return e}(e),e);else for(var n=0,i=e.childNodes;n<i.length;)t(i[n++]);return e}(t)},this.LockForm=function(t){for(var e=0,n=0,i=t.GetControlsCount()-1;n<=i;n++)e=n,t.GetControls(e).DisableTab()},this.UnLockForm=function(t){for(var e=0,n=0,i=t.GetControlsCount()-1;n<=i;n++)e=n,t.GetControls(e).EnableTab()},this.Create$1=function(e){return this.FFormStack=pas.Classes.TList.$create("Create$1"),this.FParameters=pas.Classes.TStringList.$create("Create$1"),this.FMainForm=null,this.FActiveForm=null,this.FInitFormClassName="",this.FIsRedirect=!1,this.FAutoFormRoute=!1,this.FThemeColor=14917120,this.FThemeTextColor=16777215,window.addEventListener("error",rtl.createCallback(this,"DoHandleError")),this.FErrorType=t.TApplicationErrorType.aeSilent,alert("TMS WEB Core  2018 - 2020 tmssoftware.com - Trial Version"),this},this.Destroy=function(){rtl.free(this,"FFormStack"),rtl.free(this,"FParameters"),pas["WEBLib.Controls"].TControl.Destroy.call(this)},this.CreateForm=function(t,n){this.CreateForm$2(t,e.cBodyTag,n,null)},this.CreateForm$2=function(t,n,i,s){var r=this,o="";if(!r.FIsRedirect){if(r.FAppInitializing){if(!r.FCanCreateForm)return;r.FCanCreateForm=!1}o=t.$module.$name+r.GetFormExtension(),r.FLastReq=new XMLHttpRequest,r.FLastReq.addEventListener("load",function(a){var l,h,u=null,c=null;return l=a.target.responseText,(u=(h=n===e.cBodyTag)?document.body:document.getElementById(n)).innerHTML=l,(c=t.$create("Create$5",[n,i])).FFormFileName=o,""===c.FFormContainer&&c.SetFormContainer(n),h||(c.FFormElement=n,c.FContainer=u),c.CreateControl(),c.Init(),c.FPrevActiveForm=r.FActiveForm,r.FActiveForm=c,null===r.FMainForm&&(r.FMainForm=c),null!=s&&s(c),r.ActivateChildScripts(u),r.FActiveForm.DoShow(),r.FActiveForm.Resize$1(),!0}),r.FLastReq.open("GET",o),r.FLastReq.send()}},this.CreateForm$4=function(t,e,n){this.CreateForm$2(t,e.id,n,null)},this.Initialize=function(){var t,e,n="",i="";if(this.FCanCreateForm=!0,this.FAppInitializing=!0,this.FParameters.Clear(),n=window.location.href,this.InitFormatSettings(pas["WEBLib.WebTools"].GetBrowserLocale()),this.FParameters.SetDelimiter("&"),this.FParameters.FStrictDelimiter=!0,(t=pas.System.Pos("?",n))>0&&(n=pas.System.Copy(n,t+1,n.length)),this.FParameters.SetDelimitedText(n),e="Authentication"==window.name,-1!==this.FParameters.IndexOfName("oauthcallback")||e)return null!=this.FOnOAuthCallBack&&this.FOnOAuthCallBack(this,n),this.FIsRedirect=!0,void(document.body.innerHTML=this.GetAuthorizationPageHTML(!0));-1!==this.FParameters.IndexOfName("code")&&(null!=this.FOnOAuthToken&&this.FOnOAuthToken(this,n),this.FIsRedirect=!0,i=this.FParameters.GetValue("code"),window.opener&&window.opener.processAuthData&&(window.opener.processAuthData(i),window.close())),window.addEventListener("hashchange",rtl.createCallback(this,"DoHashChange")),window.addEventListener("online",rtl.createCallback(this,"DoUpdateOnlineStatus")),window.addEventListener("offline",rtl.createCallback(this,"DoUpdateOnlineStatus")),-1!==this.FParameters.IndexOfName("access_token")&&(this.FIsRedirect=!0,i=this.FParameters.GetValue("access_token"),window.opener.processAuthData(i),window.close())},this.InitFormatSettings=function(t){var e,n,i=0;n=t,pas.SysUtils.FormatSettings.SetShortDateFormat(pas["WEBLib.WebTools"].GetLocaleShortDateFormat(n)),pas.System.Pos("/",pas.SysUtils.FormatSettings.GetShortDateFormat())>0&&pas.SysUtils.FormatSettings.SetDateSeparator("/"),pas.System.Pos(".",pas.SysUtils.FormatSettings.GetShortDateFormat())>0&&pas.SysUtils.FormatSettings.SetDateSeparator("."),pas.System.Pos("-",pas.SysUtils.FormatSettings.GetShortDateFormat())>0&&pas.SysUtils.FormatSettings.SetDateSeparator("-");var s=new Date("Jan 1, 1980 06:07:08 GMT+00:00"),r="";for(r=""==n?navigator.language:n,e=s.toLocaleTimeString(r),pas.System.Pos(":",e)>0&&pas.SysUtils.FormatSettings.SetTimeSeparator(":"),pas.System.Pos(".",e)>0&&pas.SysUtils.FormatSettings.SetTimeSeparator("."),pas.System.Pos("-",e)>0&&pas.SysUtils.FormatSettings.SetTimeSeparator("-"),i=1;i<=7;i++)pas.SysUtils.ShortDayNames[i-1]=pas["WEBLib.WebTools"].GetLocaleShortDayName(i,n),pas.SysUtils.LongDayNames[i-1]=pas["WEBLib.WebTools"].GetLocaleLongDayName(i,n);for(i=1;i<=12;i++)pas.SysUtils.ShortMonthNames[i-1]=pas["WEBLib.WebTools"].GetLocaleShortMonthName(i,n),pas.SysUtils.LongMonthNames[i-1]=pas["WEBLib.WebTools"].GetLocaleLongMonthName(i,n);pas.SysUtils.FormatSettings.SetDecimalSeparator(pas["WEBLib.WebTools"].GetLocaleDecimalSeparator("")),"."===pas.SysUtils.FormatSettings.GetDecimalSeparator()?pas.SysUtils.FormatSettings.SetThousandSeparator(","):pas.SysUtils.FormatSettings.SetThousandSeparator(".")},this.Run=function(){this.FCanCreateForm=!0,this.FAppInitializing=!1},rtl.addIntf(this,pas.System.IUnknown)}),this.GetParentForm=function(e){var n=null,i=null;for(n=null,i=e;null!=i&&!t.TCustomForm.isPrototypeOf(i);)i=i.FOwner;return null!=i&&t.TCustomForm.isPrototypeOf(i)&&(n=rtl.as(i,t.TCustomForm)),n},this.Application=null,this.HandShakeScript=null,t.$init=function(){t.HandShakeScript=document.createElement("script"),t.HandShakeScript.id="HandShakeScript",t.HandShakeScript.type="text/javascript",t.HandShakeScript.innerHTML='var IDE = null;\r\nvar TMSWEBCoreClientIdentifier = "unknown";\r\nvar TMSWEBCoreOAuthCallback = "unknown";\r\nfunction HandShake(cid){\r\n  TMSWEBCoreClientIdentifier = cid;\r\n}',document.body.appendChild(t.HandShakeScript),t.Application=t.TApplication.$create("Create$1",[null])}},["WEBLib.Dialogs","WEBLib.WebTools","Math"],function(){"use strict";var t=this.$impl;t.cBodyTag="body",t.cHTMLExt=".html",t.ReleaseForm=function(t){t=rtl.freeLoc(t),t=null}}),rtl.module("WEBLib.StdCtrls",["System","Classes","WEBLib.Controls","SysUtils","Web","WEBLib.Graphics","Types","WEBLib.WebTools","WEBLib.Forms"],function(){"use strict";var t=this;this.TEllipsisPosition={0:"epEndEllipsis",epEndEllipsis:0,1:"epNone",epNone:1},t.$rtti.$Enum("TEllipsisPosition",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TEllipsisPosition}),this.TTextLayout={0:"tlTop",tlTop:0,1:"tlCenter",tlCenter:1,2:"tlBottom",tlBottom:2},t.$rtti.$Enum("TTextLayout",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTextLayout}),this.THTMLType={0:"tLABELTAG",tLABELTAG:0,1:"tSPAN",tSPAN:1,2:"tDIV",tDIV:2,3:"tH1",tH1:3,4:"tH2",tH2:4,5:"tH3",tH3:5,6:"tH4",tH4:6,7:"tH5",tH5:7,8:"tH6",tH6:8,9:"tP",tP:9},t.$rtti.$Enum("THTMLType",{minvalue:0,maxvalue:9,ordtype:1,enumtype:this.THTMLType}),rtl.createClass(t,"TCustomLabel",pas["WEBLib.Controls"].TCustomControl,function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FContent=null,this.FAutoSize=!1,this.FEllipsisPosition=0,this.FWordWrap=!1,this.FAlignment=0,this.FLayout=0,this.FTransparent=!1,this.FHTMLType=0,this.FFocusControl=null,this.FShowAccelChar=!1,this.FColor$1=0,this.FElementLabelClassName=""},this.$final=function(){this.FContent=void 0,this.FFocusControl=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.SetLayout=function(t){this.FLayout!==t&&(this.FLayout=t,this.UpdateElementVisual())},this.SetAlignment=function(t){this.FAlignment!==t&&(this.FAlignment=t,this.UpdateElementVisual())},this.GetContentHandle=function(){return this.FContent},this.SetTransparent=function(t){this.FTransparent!==t&&(this.FTransparent=t,this.UpdateElementVisual())},this.SetHTMLType=function(e){this.FHTMLType!==e&&(this.FHTMLType=e,this.FHTMLType in rtl.createSet(null,t.THTMLType.tH1,t.THTMLType.tH6)&&this.SetElementFont(pas["WEBLib.Controls"].TElementFont.efCSS),null!=this.GetElementHandle()&&null!=this.FContent&&(this.GetElementHandle().removeChild(this.FContent),this.FContent=this.CreateLabelElement(),this.GetElementHandle().appendChild(this.FContent),this.UpdateElement()))},this.SetColorEx=function(t){this.FColor$1=t,pas.Classes.TComponentStateItem.csDesigning in this.FComponentState&&16777215!==this.FColor$1&&this.SetTransparent(!1),this.UpdateElement()},this.SetElementLabelClassName=function(t){this.FElementLabelClassName!==t&&(this.FElementLabelClassName=t,this.UpdateElement())},this.GetOuterWidth=function(){return this.GetWidth()},this.GetOuterHeight=function(){return this.GetHeight()},this.CreateElement=function(){var t=null;return t=document.createElement("DIV"),this.FContent=this.CreateLabelElement(),t.appendChild(this.FContent),t},this.CreateLabelElement=function(){var e=null;e=null;var n=this.FHTMLType;return n===t.THTMLType.tSPAN?e=document.createElement("SPAN"):n===t.THTMLType.tDIV?e=document.createElement("DIV"):n===t.THTMLType.tH1?e=document.createElement("H1"):n===t.THTMLType.tH2?e=document.createElement("H2"):n===t.THTMLType.tH3?e=document.createElement("H3"):n===t.THTMLType.tH4?e=document.createElement("H4"):n===t.THTMLType.tH5?e=document.createElement("H5"):n===t.THTMLType.tH6?e=document.createElement("H6"):n===t.THTMLType.tLABELTAG?e=document.createElement("LABEL"):n===t.THTMLType.tP&&(e=document.createElement("P")),e},this.GetDisplayText=function(){return this.FCaption},this.CanShowFocus=function(){return!1,!1},this.BindElement=function(){this.FContent=this.GetContainer().firstElementChild},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.FShowAccelChar&&null!=this.FFocusControl&&this.UpdateElementData()},this.UpdateAutoSize=function(){this.FAutoSize&&(null!=this.GetElementHandle()&&this.FAlign===pas["WEBLib.Controls"].TAlign.alNone&&(this.SetWidth(-1),this.SetHeight(-1)),this.FEllipsisPosition=t.TEllipsisPosition.epNone)},this.UpdateElementData=function(){var t="",e="";pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),e="",t=this.FShowAccelChar?pas["WEBLib.WebTools"].ProcessAccelerator(this.GetDisplayText(),{get:function(){return e},set:function(t){e=t}}):this.GetDisplayText(),this.GetIsLinked()&&""===t||(null!=this.GetContentHandle()?this.GetContentHandle().innerHTML=t:this.GetElementHandle().innerHTML=t,""!==e&&null!=this.FFocusControl&&(this.GetContentHandle().setAttribute("accesskey",e),this.GetContentHandle().setAttribute("for",this.FFocusControl.GetID())))},this.UpdateElementVisual=function(){if(pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),!this.IsUpdating()&&(null!=this.GetElementHandle()&&(this.FVisible&&!this.FAutoSize&&this.GetElementHandle().style.setProperty("display","table"),this.GetElementHandle().setAttribute("zindex","1"),!this.FAutoSize||this.FAlign!==pas["WEBLib.Controls"].TAlign.alNone||pas.Classes.TComponentStateItem.csDesigning in this.FComponentState?this.GetElementHandle().style.setProperty("overflow","hidden"):this.GetElementHandle().style.setProperty("overflow","")),null!=this.GetContentHandle())){var e=this.FLayout;e===t.TTextLayout.tlTop?this.GetContentHandle().style.setProperty("vertical-align","top"):e===t.TTextLayout.tlCenter?this.GetContentHandle().style.setProperty("vertical-align","middle"):e===t.TTextLayout.tlBottom&&this.GetContentHandle().style.setProperty("vertical-align","bottom");var n=this.FAlignment;n===pas.Classes.TAlignment.taCenter?this.GetContentHandle().style.setProperty("text-align","center"):n===pas.Classes.TAlignment.taRightJustify&&this.GetContentHandle().style.setProperty("text-align","right"),pas["WEBLib.Controls"].SetHTMLElementColor(this.GetElementHandle(),this.FColor$1,this.FTransparent&&(16777215===this.FColor$1||-1===this.FColor$1)),pas["WEBLib.Controls"].SetHTMLElementColor(this.GetContentHandle(),this.FColor$1,this.FTransparent&&(16777215===this.FColor$1||-1===this.FColor$1)),this.GetContentHandle().style.setProperty("display","table-cell"),""===this.FElementClassName&&(this.FEnabled&&this.FElementFont===pas["WEBLib.Controls"].TElementFont.efProperty&&!this.GetIsLinked()?this.GetContentHandle().style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FFont.FColor)):this.GetContentHandle().style.removeProperty("color"),this.SetElementPointer(this.GetContentHandle(),this.FCursor),pas["WEBLib.Controls"].SetHTMLElementFont(this.GetContentHandle(),this.FFont,!(this.FElementFont===pas["WEBLib.Controls"].TElementFont.efProperty&&!this.GetIsLinked()))),""!==this.FElementLabelClassName?this.GetContentHandle().setAttribute("class",this.FElementLabelClassName):this.GetContentHandle().removeAttribute("class"),this.FElementPosition===pas["WEBLib.Controls"].TElementPosition.epAbsolute||this.FWidthStyle===pas["WEBLib.Controls"].TSizeStyle.ssAbsolute?this.FEllipsisPosition===t.TEllipsisPosition.epNone?this.GetContentHandle().style.setProperty("text-overflow","clip"):this.GetContentHandle().style.setProperty("text-overflow","ellipsis"):this.GetContentHandle().style.removeProperty("text-overflow"),this.FWordWrap?this.GetContentHandle().style.setProperty("white-space","normal"):this.GetContentHandle().style.setProperty("white-space","nowrap"),this.GetElementHandle().style.setProperty("user-select",""),0===this.FCursor&&this.GetElementHandle().style.setProperty("cursor",""),!this.FAutoSize||this.FAlign!==pas["WEBLib.Controls"].TAlign.alNone||pas.Classes.TComponentStateItem.csDesigning in this.FComponentState||(this.GetElementHandle().style.removeProperty("width"),this.GetElementHandle().style.removeProperty("height"))}},this.UpdateElementSize=function(){pas["WEBLib.Controls"].TControl.UpdateElementSize.call(this),this.FAutoSize&&null!=this.GetElementHandle()&&(pas.Classes.TComponentStateItem.csDesigning in this.FComponentState||(this.GetElementHandle().style.removeProperty("width"),this.GetElementHandle().style.removeProperty("height")))},this.SetAutoSize=function(t){this.FAutoSize!==t&&(this.FAutoSize=t,this.UpdateAutoSize(),this.UpdateElement())},this.SetCaption=function(t){this.FCaption!==t&&(pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),this.UpdateAutoSize(),this.UpdateElement())},this.SetEllipsisPosition=function(e){this.FEllipsisPosition!==e&&(this.FEllipsisPosition=e,this.FEllipsisPosition!==t.TEllipsisPosition.epNone&&(this.FAutoSize=!1),this.UpdateElement())},this.GetWidth=function(){var t=0;return!this.FAutoSize||null==this.GetElementHandle()||null==this.FParent||pas.Classes.TComponentStateItem.csDesigning in this.FComponentState?t=pas["WEBLib.Controls"].TControl.GetWidth.call(this):0===(t=Math.round(this.GetElementHandle().offsetWidth))&&(t=pas["WEBLib.Controls"].TControl.GetWidth.call(this)),t},this.GetHeight=function(){var t=0;return!this.FAutoSize||null==this.GetElementHandle()||null==this.FParent||pas.Classes.TComponentStateItem.csDesigning in this.FComponentState?t=pas["WEBLib.Controls"].TControl.GetHeight.call(this):0===(t=Math.round(this.GetElementHandle().offsetHeight))&&(t=pas["WEBLib.Controls"].TControl.GetHeight.call(this)),t},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FAutoSize=!0,this.FLayout=t.TTextLayout.tlTop,this.FEllipsisPosition=t.TEllipsisPosition.epNone,this.FColor$1=16777215,this.FTransparent=!0,this.FAlignment=pas.Classes.TAlignment.taLeftJustify,this.SetTabStop(!1),this.FShowAccelChar=!0},rtl.addIntf(this,pas.System.IUnknown)}),rtl.createClass(t,"TLabel",t.TCustomLabel,function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:pas.Classes.TAlignment.taLeftJustify}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize",{Default:!0}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx"),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor$1","SetColorEx",{Default:16777215}),e.addProperty("EllipsisPosition",2,t.$rtti.TEllipsisPosition,"FEllipsisPosition","SetEllipsisPosition",{Default:t.TEllipsisPosition.epNone}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementLabelClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementLabelClassName","SetElementLabelClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("FocusControl",0,pas["WEBLib.Controls"].$rtti.TWinControl,"FFocusControl","FFocusControl"),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,pas["WEBLib.Controls"].$rtti.TPercentSize,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("HTMLType",2,t.$rtti.THTMLType,"FHTMLType","SetHTMLType",{Default:t.THTMLType.tLABELTAG}),e.addProperty("Layout",2,t.$rtti.TTextLayout,"FLayout","SetLayout",{Default:t.TTextLayout.tlTop}),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("ShowAccelChar",0,rtl.boolean,"FShowAccelChar","FShowAccelChar",{Default:!0}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection"),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Transparent",2,rtl.boolean,"FTransparent","SetTransparent",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,pas["WEBLib.Controls"].$rtti.TPercentSize,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("WordWrap",0,rtl.boolean,"FWordWrap","FWordWrap",{Default:!1}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),e.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),e.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),e.addProperty("OnTouchCancel",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchCancel","FOnTouchCancel")})}),rtl.module("Unit1",["System","SysUtils","Classes","JS","Web","WEBLib.Graphics","WEBLib.Controls","WEBLib.Forms","WEBLib.Dialogs","WEBLib.StdCtrls"],function(){"use strict";rtl.createClass(this,"TForm1",pas["WEBLib.Forms"].TForm,function(){this.$init=function(){pas["WEBLib.Forms"].TForm.$init.call(this),this.WebLabel1=null},this.$final=function(){this.WebLabel1=void 0,pas["WEBLib.Forms"].TForm.$final.call(this)},this.LoadDFMValues=function(){pas["WEBLib.Forms"].TCustomForm.LoadDFMValues.call(this),this.WebLabel1=pas["WEBLib.StdCtrls"].TLabel.$create("Create$1",[this]),this.WebLabel1.BeforeLoadDFMValues();try{this.SetName("Form1"),this.SetLeft(0),this.SetTop(0),this.SetWidth(640),this.SetHeight(480),this.FFont.FCharset=1,this.FFont.SetColor(65793),this.FFont.SetHeight(-11),this.FFont.SetName("Arial"),this.FFont.SetStyle({}),this.SetTabOrder(1),this.WebLabel1.SetParentComponent(this),this.WebLabel1.SetName("WebLabel1"),this.WebLabel1.SetLeft(176),this.WebLabel1.SetTop(232),this.WebLabel1.SetWidth(53),this.WebLabel1.SetHeight(14),this.WebLabel1.SetCaption("hello world")}finally{this.WebLabel1.AfterLoadDFMValues()}},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addField("WebLabel1",pas["WEBLib.StdCtrls"].$rtti.TLabel)}),this.Form1=null}),rtl.module("program",["System","WEBLib.Forms","Unit1"],function(){"use strict";this.$main=function(){pas["WEBLib.Forms"].Application.Initialize(),pas["WEBLib.Forms"].Application.FMainFormOnTaskBar=!0,pas["WEBLib.Forms"].Application.CreateForm(pas.Unit1.TForm1,{p:pas.Unit1,get:function(){return this.p.Form1},set:function(t){this.p.Form1=t}}),pas["WEBLib.Forms"].Application.Run()}});